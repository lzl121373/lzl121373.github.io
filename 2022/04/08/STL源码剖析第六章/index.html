<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>&lt;STLæºç å‰–æ&gt;ç¬¬å…­ç« â€”â€”ç®—æ³• | ğŸ˜Š</title><meta name="keywords" content="STL,STLæºç å‰–æ,ç®—æ³•"><meta name="author" content="lzl121373"><meta name="copyright" content="lzl121373"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ç¬¬å…­ç« è¯»ä¹¦ç¬”è®°ï¼Œå„ç§ç®—æ³•å®ç°">
<meta property="og:type" content="article">
<meta property="og:title" content="&lt;STLæºç å‰–æ&gt;ç¬¬å…­ç« â€”â€”ç®—æ³•">
<meta property="og:url" content="http://example.com/2022/04/08/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%85%AD%E7%AB%A0/index.html">
<meta property="og:site_name" content="ğŸ˜Š">
<meta property="og:description" content="ç¬¬å…­ç« è¯»ä¹¦ç¬”è®°ï¼Œå„ç§ç®—æ³•å®ç°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg">
<meta property="article:published_time" content="2022-04-07T16:00:00.000Z">
<meta property="article:modified_time" content="2022-05-08T16:00:00.000Z">
<meta property="article:author" content="lzl121373">
<meta property="article:tag" content="STL">
<meta property="article:tag" content="STLæºç å‰–æ">
<meta property="article:tag" content="ç®—æ³•">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/04/08/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%85%AD%E7%AB%A0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '<STLæºç å‰–æ>ç¬¬å…­ç« â€”â€”ç®—æ³•',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-09 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ğŸ˜Š" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">51</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-images"></i><span> Photo</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ğŸ˜Š</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-images"></i><span> Photo</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">&lt;STLæºç å‰–æ&gt;ç¬¬å…­ç« â€”â€”ç®—æ³•</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-04-07T16:00:00.000Z" title="å‘è¡¨äº 2022-04-08 00:00:00">2022-04-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-05-08T16:00:00.000Z" title="æ›´æ–°äº 2022-05-09 00:00:00">2022-05-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">STLæºç å‰–æè¯»ä¹¦ç¬”è®°</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">21.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>87åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="&lt;STLæºç å‰–æ&gt;ç¬¬å…­ç« â€”â€”ç®—æ³•"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><h3 id="æ•°å€¼ç®—æ³•-lt-stl-numeric-h-gt"><a href="#æ•°å€¼ç®—æ³•-lt-stl-numeric-h-gt" class="headerlink" title="æ•°å€¼ç®—æ³•&lt;stl_numeric.h&gt;"></a>æ•°å€¼ç®—æ³•&lt;stl_numeric.h&gt;</h3><h4 id="accumulate"><a href="#accumulate" class="headerlink" title="accumulate"></a>accumulate</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬1</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">accumulate</span><span class="params">(InputIterator first, InputIterator last, T init)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)</span><br><span class="line">		init = init + *first; <span class="comment">//å°†æ¯ä¸ªå…ƒç´ å€¼ç´¯åŠ åˆ°åˆå€¼initèº«ä¸Š</span></span><br><span class="line">		<span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç‰ˆæœ¬2</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">BinaryOperation</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">accumulate</span><span class="params">(InputIterator first, InputIterator last, T init, BinaryOperation binary_op)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span>( ; first != last; ++first)</span><br><span class="line">		init = <span class="built_in">binary_op</span>(init, *first); <span class="comment">//å¯¹æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡ŒäºŒå…ƒæ“ä½œ</span></span><br><span class="line">	<span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¼ä¸­çš„äºŒå…ƒæ“ä½œç¬¦ä¸å¿…æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹ã€‚</p>
<h4 id="adjacent-difference"><a href="#adjacent-difference" class="headerlink" title="adjacent_difference"></a>adjacent_difference</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬1</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">adjacent_difference</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> result;</span><br><span class="line">	*result = *first;	<span class="comment">//é¦–å…ˆè®°å½•ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">	<span class="keyword">return</span> __adjacent_difference(first, last, result, <span class="built_in">value_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">OutputIterator __adjacent_difference(InputIterator first, InputIterator last, OutputIterator result, T*) &#123;</span><br><span class="line">	T value = *first;</span><br><span class="line">	<span class="keyword">while</span> (++first != last) &#123;   <span class="comment">//èµ°è¿‡æ•´ä¸ªåŒºé—´</span></span><br><span class="line">		T tmp = *first;</span><br><span class="line">		*++result = tmp - value;	<span class="comment">//å°†ç›¸é‚»ä¸¤å…ƒç´ çš„å·®é¢ï¼ˆå-å‰ï¼‰ï¼Œèµ‹å€¼ç»™ç›®çš„ç«¯</span></span><br><span class="line">		value = tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ++result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬2</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">BinaryOperation</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">adjacent_difference</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result, BinaryOperation binary_op)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> result;</span><br><span class="line">	*result = *first;	<span class="comment">//é¦–å…ˆè®°å½•ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">	<span class="keyword">return</span> __adjacent_difference(first, last, result, <span class="built_in">value_type</span>(first), 								binary_op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>ï¼Œ <span class="keyword">class</span> <span class="title class_">BinaryOperation</span>&gt;</span><br><span class="line">OutputIterator __adjacent_difference(InputIterator first, InputIterator last, OutputIterator result, T*, BinaryOperation binary_op) &#123;</span><br><span class="line">	T value = *first;	</span><br><span class="line">	<span class="keyword">while</span> (++first != last) &#123;	<span class="comment">//èµ°è¿‡æ•´ä¸ªåŒºé—´</span></span><br><span class="line">		T tmp = *first;</span><br><span class="line">		*++result = <span class="built_in">binary_op</span>(tmp, value); <span class="comment">//å°†ç›¸é‚»ä¸¤å…ƒç´ çš„è¿ç®—ç»“æœï¼Œèµ‹å€¼ç»™ç›®çš„ç«¯</span></span><br><span class="line">		value = tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ++result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®—æ³•adjacent_differenceç”¨æ¥è®¡ç®—[first, last)ä¸­ç›¸é‚»å…ƒç´ çš„å·®é¢ã€‚</p>
<p>å¦‚æœåŠ æ³•ä¸å‡æ³•çš„å®šä¹‰ä¸€å¦‚å¸¸è§„å®šä¹‰ï¼Œé‚£ä¹ˆadjacent_differenceä¸partial_sumï¼ˆç¨åä»‹ç»ï¼‰äº’ä¸ºé€†è¿ç®—ã€‚è¿™æ„æ€æ˜¯ï¼Œå¦‚æœå¯¹åŒºé—´å€¼1,2,3,4,5æ‰§è¡Œadjacent_differenceï¼Œè·å¾—ç»“æœä¸º1,1,1,1,1ï¼Œå†å¯¹æ­¤ç»“æœæ‰§è¡Œpartial_sumï¼Œä¾¿ä¼šè·å¾—åŸå§‹åŒºé—´å€¼1,2,3,4,5ã€‚</p>
<h4 id="inner-producct"><a href="#inner-producct" class="headerlink" title="inner_producct"></a>inner_producct</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬1</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">inner_product</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, T init)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ä»¥ç¬¬ä¸€åºåˆ—ä¹‹å…ƒç´ ä¸ªæ•°ä¸ºæ®ï¼Œå°†ä¸¤ä¸ªåºåˆ—éƒ½èµ°ä¸€é</span></span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1, ++first2)</span><br><span class="line">		init = init + (*first1 * *first2); <span class="comment">//æ‰§è¡Œä¸¤ä¸ªåºåˆ—çš„ä¸€èˆ¬å†…ç§¯</span></span><br><span class="line">	<span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬2</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">BinaryOperation1</span>, <span class="keyword">class</span> <span class="title class_">BinaryOperation2</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">inner_product</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, T init, BinaryOperation1 binary_op1, BinaryOperation2 binary_op2)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ä»¥ç¬¬ä¸€åºåˆ—ä¹‹å…ƒç´ ä¸ªæ•°ä¸ºæ®ï¼Œå°†ä¸¤ä¸ªåºåˆ—éƒ½èµ°ä¸€é</span></span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1, ++first2)</span><br><span class="line">		<span class="comment">//ä»¥å¤–ç•Œæä¾›çš„ä»¿å‡½æ•°æ¥å–ä»£ç¬¬ä¸€ç‰ˆæœ¬ä¸­çš„operator*å’Œoperator+</span></span><br><span class="line">		init = <span class="built_in">binary_op1</span>(init, <span class="built_in">binary_op2</span>(*first1, *first2));</span><br><span class="line">	<span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®—æ³•inner_productèƒ½å¤Ÿè®¡ç®—[first1, last1)å’Œ[first2, first2 + (last1 - first1))çš„ä¸€èˆ¬å†…ç§¯ã€‚</p>
<p>å¼ä¸­æ‰€ç”¨çš„äºŒå…ƒä»¿å‡½æ•°ä¸å¿…æ»¡è¶³äº¤æ¢å¾‹(commutative)å’Œç»“åˆå¾‹(associative)ã€‚inner_productæ‰€æœ‰è¿ç®—è¡Œä¸ºçš„é¡ºåºéƒ½æœ‰æ˜ç¡®è®¾å®šã€‚</p>
<h4 id="partial-sum"><a href="#partial-sum" class="headerlink" title="partial_sum"></a>partial_sum</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬1</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">partial_sum</span><span class="params">(InputIterator first, InputIterator last, Outputrterator result)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> result;</span><br><span class="line">	*result = *first;</span><br><span class="line">	<span class="keyword">return</span> __partial_sum(first, last, result, <span class="built_in">value_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">partial_sum</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result, T*)</span> </span>&#123;</span><br><span class="line">	T value = *first;</span><br><span class="line">	<span class="keyword">while</span> (++first != last) &#123;</span><br><span class="line">		value = value + *first;		<span class="comment">//å‰nä¸ªå…ƒç´ çš„æ€»å’Œ</span></span><br><span class="line">		*++result = value;			<span class="comment">//æŒ‡å®šç»™ç›®çš„ç«¯</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ++result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬2ç”±binary_opå–ä»£operator+</span></span><br></pre></td></tr></table></figure>

<p>ç®—æ³•partial_sumç”¨æ¥è®¡ç®—å±€éƒ¨æ€»å’Œã€‚</p>
<p>æ­¤å¼æ‰€ç”¨ä¹‹äºŒå…ƒä»¿å‡½æ•°ä¸å¿…æ»¡è¶³äº¤æ¢å¾‹(commutative)å’Œç»“åˆå¾‹(associative)ã€‚æ‰€æœ‰è¿ç®—è¡Œä¸ºçš„é¡ºåºéƒ½æœ‰æ˜ç¡®è®¾å®šã€‚</p>
<p>æœ¬ç®—æ³•è¿”å›è¾“å‡ºåŒºé—´çš„æœ€å°¾ç«¯ä½ç½®: result + (last - first) ã€‚</p>
<h4 id="power"><a href="#power" class="headerlink" title="power"></a>power</h4><p>è¿™ä¸ªç®—æ³•ç”±SGIä¸“å±ï¼Œå¹¶ä¸åœ¨STLæ ‡å‡†ä¹‹åˆ—ã€‚å®ƒç”¨æ¥è®¡ç®—æŸæ•°çš„nå¹‚æ¬¡æ–¹ã€‚</p>
<p>è¿™é‡Œæ‰€è°“çš„nå¹‚æ¬¡æ˜¯æŒ‡è‡ªå·±å¯¹è‡ªå·±è¿›è¡ŒæŸç§è¿ç®—ï¼Œè¾¾næ¬¡ã€‚è¿ç®—ç±»å‹å¯ç”±å¤–ç•ŒæŒ‡å®šã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€ï¼Œä¹˜å¹‚</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Integer</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> T <span class="title">power</span><span class="params">(T x, Integer n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">power</span>(x, n, <span class="built_in">multiplies</span>&lt;T&gt;());	<span class="comment">//æŒ‡å®šè¿ç®—å‹å¼ä¸ºä¹˜æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒï¼Œå¹‚æ¬¡æ–¹ã€‚å¦‚æœæŒ‡å®šä¸ºä¹˜æ³•è¿ç®—ï¼Œåˆ™å½“n &gt;= 0æ—¶è¿”å›x^n</span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œ&quot;Monoid0perationâ€å¿…é¡»æ»¡è¶³ç»“åˆå¾‹(associative),</span></span><br><span class="line"><span class="comment">//ä½†ä¸éœ€æ»¡è¶³äº¤æ¢å¾‹(commutative)</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Integer</span>, <span class="keyword">class</span> <span class="title class_">MonoidOperation</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">power</span><span class="params">(T x, Integer n, MonoidOperation op)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">identity_element</span>(op);	<span class="comment">//å–å‡ºâ€œè¯åŒå…ƒç´ â€identity element</span></span><br><span class="line">	<span class="keyword">else</span> &#123;							  <span class="comment">//æ‰€è°“â€œè¯åŒå…ƒç´ â€ï¼Œè§7.3èŠ‚</span></span><br><span class="line">		<span class="keyword">while</span> ((n &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">			n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">			x = <span class="built_in">op</span>(x, x);</span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">		T result = x;</span><br><span class="line">		n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">			x = <span class="built_in">op</span>(x, x);</span><br><span class="line">			<span class="keyword">if</span> ((n &amp; <span class="number">1</span>) != <span class="number">0</span> )</span><br><span class="line">				result = <span class="built_in">op</span>(result, x);</span><br><span class="line">			n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="itoa"><a href="#itoa" class="headerlink" title="itoa"></a>itoa</h4><p>è¿™ä¸ªç®—æ³•ç”±SGIä¸“å±ï¼Œå¹¶ä¸åœ¨STLæ ‡å‡†ä¹‹åˆ—ã€‚å®ƒç”¨æ¥è®¾å®šæŸä¸ªåŒºé—´çš„å†…å®¹ï¼Œä½¿å…¶å†…çš„æ¯ä¸€ä¸ªå…ƒç´ ä»æŒ‡å®šçš„valueå€¼å¼€å§‹ï¼Œå‘ˆç°é€’å¢çŠ¶æ€ã€‚å®ƒæ”¹å˜äº†åŒºé—´å†…å®¹ï¼Œæ‰€ä»¥æ˜¯ä¸€ç§è´¨å˜ç®—æ³•ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°æ„ä¹‰:åœ¨[first, last)åŒºé—´å†…å¡«äººvalue, value+1, value+2...</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">iota</span> <span class="params">(ForwardIterator first, ForwardIterator last, T value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first != last) *first++ = value++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŸºæœ¬ç®—æ³•-lt-stl-algobase-h-gt"><a href="#åŸºæœ¬ç®—æ³•-lt-stl-algobase-h-gt" class="headerlink" title="åŸºæœ¬ç®—æ³•&lt;stl_algobase.h&gt;"></a>åŸºæœ¬ç®—æ³•&lt;stl_algobase.h&gt;</h3><h4 id="equal"><a href="#equal" class="headerlink" title="equal"></a>equal</h4><p>å¦‚æœä¸¤ä¸ªåºåˆ—åœ¨[first, last)åŒºé—´å†…ç›¸ç­‰ï¼Œequal()è¿”å›trueã€‚å¦‚æœç¬¬äºŒåºåˆ—çš„å…ƒç´ æ¯”è¾ƒå¤šï¼Œå¤šå‡ºæ¥çš„å…ƒç´ ä¸äºˆè€ƒè™‘ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿è¯ä¸¤ä¸ªåºåˆ—å®Œå…¨ç›¸ç­‰ï¼Œå¿…é¡»å…ˆåˆ¤æ–­å…¶å…ƒç´ ä¸ªæ•°æ˜¯å¦ç›¸åŒï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( vec1.<span class="built_in">size</span>() == vec2.<span class="built_in">size</span>() &amp;&amp;</span><br><span class="line">	 <span class="built_in">equal</span>( vec1.<span class="built_in">begin</span>(), vec1.<span class="built_in">end</span>(), vec2.<span class="built_in">begin</span>());</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç¬¬äºŒåºåˆ—çš„å…ƒç´ æ¯”ç¬¬ä¸€åºåˆ—å°‘ï¼Œè¿™ä¸ªç®—æ³•å†…éƒ¨è¿›è¡Œè¿­ä»£è¡Œä¸ºæ—¶ï¼Œä¼šè¶…è¶Šåºåˆ—çš„å°¾ç«¯ï¼Œé€ æˆä¸å¯é¢„æµ‹çš„ç»“æœã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">equa1</span><span class="params">(InputIterator1 first1, InputIterator1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">				 InputIterator2 first2)</span> </span>&#123;</span><br><span class="line"><span class="comment">//ä»¥ä¸‹ï¼Œå°†åºåˆ—ä¸€èµ°è¿‡ä¸€éã€‚åºåˆ—äºŒäº¦æ­¥äº¦è¶‹</span></span><br><span class="line"><span class="comment">//å¦‚æœåºåˆ—ä¸€çš„å…ƒç´ ä¸ªæ•°å¤šè¿‡åºåˆ—äºŒçš„å…ƒç´ ä¸ªæ•°ï¼Œå°±ç³Ÿç³•äº†</span></span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1, ++first2) &#123;</span><br><span class="line">		<span class="keyword">if</span> (*first1 != *first2)			<span class="comment">//åªè¦å¯¹åº”å…ƒç´ ä¸ç›¸ç­‰</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;			   <span class="comment">//å°±ç»“æŸå¹¶è¿”å›false</span></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;				   <span class="comment">//è‡³æ­¤ï¼Œå…¨éƒ¨ç›¸ç­‰ï¼Œè¿”å›true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>,</span><br><span class="line">		 <span class="keyword">class</span> <span class="title class_">BinaryPredicate</span>&gt;  </span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">equal</span> <span class="params">(Inputiterator1 first1, InputIterator1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">				  InputIterator2 first2, BinaryPredicate binary_pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1, ++first2)</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">binary_pred</span>(*first1, *first2))</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p>å°†[first, last)å†…çš„æ‰€æœ‰å…ƒç´ æ”¹å¡«æ–°å€¼ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fill</span><span class="params">(ForwardIterator first, Forwarditerator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)		<span class="comment">//è¿­ä»£èµ°è¿‡æ•´ä¸ªåŒºé—´</span></span><br><span class="line">		*first = value;				   <span class="comment">//è®¾å®šæ–°å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="fill-n"><a href="#fill-n" class="headerlink" title="fill_n"></a>fill_n</h4><p>å°†[first, last)å†…çš„å‰nä¸ªå…ƒç´ æ”¹å¡«æ–°å€¼ï¼Œè¿”å›çš„è¿­ä»£å™¨æŒ‡å‘è¢«å¡«äººçš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">Size</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">fill_n</span><span class="params">(OutputIterator first, Size n, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; n &gt; <span class="number">0</span>; --n, ++first)	<span class="comment">//ç»è¿‡nä¸ªå…ƒç´ </span></span><br><span class="line">		*first = value;			   <span class="comment">//è®¾å®šæ–°å€¼</span></span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨inserter()äº§ç”Ÿä¸€ä¸ªå…·æœ‰æ’å…¥(insert)è€Œéè¦†å†™(overwrite)èƒ½åŠ›çš„è¿­ä»£å™¨ï¼Œinserter()å¯äº§ç”Ÿä¸€ä¸ªç”¨æ¥ä¿®é¥°è¿­ä»£å™¨çš„é…æ¥å™¨ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ia[<span class="number">3</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;									</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">iv</span><span class="params">(ia, ia+<span class="number">3</span>)</span></span>;						<span class="comment">//0 1 2</span></span><br><span class="line"><span class="built_in">fill_n</span>(<span class="built_in">inserter</span>(iv, iv.<span class="built_in">begin</span>()), <span class="number">5</span>, <span class="number">7</span>);			 <span class="comment">//7 7 7 7 7 0 1 2</span></span><br></pre></td></tr></table></figure>

<h4 id="iter-swap"><a href="#iter-swap" class="headerlink" title="iter_swap"></a>iter_swap</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">iter_swap</span><span class="params">(ForwardIterator1 a, ForwardIterator2 b)</span> </span>&#123;</span><br><span class="line">	__iter_swap(a, b, <span class="built_in">value_type</span>(a)); <span class="comment">//æ³¨æ„ç¬¬ä¸‰å‚æ•°çš„å‹åˆ«!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> __iter_swap(ForwardIterator1 a, ForwardIterator2 b, T*) &#123;</span><br><span class="line">	T tmp = *a;</span><br><span class="line">	*a = *b;</span><br><span class="line">	*b = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="lexicographical-compare"><a href="#lexicographical-compare" class="headerlink" title="lexicographical_compare"></a>lexicographical_compare</h4><p>ä»¥â€œå­—å…¸æ’åˆ—æ–¹å¼â€å¯¹ä¸¤ä¸ªåºåˆ—[first1, last1)å’Œ[first2, last2)è¿›è¡Œæ¯”è¾ƒã€‚æ¯”è¾ƒæ“ä½œé’ˆå¯¹ä¸¤åºåˆ—ä¸­çš„å¯¹åº”ä½ç½®ä¸Šçš„å…ƒç´ è¿›è¡Œï¼Œå¹¶æŒç»­ç›´åˆ°ï¼ˆ1ï¼‰æŸä¸€ç»„å¯¹åº”å…ƒç´ å½¼æ­¤ä¸ç›¸ç­‰ï¼›ï¼ˆ2ï¼‰åŒæ—¶åˆ°è¾¾last1å’Œlast2ï¼ˆå½“ä¸¤åºåˆ—çš„å¤§å°ç›¸åŒï¼‰ï¼›ï¼ˆ3ï¼‰åˆ°è¾¾last1æˆ–last2ï¼ˆå½“ä¸¤åºåˆ—çš„å¤§å°ä¸åŒï¼‰ã€‚</p>
<p>å½“è¿™ä¸ªå‡½æ•°åœ¨å¯¹åº”ä½ç½®ä¸Šå‘ç°ç¬¬ä¸€ç»„ä¸ç›¸ç­‰çš„å…ƒç´ æ—¶ï¼Œæœ‰ä¸‹åˆ—å‡ ç§å¯èƒ½ï¼š</p>
<ul>
<li>å¦‚æœç¬¬ä¸€åºåˆ—çš„å…ƒç´ è¾ƒå°ï¼Œè¿”å› trueã€‚å¦åˆ™è¿”å›falseã€‚</li>
<li>å¦‚æœåˆ°è¾¾last1è€Œå°šæœªåˆ°è¾¾last2ï¼Œè¿”å›trueã€‚</li>
<li>å¦‚æœåˆ°è¾¾last2è€Œå°šæœªåˆ°è¾¾last1ï¼Œè¿”å›falseã€‚</li>
<li>å¦‚æœåŒæ—¶åˆ°è¾¾last1å’Œlast2ï¼ˆæ¢å¥è¯è¯´æ‰€æœ‰å…ƒç´ éƒ½åŒ¹é…ï¼‰ï¼Œè¿”å›falseï¼›</li>
</ul>
<p>ç¬¬äºŒç‰ˆæœ¬å…è®¸ä½ æŒ‡å®šä¸€ä¸ªä»¿å‡½æ•°compä½œä¸ºæ¯”è¾ƒæ“ä½œä¹‹ç”¨ï¼Œå–ä»£å…ƒç´ ç±»å‹æ‰€æä¾›çš„less-than(å°äº)æ“ä½œç¬¦ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">lexicographical_compare</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹ï¼Œä»»ä½•ä¸€ä¸ªåºåˆ—åˆ°è¾¾å°¾ç«¯ï¼Œå°±ç»“æŸã€‚å¦åˆ™ä¸¤åºåˆ—å°±ç›¸åº”å…ƒç´ ä¸€ä¸€è¿›è¡Œæ¯”å¯¹</span></span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1 &amp;&amp; first2 != last2; ++first1, ++first2) &#123;</span><br><span class="line">		<span class="keyword">if</span> (*first1 &lt; *first2) <span class="comment">//ç¬¬ä¸€åºåˆ—å…ƒç´ å€¼å°äºç¬¬äºŒåºåˆ—çš„ç›¸åº”å…ƒç´ å€¼</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (*first2 &lt; *first1) <span class="comment">//ç¬¬äºŒåºåˆ—å…ƒç´ å€¼å°äºç¬¬ä¸€åºåˆ—çš„ç›¸åº”å…ƒç´ å€¼</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="comment">//å¦‚æœä¸ç¬¦åˆä»¥ä¸Šä¸¤æ¡ä»¶ï¼Œè¡¨ç¤ºä¸¤å€¼ç›¸ç­‰ï¼Œé‚£å°±è¿›è¡Œä¸‹ä¸€ç»„ç›¸åº”å…ƒç´ å€¼çš„æ¯”å¯¹</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//è¿›è¡Œåˆ°è¿™é‡Œï¼Œå¦‚æœç¬¬ä¸€åºåˆ—åˆ°è¾¾å°¾ç«¯è€Œç¬¬äºŒåºåˆ—å°šæœ‰ä½™é¢ï¼Œé‚£ä¹ˆç¬¬ä¸€åºåˆ—å°äºç¬¬äºŒåºåˆ—</span></span><br><span class="line">	<span class="keyword">return</span> first1 == last1 &amp;&amp; first2 != last2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">lexicographical_compare</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1 &amp;&amp; first2 != last2; ++first1, ++first2) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">comp</span>(*first1, *first2))</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">comp</span>(*first2, *first1))</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> first1 == last1 &amp;&amp; first2 != last2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å¢è¿›æ•ˆç‡ï¼ŒSGIè¿˜è®¾è®¡äº†ä¸€ä¸ªç‰¹åŒ–ç‰ˆæœ¬ï¼Œç”¨äºåŸç”ŸæŒ‡é’ˆconst unsignede char*:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span></span></span><br><span class="line"><span class="function"><span class="title">lexicographical_compare</span><span class="params">(<span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>* first1, <span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>* last1, <span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>* first2, <span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>* last2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">const</span> <span class="type">size_t</span> lenl = last1 - first1;		<span class="comment">//ç¬¬ä¸€åºåˆ—é•¿åº¦</span></span><br><span class="line">	<span class="type">const</span> <span class="type">size_t</span> len2 = last2 - first2;		<span class="comment">//ç¬¬äºŒåºåˆ—é•¿åº¦</span></span><br><span class="line">	<span class="comment">//å…ˆæ¯”è¾ƒç›¸åŒé•¿åº¦çš„ä¸€æ®µã€‚memcmp()é€Ÿåº¦æå¿«</span></span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> result = <span class="built_in">memcmp</span>(first1, first2, <span class="built_in">min</span>(len1, len2));</span><br><span class="line">	<span class="comment">//å¦‚æœä¸ç›¸ä¸Šä¸‹ï¼Œåˆ™é•¿åº¦è¾ƒé•¿è€…è¢«è§†ä¸ºæ¯”è¾ƒå¤§</span></span><br><span class="line">	<span class="keyword">return</span> result != <span class="number">0</span> ? result &lt; <span class="number">0</span> : lenl &lt; len2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="max"><a href="#max" class="headerlink" title="max"></a>max</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">const</span> T&amp; <span class="title">max</span><span class="params">(<span class="type">const</span> T&amp; a,	<span class="type">const</span> T&amp; b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a &lt; b ? b : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">const</span> T&amp; <span class="title">max</span><span class="params">(<span class="type">const</span> T&amp; a, <span class="type">const</span> T&amp; b, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">comp</span>(a, b) ? b : a;	<span class="comment">// ç”±compå†³å®šâ€œå¤§å°æ¯”è¾ƒâ€æ ‡å‡†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="min"><a href="#min" class="headerlink" title="min"></a>min</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">const</span> T&amp; <span class="title">min</span><span class="params">(<span class="type">const</span> T&amp; a,	<span class="type">const</span> T&amp; b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> b &lt; a ? b : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">const</span> T&amp; <span class="title">min</span><span class="params">(<span class="type">const</span> T&amp; a, <span class="type">const</span> T&amp; b, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">comp</span>(b, a) ? b : a;	<span class="comment">// ç”±compå†³å®šâ€œå¤§å°æ¯”è¾ƒâ€æ ‡å‡†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="mismatch"><a href="#mismatch" class="headerlink" title="mismatch"></a>mismatch</h4><p>ç”¨æ¥å¹³è¡Œæ¯”è¾ƒä¸¤ä¸ªåºåˆ—ï¼ŒæŒ‡å‡ºä¸¤è€…ä¹‹é—´çš„ç¬¬ä¸€ä¸ªä¸åŒ¹é…ç‚¹ã€‚è¿”å›ä¸€å¯¹è¿­ä»£å™¨ï¼Œåˆ†åˆ«æŒ‡å‘ä¸¤åºåˆ—ä¸­çš„ä¸åŒ¹é…ç‚¹ï¼Œå¦‚ä¸‹å›¾ã€‚å¦‚æœä¸¤åºåˆ—çš„æ‰€æœ‰å¯¹åº”å…ƒç´ éƒ½åŒ¹é…ï¼Œè¿”å›çš„ä¾¿æ˜¯ä¸¤åºåˆ—å„è‡ªçš„lastè¿­ä»£å™¨ã€‚ç¼ºçœæƒ…å†µä¸‹æ˜¯ä»¥equalityæ“ä½œç¬¦æ¥æ¯”è¾ƒå…ƒç´ ï¼›ä½†ç¬¬äºŒç‰ˆæœ¬å…è®¸ç”¨æˆ·æŒ‡å®šæ¯”è¾ƒæ“ä½œã€‚å¦‚æœç¬¬äºŒåºåˆ—çš„å…ƒç´ ä¸ªæ•°æ¯”ç¬¬ä¸€åºåˆ—å¤šï¼Œå¤šå‡ºæ¥çš„å…ƒç´ å¿½ç•¥ä¸è®¡ã€‚å¦‚æœç¬¬äºŒåºåˆ—çš„å…ƒç´ ä¸ªæ•°æ¯”ç¬¬ä¸€åºåˆ—å°‘ï¼Œä¼šå‘ç”Ÿæœªå¯é¢„æœŸçš„è¡Œä¸ºã€‚	</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>&gt;</span><br><span class="line"><span class="function">pair&lt;InputIterator1, InputIterator2&gt; <span class="title">mismatch</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹ï¼Œå¦‚æœåºåˆ—ä¸€èµ°å®Œï¼Œå°±ç»“æŸ</span></span><br><span class="line">	<span class="comment">//ä»¥ä¸‹ï¼Œå¦‚æœåºåˆ—ä¸€å’Œåºåˆ—äºŒçš„å¯¹åº”å…ƒç´ ç›¸ç­‰ï¼Œå°±ç»“æŸ</span></span><br><span class="line">	<span class="comment">//æ˜¾ç„¶ï¼Œåºåˆ—ä¸€çš„å…ƒç´ ä¸ªæ•°å¿…é¡»å¤šè¿‡åºåˆ—äºŒçš„å…ƒç´ ä¸ªæ•°ï¼Œå¦åˆ™ç»“æœæ— å¯é¢„æœŸ</span></span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; *first1 == *first2) &#123;</span><br><span class="line">		++first1;</span><br><span class="line">		++first2;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">pair</span>&lt;InputIterator1, InputIterator2&gt;(first1, first2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">BinaryPredicate</span>&gt;</span><br><span class="line"><span class="function">pair&lt;InputIterator1, InputIterator2&gt; <span class="title">mismatch</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, BinaryPredicate binary_pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; <span class="built_in">binary_pred</span>(*first1, *first2)) &#123;</span><br><span class="line">		++first1;</span><br><span class="line">		++first2;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">pair</span>&lt;InputIterator1, InputIterator2&gt;(first1, first2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h4><p>è¯¥å‡½æ•°ç”¨æ¥å¯¹è°ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">swap</span><span class="params">(T&amp; a, T&amp; b)</span> </span>&#123;</span><br><span class="line">	T tmp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h4><p>SGI STLçš„copyç®—æ³•ä½¿ç”¨assignment operatoræ¥è¿›è¡Œå¤åˆ¶æ“ä½œï¼Œè€Œåœ¨è¯¥è¿‡ç¨‹ç”±äºæŸäº›å…ƒç´ ç±»å‹æ‹¥æœ‰çš„æ˜¯trivial assignment operatorï¼Œå› æ­¤ï¼Œå¦‚æœèƒ½å¤Ÿé‡‡ç”¨å†…å­˜ç›´æ¥å¤åˆ¶è¡Œä¸ºï¼ˆä¾‹å¦‚memmoveæˆ–è€…memcpyï¼‰å°†èŠ‚çœå¤§é‡æ—¶é—´ã€‚</p>
<p>ä¸ºæ­¤ï¼ŒSGI STLçš„copyç®—æ³•ç”¨å°½å„ç§åŠæ³•ï¼ˆåŒ…æ‹¬å‡½æ•°é‡è½½ã€type traitsã€partial specailizationï¼‰ç­‰ç¼–ç¨‹æŠ€å·§ï¼Œæè‡´åœ°å»åŠ å¼ºæ•ˆç‡ã€‚</p>
<p>æ•´ä¸ªcopy()æ“ä½œçš„è„‰ç»œï¼š</p>
<p><img src="/../img/copy%E5%AE%8C%E6%95%B4%E8%84%89%E7%BB%9C.png" alt="copyå®Œæ•´è„‰ç»œ"></p>
<p>copyå¯¹å…¶templateå‚æ•°æ‰€è¦æ±‚çš„æ¡ä»¶éå¸¸å®½æ¾ã€‚å…¶è¾“å…¥åŒºé—´åªéœ€ç”±InputIteratorsæ„æˆå³å¯ï¼Œè¾“å‡ºåŒºé—´åªéœ€ç”±OutputIteratoræ„æˆå³å¯ã€‚ä½†æ˜¯ï¼Œcopyç®—æ³•éœ€è¦ç‰¹åˆ«æ³¨æ„åŒºé—´é‡å çš„é—®é¢˜ï¼š</p>
<p><img src="/../img/copy%E7%AE%97%E6%B3%95%E5%8C%BA%E9%97%B4%E9%87%8D%E5%8F%A0%E7%9A%84%E9%97%AE%E9%A2%98.png" alt="copyç®—æ³•åŒºé—´é‡å çš„é—®é¢˜"></p>
<p>å¦‚æœè¾“å…¥åŒºé—´å’Œè¾“å‡ºåŒºé—´å®Œå…¨æ²¡é‡å ï¼Œå½“ç„¶æ¯«æ— é—®é¢˜ã€‚å¦åˆ™ï¼Œå½“è¾“å‡ºåŒºé—´çš„èµ·ç‚¹ä½äºè¾“å…¥åŒºé—´ä»¥å†…çš„è¯ï¼Œcopyç®—æ³•ä¾¿å¯èƒ½ä¼šåœ¨è¾“å…¥åŒºé—´çš„æŸäº›å…ƒç´ å°šæœªè¢«å¤åˆ¶ä¹‹å‰å°±è¦†ç›–å…¶å€¼ï¼Œå¯¼è‡´é”™è¯¯çš„ç»“æœã€‚è¿™é‡Œçš„â€œå¯èƒ½â€æ˜¯å› ä¸ºå¦‚æœcopyç®—æ³•æ ¹æ®å…¶æ‰€æ¥æ”¶çš„è¿­ä»£å™¨ç‰¹æ€§å†³å®šè°ƒç”¨memmove()æ¥æ‰§è¡Œä»»åŠ¡ï¼Œå°±ä¸ä¼šé€ æˆä¸Šè¿°é”™è¯¯ï¼Œå› ä¸ºmemmove()ä¼šå…ˆå°†æ•´ä¸ªè¾“å…¥åŒºé—´çš„å†…å®¹å¤åˆ¶ä¸‹æ¥ï¼Œæ²¡æœ‰è¢«è¦†ç›–çš„å±é™©ã€‚</p>
<p>copyæ›´æ”¹çš„æ˜¯[result, result + (last - first))ä¸­çš„è¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡ï¼Œè€Œéæ›´æ”¹è¿­ä»£å™¨æœ¬èº«ã€‚å®ƒä¼šä¸ºè¾“å‡ºåŒºé—´å†…çš„å…ƒç´ èµ‹äºˆæ–°å€¼ï¼Œè€Œä¸æ˜¯äº§ç”Ÿæ–°çš„å…ƒç´ ã€‚å®ƒä¸èƒ½æ”¹å˜è¾“å‡ºåŒºé—´çš„è¿­ä»£å™¨ä¸ªæ•°ã€‚æ¢å¥è¯è¯´ï¼Œcopyä¸èƒ½ç›´æ¥ç”¨æ¥å°†å…ƒç´ æ’äººç©ºå®¹å™¨ä¸­ã€‚</p>
<h5 id="copyç®—æ³•çš„å®ç°ç»†èŠ‚"><a href="#copyç®—æ³•çš„å®ç°ç»†èŠ‚" class="headerlink" title="copyç®—æ³•çš„å®ç°ç»†èŠ‚"></a>copyç®—æ³•çš„å®ç°ç»†èŠ‚</h5><p>å¯¹å¤–æ¥å£ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®Œå…¨æ³›åŒ–ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> OutputIterator <span class="title">copy</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> __copy_dispatch&lt;InputIterator, OutputIterator&gt;() (first, last, result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰¹æ®Šç‰ˆæœ¬(1)ã€‚é‡è½½å½¢å¼</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">char</span>* <span class="title">copy</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* first, <span class="type">const</span> <span class="type">char</span>* last, <span class="type">char</span>* result)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">memmove</span>(result, first, last - first);</span><br><span class="line">	<span class="keyword">return</span> result + (last - first);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰¹æ®Šç‰ˆæœ¬(2)ã€‚é‡è½½å½¢å¼</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">wchar_t</span>* <span class="title">copy</span><span class="params">(<span class="type">const</span> <span class="type">wchar_t</span>* first, <span class="type">const</span> <span class="type">wchar_t</span>* last, <span class="type">wchar_t</span>* result)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">memmove</span>(result, first, <span class="built_in">sizeof</span>(<span class="type">wchar_t</span>) * (last - first));</span><br><span class="line">	<span class="keyword">return</span> result + (last - first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>copy()å‡½æ•°çš„æ³›åŒ–ç‰ˆæœ¬ä¸­è°ƒç”¨äº†ä¸€ä¸ª__copy_dispatch()å‡½æ•°ï¼Œæ­¤å‡½æ•°æœ‰ä¸€ä¸ªå®Œå…¨æ³›åŒ–ç‰ˆæœ¬å’Œä¸¤ä¸ªç¯‡ç‰¹åŒ–ç‰ˆæœ¬ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®Œå…¨æ³›åŒ–ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">__copy_dispatch</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function">OutputIterator <span class="title">operator</span><span class="params">()</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> __copy(first, last, result, <span class="built_in">iterator_category</span>(first));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç‰¹åŒ–ç‰ˆæœ¬(1)ï¼Œä¸¤ä¸ªå‚æ•°éƒ½æ˜¯T*æŒ‡é’ˆå½¢å¼</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">__copy_dispatch</span>&lt;T*, T*&gt;</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function">T* <span class="title">operator</span><span class="params">()</span><span class="params">(T* first, T* last, T* result)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">typedef</span> <span class="keyword">typename</span> __type_traits&lt;T&gt;::has_trivial_assignment_operator t;</span><br><span class="line">		<span class="keyword">return</span> <span class="type">__copy_t</span>(first, last, result, <span class="built_in">t</span>());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç‰¹åŒ–ç‰ˆæœ¬(2)ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºconst T*æŒ‡é’ˆå½¢å¼ï¼Œç¬¬äºŒå‚æ•°ä¸ºT*æŒ‡é’ˆå½¢å¼</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">__copy_dispatch</span>&lt;<span class="type">const</span> T*, T*&gt;</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function">T* <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> T* first, <span class="type">const</span> T* last,T* result)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">typedef</span> <span class="keyword">typename</span> __type_traits&lt;T&gt;::has_trivial_assignment_operator t;</span><br><span class="line">		<span class="keyword">return</span> <span class="type">__copy_t</span>(first, last, result, <span class="built_in">t</span>());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å…ˆè®¨è®º__copy_dispatch()çš„å®Œå…¨æ³›åŒ–ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬æ ¹æ®è¿­ä»£å™¨ç§ç±»çš„ä¸åŒï¼Œè°ƒç”¨äº†ä¸åŒçš„__copy()ï¼ŒåŸå› æ˜¯ä¸åŒç§ç±»çš„è¿­ä»£å™¨æ‰€ä½¿ç”¨çš„å¾ªç¯æ¡ä»¶ä¸åŒï¼Œæœ‰å¿«æ…¢ä¹‹åˆ†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//InputIteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> OutputIterator __copy(InputIterator first, InputIterator last, OutputIterator result, input_iterator_tag)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//ä»¥è¿­ä»£å™¨ç­‰åŒä¸å¦ï¼Œå†³å®šå¾ªç¯æ˜¯å¦ç»§ç»­ã€‚é€Ÿåº¦æ…¢</span></span><br><span class="line">	<span class="keyword">for</span>( ; first != last; ++result, ++first)</span><br><span class="line">		*result = *first;	<span class="comment">//assignment operator</span></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//RandomAccessIteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> OutputIterator </span><br><span class="line">__copy(RandomAccessIterator first, RandomAccessIterator last, OutputIterator result, random_access_iterator_tag)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//åˆåˆ’åˆ†å‡ºä¸€ä¸ªå‡½æ•°ï¼Œä¸ºçš„æ˜¯å…¶å®ƒåœ°æ–¹ä¹Ÿå¯èƒ½ç”¨åˆ°</span></span><br><span class="line">	<span class="keyword">return</span> __copy_d(first, last, result, <span class="built_in">distance_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterato</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> OutputIterator __copy_d(RandomAccessIterator first, RandomAccessIterator last, OutputIterator result, Distance*)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//ä»¥nå†³å®šå¾ªç¯çš„æ‰§è¡Œæ¬¡æ•°ã€‚é€Ÿåº¦å¿«</span></span><br><span class="line">	<span class="keyword">for</span> (Distance n = last - first; n &gt; <span class="number">0</span>; --n, ++result, ++first)</span><br><span class="line">		*result = *first;	<span class="comment">//assignment operator</span></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€æ˜¯ä¸¤ä¸ªåç‰¹åŒ–ç‰ˆæœ¬ï¼Œé€šè¿‡é‡‡ç”¨__type_traits&lt;&gt;çš„æŠ€å·§æ¥åˆ¤æ–­å¯¹è±¡ç±»åˆ«æ˜¯å¦å…·æœ‰trivial assignment operatorï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ å¯ä»¥é‡‡ç”¨å¿«é€Ÿçš„å†…å­˜å¯¹æ‹·æ–¹å¼ï¼ˆmemmove()ï¼‰æ¥æ‹·è´ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»¥ä¸‹ç‰ˆæœ¬é€‚ç”¨äºâ€œæŒ‡é’ˆæ‰€æŒ‡ä¹‹å¯¹è±¡å…·å¤‡trivial assignment operatorâ€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> T* <span class="type">__copy_t</span>(<span class="type">const</span> T* first, <span class="type">const</span> T* last, T* result, __true_type) &#123;</span><br><span class="line">	<span class="built_in">memmove</span>(result, first, <span class="built_in">sizeof</span>(T) * (last - first));</span><br><span class="line">	<span class="keyword">return</span> result + (last - first);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥ä¸‹ç‰ˆæœ¬é€‚ç”¨äºâ€œæŒ‡é’ˆæ‰€æŒ‡ä¹‹å¯¹è±¡å…·å¤‡non-trivial assignment operatorâ€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> T* <span class="type">__copy_t</span>(<span class="type">const</span> T* first, <span class="type">const</span> T* last, T* result, __false_type) &#123;</span><br><span class="line">	<span class="comment">//åŸç”ŸæŒ‡é’ˆæ¯•ç«Ÿæ˜¯ä¸€ç§RandomAccessIteratorï¼Œæ‰€ä»¥äº¤ç»™__copy_d()å®Œæˆ</span></span><br><span class="line">	<span class="keyword">return</span> __copy_d(first, last, result, (<span class="type">ptrdiff_t</span>*)<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="copy-backward"><a href="#copy-backward" class="headerlink" title="copy_backward"></a>copy_backward</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator1</span>, <span class="keyword">class</span> <span class="title class_">BidirectionalIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> BidirectionalIterator2 <span class="title">copy_backward</span> <span class="params">(Bidirectionallterator1 first, BidirectionalIterator1 last, BidirectionalTterator2 result)</span></span>;</span><br></pre></td></tr></table></figure>

<p>copy_backward()å®ç°æŠ€å·§ä¸copy()ç±»ä¼¼ã€‚è¯¥ç®—æ³•å°†[first, last) åŒºé—´å†…çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä»¥é€†è¡Œçš„æ–¹å‘å¤åˆ¶åˆ°ä»¥result - 1ä¸ºèµ·ç‚¹ï¼Œæ–¹å‘äº¦ä¸ºé€†è¡Œçš„åŒºé—´ä¸Šã€‚å³ï¼Œè¯¥ç®—æ³•ä¼šé¡ºåºæ‰§è¡Œèµ‹å€¼æ“ä½œ*(result - 1) &#x3D; *(last - 1), *(result - 2) &#x3D; *(last - 2),â€¦ä»¥æ­¤ç±»æ¨ã€‚copy_backward()æ‰€æ¥å—çš„è¿­ä»£å™¨å¿…é¡»æ˜¯BidirectionalIteratorsã€‚</p>
<p>copy_backward()åŒæ ·ä¹Ÿéœ€è¦æ³¨æ„è¾“å…¥ç©ºé—´å’Œè¾“å‡ºç©ºé—´çš„é—®é¢˜ï¼š</p>
<p><img src="/../img/copy_backward%E5%8C%BA%E9%97%B4%E9%87%8D%E5%8F%A0.png" alt="copy_backwardåŒºé—´é‡å "></p>
<h3 id="setç›¸å…³ç®—æ³•"><a href="#setç›¸å…³ç®—æ³•" class="headerlink" title="setç›¸å…³ç®—æ³•"></a>setç›¸å…³ç®—æ³•</h3><p>STLä¸€å…±æä¾›äº†å››ç§ä¸setç›¸å…³çš„ç®—æ³•ï¼Œåˆ†åˆ«æ˜¯å¹¶é›†ï¼ˆunionï¼‰ã€äº¤é›†ï¼ˆintersectionï¼‰ã€å·®é›†ï¼ˆdifferenceï¼‰ã€å¯¹ç§°å·®é›†ï¼ˆsymmetric differenceï¼‰ã€‚</p>
<p>è¿™é‡Œçš„é€‚ç”¨çš„çš„setéœ€è¦æœ‰åºï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥hashtableä¸ºåº•å±‚æœºåˆ¶å®ç°çš„set&#x2F;multisetä¸èƒ½åº”ç”¨äºè¿™å››ä¸ªç®—æ³•ã€‚</p>
<h4 id="set-union"><a href="#set-union" class="headerlink" title="set_union"></a>set_union</h4><p>ç®—æ³•set_unionå¯æ„é€ S1,S2çš„å¹¶é›†ã€‚S1ï¼ŒS2åŠå…¶å¹¶é›†éƒ½æ˜¯ä»¥æ’åºåŒºé—´è¡¨ç¤ºã€‚è¿”å›å€¼ä¸ºä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘è¾“å‡ºç©ºé—´çš„å°¾ç«¯ã€‚</p>
<p>ç”±äºS1å’ŒS2å†…çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸éœ€å”¯ä¸€ï¼Œå› æ­¤ï¼Œå¦‚æœæŸä¸ªå€¼åœ¨S1å‡ºç°næ¬¡ï¼Œåœ¨S2å‡ºç° m æ¬¡ï¼Œé‚£ä¹ˆè¯¥å€¼åœ¨è¾“å‡ºåŒºé—´ä¸­ä¼šå‡ºç°max(m,  n)æ¬¡ï¼Œå…¶ä¸­nä¸ªæ¥è‡ªS1ï¼Œå…¶ä½™æ¥è‡ªS2ã€‚åœ¨ STL setå®¹å™¨å†…ï¼Œm â‰¤ 1ä¸”n â‰¤ 1ã€‚</p>
<p>set_unionæ˜¯ä¸€ç§ç¨³å®šï¼ˆstableï¼‰æ“ä½œï¼Œæ„æ€æ˜¯è¾“äººåŒºé—´å†…çš„æ¯ä¸ªå…ƒç´ çš„ç›¸å¯¹é¡ºåºéƒ½ä¸ä¼šæ”¹å˜ã€‚set_unionæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå·®åˆ«åœ¨äºå¦‚ä½•å®šä¹‰æŸä¸ªå…ƒç´ å°äºå¦ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬é‡‡ç”¨ä»¿å‡½æ•°compè¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¹¶é›†ï¼Œæ±‚å­˜åœ¨äº[first1, last1)æˆ–å­˜åœ¨äº[first2, last2)çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œsetæ˜¯ä¸€ç§sorted rangeã€‚è¿™æ˜¯ä»¥ä¸‹ç®—æ³•çš„å‰æ</span></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">set_union</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//å½“ä¸¤ä¸ªåŒºé—´éƒ½å°šæœªåˆ°è¾¾å°¾ç«¯æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ...</span></span><br><span class="line">	<span class="keyword">while</span> (first1 ! = last1 &amp;&amp; first2 != last2) &#123;</span><br><span class="line">		<span class="comment">//åœ¨ä¸¤åŒºé—´å†…åˆ†åˆ«ç§»åŠ¨è¿­ä»£å™¨ã€‚é¦–å…ˆå°†å…ƒç´ å€¼è¾ƒå°è€…(å‡è®¾ä¸ºAåŒº)è®°å½•äºç›®æ ‡åŒº,</span></span><br><span class="line">		<span class="comment">//ç„¶åç§»åŠ¨AåŒºè¿­ä»£å™¨ä½¿ä¹‹å‰è¿›;åŒæ—¶é—´ä¹‹å¦ä¸€ä¸ªåŒºè¿­ä»£å™¨ä¸åŠ¨ã€‚ç„¶åè¿›è¡Œæ–°ä¸€æ¬¡</span></span><br><span class="line">		<span class="comment">//çš„æ¯”å¤§å°ã€è®°å½•å°å€¼ã€è¿­ä»£å™¨ç§»åŠ¨â€¦ç›´åˆ°ä¸¤åŒºä¸­æœ‰ä¸€åŒºåˆ°è¾¾å°¾ç«¯ã€‚å¦‚æœå…ƒç´ ç›¸ç­‰,</span></span><br><span class="line"> 		<span class="comment">//å–S1è€…è®°å½•äºç›®æ ‡åŒºï¼Œå¹¶åŒæ—¶ç§»åŠ¨ä¸¤ä¸ªè¿­ä»£å™¨</span></span><br><span class="line">		<span class="keyword">if</span> (*first1 &lt; *first2) &#123;</span><br><span class="line">			*result = *first1;</span><br><span class="line">			++first1;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (*first2 &lt; *first1) &#123;</span><br><span class="line">			*result = *first2;</span><br><span class="line">			++first2;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;	<span class="comment">// *first2 == *first1</span></span><br><span class="line">			*result = *first1;</span><br><span class="line">			++first1;</span><br><span class="line">			++first2;</span><br><span class="line">		&#125;</span><br><span class="line">		++result;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//åªè¦ä¸¤åŒºä¹‹ä¸­æœ‰ä¸€åŒºåˆ°è¾¾å°¾ç«¯ï¼Œå°±ç»“æŸä¸Šè¿°çš„whileå¾ªç¯</span></span><br><span class="line">	<span class="comment">//ä»¥ä¸‹å°†å°šæœªåˆ°è¾¾å°¾ç«¯çš„åŒºé—´çš„æ‰€æœ‰å‰©ä½™å…ƒç´ æ‹·è´åˆ°ç›®çš„ç«¯</span></span><br><span class="line">	<span class="comment">//æ­¤åˆ»çš„[first1, last1)å’Œ[first2, last2)ä¹‹ä¸­æœ‰ä¸€ä¸ªæ˜¯ç©ºç™½åŒºé—´</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>(first2, last2, <span class="built_in">copy</span>(first1, last1, result));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="set-intersection"><a href="#set-intersection" class="headerlink" title="set_intersection"></a>set_intersection</h4><p>ç®—æ³•set_intersectionå¯æ„é€ S1,S2ä¹‹äº¤é›†ã€‚S1ï¼ŒS2åŠå…¶äº¤é›†éƒ½æ˜¯ä»¥æ’åºåŒºé—´è¡¨ç¤ºã€‚è¿”å›å€¼ä¸ºä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘è¾“å‡ºç©ºé—´çš„å°¾ç«¯ã€‚</p>
<p>ç”±äºS1å’ŒS2å†…çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸éœ€å”¯ä¸€ï¼Œå› æ­¤ï¼Œå¦‚æœæŸä¸ªå€¼åœ¨S1å‡ºç°næ¬¡ï¼Œåœ¨S2å‡ºç°mæ¬¡ï¼Œé‚£ä¹ˆè¯¥å€¼åœ¨è¾“å‡ºåŒºé—´ä¸­ä¼šå‡ºç°min(m, n)æ¬¡ï¼Œå¹¶ä¸”å…¨éƒ¨æ¥è‡ªS1ã€‚åœ¨STL setå®¹å™¨å†…ï¼Œm â‰¤ 1 ä¸”n â‰¤ 1ã€‚</p>
<p>set_intersectionæ˜¯ä¸€ç§ç¨³å®šï¼ˆstableï¼‰æ“ä½œï¼Œæ„æ€æ˜¯è¾“å‡ºåŒºé—´å†…çš„æ¯ä¸ªå…ƒç´ çš„ç›¸å¯¹é¡ºåºéƒ½å’ŒS1å†…çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚å®ƒæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå·®åˆ«åœ¨äºå¦‚ä½•å®šä¹‰æŸä¸ªå…ƒç´ å°äºå¦ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬é‡‡ç”¨ä»¿å‡½æ•°compè¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äº¤é›†ï¼Œæ±‚å­˜åœ¨äº[first1, last1)ä¸”å­˜åœ¨äº[first2, last2)çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œsetæ˜¯ä¸€ç§sorted rangeã€‚è¿™æ˜¯ä»¥ä¸‹ç®—æ³•çš„å‰æ</span></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">set_intersection</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//å½“ä¸¤ä¸ªåŒºé—´éƒ½å°šæœªåˆ°è¾¾å°¾ç«¯æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ...</span></span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2)</span><br><span class="line">		<span class="comment">//åœ¨ä¸¤åŒºé—´å†…åˆ†åˆ«ç§»åŠ¨è¿­ä»£å™¨ï¼Œç›´åˆ°é‡æœ‰å…ƒç´ å€¼ç›¸åŒï¼Œæš‚åœï¼Œå°†è¯¥å€¼è®°å½•äºç›®æ ‡åŒºï¼Œ</span></span><br><span class="line">		<span class="comment">//å†ç»§ç»­ç§»åŠ¨è¿­ä»£å™¨...ç›´åˆ°ä¸¤åŒºä¹‹ä¸­æœ‰ä¸€åŒºåˆ°è¾¾å°¾ç«¯</span></span><br><span class="line">		<span class="keyword">if</span> (*first1 &lt; *first2)</span><br><span class="line">			++first1;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (*first2 &lt; *first1)</span><br><span class="line">			++first2;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">//*first2 == *first1</span></span><br><span class="line">			*result = *first1;</span><br><span class="line">			++first1;</span><br><span class="line">			++first2;</span><br><span class="line">			++result;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="set-difference"><a href="#set-difference" class="headerlink" title="set_difference"></a>set_difference</h4><p>ç®—æ³•set_differenceå¯æ„é€ S1ã€S2ä¹‹å·®é›†ã€‚S1ã€S2åŠå…¶å·®é›†éƒ½æ˜¯ä»¥æ’åºåŒºé—´è¡¨ç¤ºã€‚è¿”å›å€¼ä¸ºä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘è¾“å‡ºåŒºé—´çš„å°¾ç«¯ã€‚</p>
<p>ç”±äºS1å’ŒS2å†…çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸éœ€å”¯ä¸€ï¼Œå› æ­¤å¦‚æœæŸä¸ªå€¼åœ¨S1å‡ºç°næ¬¡ï¼Œåœ¨S2å‡ºç°mæ¬¡ï¼Œé‚£ä¹ˆè¯¥å€¼åœ¨è¾“å‡ºåŒºé—´ä¸­ä¼šå‡ºç°max(n-m, 0)æ¬¡ï¼Œå¹¶ä¸”å…¨éƒ¨æ¥è‡ªs1ã€‚åœ¨STL setå®¹å™¨å†…ï¼Œm â‰¤ 1 ä¸”n â‰¤ 1ã€‚</p>
<p>set_differenceæ˜¯ä¸€ç§ç¨³å®šï¼ˆstableï¼‰æ“ä½œï¼Œæ„æ€æ˜¯è¾“å‡ºåŒºé—´å†…çš„æ¯ä¸ªå…ƒç´ çš„ç›¸å¯¹é¡ºåºéƒ½å’ŒS1å†…çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚å®ƒæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå·®åˆ«åœ¨äºå¦‚ä½•å®šä¹‰æŸä¸ªå…ƒç´ å°äºå¦ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬é‡‡ç”¨ä»¿å‡½æ•°compè¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å·®é›†ï¼Œæ±‚å­˜åœ¨äº[first1, last1)ä¸”ä¸å­˜åœ¨äº[first2, last2)çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œsetæ˜¯ä¸€ç§sorted rangeã€‚è¿™æ˜¯ä»¥ä¸‹ç®—æ³•çš„å‰æ</span></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">set_difference</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//å½“ä¸¤ä¸ªåŒºé—´éƒ½å°šæœªåˆ°è¾¾å°¾ç«¯æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ...</span></span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2)</span><br><span class="line">	<span class="comment">//åœ¨ä¸¤åŒºé—´å†…åˆ†åˆ«ç§»åŠ¨è¿­ä»£å™¨ã€‚å½“ç¬¬ä¸€åŒºé—´çš„å…ƒç´ ç­‰äºç¬¬äºŒåŒºé—´çš„å…ƒç´ (è¡¨ç¤ºæ­¤å€¼</span></span><br><span class="line">	<span class="comment">//åŒæ—¶å­˜åœ¨äºä¸¤åŒºé—´)ï¼Œå°±è®©ä¸¤åŒºé—´åŒæ—¶å‰è¿›;å½“ç¬¬ä¸€åŒºé—´çš„å…ƒç´ å¤§äºç¬¬äºŒåŒºé—´çš„å…ƒç´ ï¼Œ</span></span><br><span class="line">	<span class="comment">//å°±è®©ç¬¬äºŒåŒºé—´å‰è¿›;æœ‰äº†è¿™ä¸¤ç§å¤„ç†ï¼Œå°±ä¿è¯å½“ç¬¬ä¸€åŒºé—´çš„å…ƒç´ å°äºç¬¬äºŒåŒºé—´çš„</span></span><br><span class="line">	<span class="comment">//å…ƒç´ æ—¶ï¼Œç¬¬ä¸€åŒºé—´çš„å…ƒç´ åªå­˜åœ¨äºç¬¬ä¸€åŒºé—´ä¸­ï¼Œä¸å­˜åœ¨äºç¬¬äºŒåŒºé—´ï¼Œäºæ˜¯å°†å®ƒ</span></span><br><span class="line">	<span class="comment">//è®°å½•äºç›®æ ‡åŒº</span></span><br><span class="line">	<span class="keyword">if</span> (*first1 &lt; *first2) &#123;</span><br><span class="line">		*result = *first1;</span><br><span class="line">		++first1;</span><br><span class="line">		++result;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*first2 &lt; *first1) </span><br><span class="line">		++first2;</span><br><span class="line">	<span class="keyword">else</span> &#123;	 <span class="comment">// *first2 == *first1</span></span><br><span class="line">		++first1;</span><br><span class="line">		++first2;</span><br><span class="line"> &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>(first1, last1, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="set-symmetric-difference"><a href="#set-symmetric-difference" class="headerlink" title="set_symmetric_difference"></a>set_symmetric_difference</h4><p>ç®—æ³•set_symmetric_differenceå¯æ„é€ S1ã€S2ä¹‹å¯¹ç§°å·®é›†ã€‚æ­¤é›†åˆå†…å«â€œå‡ºç°äºS1ä½†ä¸å‡ºç°äºS2â€ä»¥åŠâ€œå‡ºç°äºS2ä½†ä¸å‡ºç°äºS1â€çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚S1ã€S2åŠå…¶äº¤é›†éƒ½æ˜¯ä»¥æ’åºåŒºé—´è¡¨ç¤ºã€‚è¿”å›å€¼ä¸ºä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘è¾“å‡ºåŒºé—´çš„å°¾ç«¯ã€‚</p>
<p>ç”±äºS1å’ŒS2å†…çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸éœ€å”¯ä¸€ï¼Œå› æ­¤å¦‚æœæŸä¸ªå€¼åœ¨S1å‡ºç°næ¬¡ï¼Œåœ¨S2å‡ºç°mæ¬¡ï¼Œé‚£ä¹ˆè¯¥å€¼åœ¨è¾“å‡ºåŒºé—´ä¸­ä¼šå‡ºç°ln-mlæ¬¡ã€‚å¦‚æœn &gt; mï¼Œè¾“å‡ºåŒºé—´å†…çš„æœ€ån-mä¸ªå…ƒç´ å°†ç”±S1å¤åˆ¶è€Œæ¥ï¼Œå¦‚æœn &lt; måˆ™è¾“å‡ºåŒºé—´å†…çš„æœ€åm-nä¸ªå…ƒç´ å°†ç”±s2å¤åˆ¶è€Œæ¥ã€‚åœ¨STL setå®¹å™¨å†…ï¼Œm â‰¤ 1 ä¸”n â‰¤ 1ã€‚</p>
<p>set_symmetric_differenceæ˜¯ä¸€ç§ç¨³å®šï¼ˆstableï¼‰æ“ä½œï¼Œæ„æ€æ˜¯è¾“å…¥åŒºé—´å†…çš„å…ƒç´ ç›¸å¯¹é¡ºåºä¸ä¼šè¢«æ”¹å˜ã€‚å®ƒæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå·®åˆ«åœ¨äºå¦‚ä½•å®šä¹‰æŸä¸ªå…ƒç´ å°äºå¦ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬é‡‡ç”¨ä»¿å‡½æ•°compã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹ç§°å·®é›†ï¼Œæ±‚å­˜åœ¨äº[first1, last1)ä¸”ä¸å­˜åœ¨äº[first2, last2)çš„æ‰€æœ‰å…ƒç´ ï¼Œ</span></span><br><span class="line"><span class="comment">//ä»¥åŠå­˜åœ¨äº[first2, last2)ä¸”ä¸å­˜åœ¨äº[first1, last1)çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œä¸Šè¿°å®šä¹‰åªæœ‰åœ¨â€œå…ƒç´ å€¼ç‹¬ä¸€æ— äºŒâ€çš„æƒ…å†µä¸‹æ‰æˆç«‹ã€‚å¦‚æœå°†setä¸€èˆ¬åŒ–ï¼Œ</span></span><br><span class="line"><span class="comment">//å…è®¸å‡ºç°é‡å¤å…ƒç´ ï¼Œé‚£ä¹ˆset-symmetric-differenceçš„å®šä¹‰åº”è¯¥æ˜¯:</span></span><br><span class="line"><span class="comment">//å¦‚æœæŸå€¼åœ¨[first1, last1)å‡ºç°næ¬¡ï¼Œåœ¨[first2, last2)å‡ºç°mæ¬¡ï¼Œ</span></span><br><span class="line"><span class="comment">//é‚£ä¹ˆå®ƒåœ¨result rangeä¸­åº”è¯¥å‡ºç°abs(n-m)æ¬¡</span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œsetæ˜¯ä¸€ç§sorted rangeã€‚è¿™æ˜¯ä»¥ä¸‹ç®—æ³•çš„å‰æ</span></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">set_symmetric_difference</span><span class="params">(InputIterator1 first1, InputIterator1 lastl, InputIterator2 first2, InputIterator2 last2, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//å½“ä¸¤ä¸ªåŒºé—´éƒ½å°šæœªåˆ°è¾¾å°¾ç«¯æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ...</span></span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2)</span><br><span class="line">		<span class="comment">//åœ¨ä¸¤åŒºé—´å†…åˆ†åˆ«ç§»åŠ¨è¿­ä»£å™¨ã€‚å½“ä¸¤åŒºé—´å†…çš„å…ƒç´ ç›¸ç­‰ï¼Œå°±è®©ä¸¤åŒºåŒæ—¶å‰è¿›ï¼›</span></span><br><span class="line">		<span class="comment">//å½“ä¸¤åŒºé—´å†…çš„å…ƒç´ ä¸ç­‰ï¼Œå°±è®°å½•è¾ƒå°å€¼äºç›®æ ‡åŒºï¼Œå¹¶ä»¤è¾ƒå°å€¼æ‰€åœ¨åŒºé—´å‰è¿›</span></span><br><span class="line">		<span class="keyword">if</span> (*first1 &lt; *first2) &#123;</span><br><span class="line">			*result = *first1;</span><br><span class="line">			++first1;</span><br><span class="line">			++result;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (*first2 &lt; *first1) &#123;</span><br><span class="line">			*result = *first2;</span><br><span class="line">			++first2;</span><br><span class="line">			++result;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;		<span class="comment">// *first2 == *first1</span></span><br><span class="line">			++first1;</span><br><span class="line">			++first2;</span><br><span class="line">        &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>(first2, last2, <span class="built_in">copy</span>(first1, last1, result));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…¶å®ƒç®—æ³•"><a href="#å…¶å®ƒç®—æ³•" class="headerlink" title="å…¶å®ƒç®—æ³•"></a>å…¶å®ƒç®—æ³•</h3><h4 id="å•çº¯çš„æ•°æ®å¤„ç†"><a href="#å•çº¯çš„æ•°æ®å¤„ç†" class="headerlink" title="å•çº¯çš„æ•°æ®å¤„ç†"></a>å•çº¯çš„æ•°æ®å¤„ç†</h4><h5 id="adjacent-find"><a href="#adjacent-find" class="headerlink" title="adjacent_find"></a>adjacent_find</h5><p>æ‰¾å‡ºç¬¬ä¸€ç»„æ»¡è¶³æ¡ä»¶çš„ç›¸é‚»å…ƒç´ ã€‚è¿™é‡Œçš„æ¡ä»¶ï¼Œåœ¨ç‰ˆæœ¬ä¸€ä¸­æ˜¯æŒ‡â€œä¸¤å…ƒç´ ç›¸ç­‰â€ï¼Œåœ¨ç‰ˆæœ¬äºŒä¸­å…è®¸ç”¨æˆ·æŒ‡å®šä¸€ä¸ªäºŒå…ƒè¿ç®—ï¼Œä¸¤ä¸ªæ“ä½œæ•°åˆ†åˆ«æ˜¯ç›¸é‚»çš„ç¬¬ä¸€å…ƒç´ å’Œç¬¬äºŒå…ƒç´ ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŸ¥æ‰¾ç›¸é‚»çš„é‡å¤å…ƒç´ ã€‚ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">adjacent_find</span><span class="params">(ForwardIterator first, ForwardIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> last;</span><br><span class="line">	ForwardIterator next = first;</span><br><span class="line">	<span class="keyword">while</span> (++next != last) &#123;</span><br><span class="line">		<span class="keyword">if</span> (*first == *next) <span class="keyword">return</span> first; <span class="comment">//å¦‚æœæ‰¾åˆ°ç›¸é‚»çš„å…ƒç´ å€¼ç›¸åŒï¼Œå°±ç»“æŸ</span></span><br><span class="line">		first = next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br><span class="line">                              </span><br><span class="line"><span class="comment">//æŸ¥æ‰¾ç›¸é‚»çš„é‡å¤å…ƒç´ ã€‚ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">BinaryPredicate</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">adjacent_find</span><span class="params">(ForwardIterator first, ForwardIterator last, BinaryPredicate binary_pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> last;</span><br><span class="line">	ForwardIterator next = first;</span><br><span class="line">	<span class="keyword">while</span> (++next != last) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">binary_pred</span>(*first, *next)) <span class="keyword">return</span> first;</span><br><span class="line">		first = next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="count"><a href="#count" class="headerlink" title="count"></a>count</h5><p>è¿ç”¨equalityæ“ä½œç¬¦ï¼Œå°†[first, last)åŒºé—´å†…çš„æ¯ä¸€ä¸ªå…ƒç´ æ‹¿æ¥å’ŒæŒ‡å®šå€¼valueæ¯”è¾ƒï¼Œå¹¶è¿”å›ä¸valueç›¸ç­‰çš„å…ƒç´ ä¸ªæ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">typename</span> iterator_traits&lt;InputIterator&gt;::<span class="function">difference_type</span></span><br><span class="line"><span class="function"><span class="title">count</span><span class="params">(InputIterator first, InputIterator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹å£°æ˜ä¸€ä¸ªè®¡æ•°å™¨n</span></span><br><span class="line">	<span class="keyword">typename</span> iterator_traits&lt;InputIterator&gt;::difference_type n = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)		<span class="comment">//æ•´ä¸ªåŒºé—´èµ°ä¸€é</span></span><br><span class="line">		<span class="keyword">if</span> (*first == value)		   <span class="comment">//å¦‚æœå…ƒç´ å€¼å’Œvalueç›¸ç­‰</span></span><br><span class="line">			++n;					  <span class="comment">//è®¡æ•°å™¨ç´¯åŠ 1</span></span><br><span class="line">	<span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="count-if"><a href="#count-if" class="headerlink" title="count_if"></a>count_if</h5><p>å°†æŒ‡å®šæ“ä½œï¼ˆä¸€ä¸ªä»¿å‡½æ•°ï¼‰predå®æ–½äº[first, last)åŒºé—´å†…çš„æ¯ä¸€ä¸ªå…ƒç´ èº«ä¸Šï¼Œå¹¶å°†â€œé€ æˆpredä¹‹è®¡ç®—ç»“æœä¸ºtrueâ€çš„æ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°è¿”å›ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicates</span>&gt;</span><br><span class="line"><span class="keyword">typename</span> iterator_traits&lt;InputIterator&gt;::<span class="function">difference_type</span></span><br><span class="line"><span class="function"><span class="title">count_if</span><span class="params">(InputIterator first, InputIterator last, Predicate pred)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹å£°æ˜ä¸€ä¸ªè®¡æ•°å™¨n</span></span><br><span class="line">	<span class="keyword">typename</span> iterator_traits&lt;InputIterator&gt;::difference_type n = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)		<span class="comment">//æ•´ä¸ªåŒºé—´èµ°ä¸€é</span></span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">pred</span>(*first))			<span class="comment">//å¦‚æœå…ƒç´ å¸¦å…¥predçš„è¿ç®—ç»“æœä¸ºtrue</span></span><br><span class="line">			++n;					<span class="comment">//è®¡æ•°å™¨ç´¯åŠ 1</span></span><br><span class="line">	<span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="find"><a href="#find" class="headerlink" title="find"></a>find</h5><p>æ ¹æ®equalityæ“ä½œç¬¦ï¼Œå¾ªåºæŸ¥æ‰¾[first, last)å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªåŒ¹é…â€œç­‰åŒ(equality)æ¡ä»¶â€è€…ã€‚å¦‚æœæ‰¾åˆ°ï¼Œå°±è¿”å›ä¸€ä¸ªInputIteratoræŒ‡å‘è¯¥å…ƒç´ ï¼Œå¦åˆ™è¿”å›è¿­ä»£å™¨lastã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">InputIterator <span class="title">find</span><span class="params">(InputIterator first, InputIterator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first != last &amp;&amp; *first != value) ++first;</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="find-if"><a href="#find-if" class="headerlink" title="find_if"></a>find_if</h5><p>æ ¹æ®æŒ‡å®šçš„predè¿ç®—æ¡ä»¶ï¼ˆä»¥ä»¿å‡½æ•°è¡¨ç¤ºï¼‰ï¼Œå¾ªåºæŸ¥æ‰¾[first, last)å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªä»¤predè¿ç®—ç»“æœä¸ºtrueè€…ã€‚å¦‚æœæ‰¾åˆ°å°±è¿”å›InputIteratoræŒ‡å‘è¯¥å…ƒç´ ï¼Œå¦åˆ™è¿”å›è¿­ä»£å™¨lastã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicate</span>&gt;</span><br><span class="line"><span class="function">InputIterator <span class="title">find_if</span><span class="params">(InputIterator first, InputIterator last, Predicate pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first != last &amp;&amp; !<span class="built_in">pred</span>(*first)) ++first;</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="find-end"><a href="#find-end" class="headerlink" title="find_end"></a>find_end</h5><p>åœ¨åºåˆ—ä¸€[first1, last1)æ‰€æ¶µç›–çš„åŒºé—´ä¸­ï¼ŒæŸ¥æ‰¾åºåˆ—äºŒ[first2, last2)çš„æœ€åä¸€æ¬¡å‡ºç°ç‚¹ã€‚å¦‚æœåºåˆ—ä¸€ä¹‹å†…ä¸å­˜åœ¨â€œå®Œå…¨åŒ¹é…åºåˆ—äºŒâ€çš„å­åºåˆ—ï¼Œä¾¿è¿”å›è¿­ä»£å™¨last1ã€‚æ­¤ç®—æ³•æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸€ä½¿ç”¨å…ƒç´ å‹åˆ«æ‰€æä¾›çš„equalityæ“ä½œç¬¦ï¼Œç‰ˆæœ¬äºŒå…è®¸ç”¨æˆ·æŒ‡å®šæŸä¸ªäºŒå…ƒè¿ç®—ï¼ˆä»¥ä»¿å‡½æ•°å‘ˆç°ï¼‰ï¼Œä½œä¸ºåˆ¤æ–­å…ƒç´ ç›¸ç­‰ä¸å¦çš„ä¾æ®ã€‚</p>
<p>ç”±äºè¿™ä¸ªç®—æ³•æŸ¥æ‰¾çš„æ˜¯â€œæœ€åä¸€æ¬¡å‡ºç°åœ°ç‚¹â€ï¼Œå¦‚æœæˆ‘ä»¬æœ‰èƒ½åŠ›é€†å‘æŸ¥æ‰¾ï¼Œé¢˜ç›®å°±å˜æˆäº†â€œé¦–æ¬¡å‡ºç°åœ°ç‚¹â€ï¼Œé‚£å¯¹è®¾è®¡è€…è€Œè¨€å½“ç„¶æ¯”è¾ƒçœåŠ›ã€‚é€†å‘æŸ¥æ‰¾çš„å…³é”®åœ¨äºè¿­ä»£å™¨çš„åŒå‘ç§»åŠ¨èƒ½åŠ›ï¼Œå› æ­¤ï¼ŒSGIå°†ç®—æ³•è®¾è®¡ä¸ºåŒå±‚æ¶æ„ï¼Œä¸€èˆ¬ç§°å‘¼æ­¤ç§ä¸Šå±‚å‡½æ•°ä¸ºdispatch functionï¼ˆåˆ†æ´¾å‡½æ•°ã€æ´¾é€å‡½æ•°ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ForwardIterator1</span></span><br><span class="line"><span class="function"><span class="title">find_end</span><span class="params">(ForwardIterator1 first1, ForwardIterator1 last1, ForwardIterator2 first2, ForwardIterator2 last2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;ForwardIterator1&gt;::iterator_category  category1;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;ForwardIterator2&gt;::iterator_category category2;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ä»¥ä¸‹æ ¹æ®ä¸¤ä¸ªåŒºé—´çš„ç±»å±ï¼Œè°ƒç”¨ä¸åŒçš„ä¸‹å±‚å‡½æ•°</span></span><br><span class="line">	<span class="keyword">return</span> __find_end(first1, last1, first2, last2, <span class="built_in">category1</span>(), <span class="built_in">category2</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€ç§å¸¸è§çš„æŠ€å·§ï¼Œä»¤å‡½æ•°ä¼ é€’è°ƒç”¨è¿‡ç¨‹ä¸­äº§ç”Ÿè¿­ä»£å™¨ç±»å‹ï¼ˆiterator categoryï¼‰çš„ä¸´æ—¶å¯¹è±¡ï¼Œå†åˆ©ç”¨ç¼–è¯‘å™¨çš„å‚æ•°æ¨å¯¼æœºåˆ¶ï¼ˆargument deduction)ï¼Œè‡ªåŠ¨è°ƒç”¨æŸä¸ªå¯¹åº”å‡½æ•°ã€‚æ­¤ä¾‹ä¹‹å¯¹åº”å‡½æ•°æœ‰ä¸¤ä¸ªå€™é€‰è€…ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹æ˜¯forward iteratorsç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>&gt;</span><br><span class="line">ForwardIterator1 __find_end(ForwardIterator1 first1, ForwardIterator1 last1, ForwardIterator2 first2, ForwardIterator2 last2, forward_iterator_tag, forward_iterator_tag)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (first2 == last2)	<span class="comment">//å¦‚æœæŸ¥æ‰¾ç›®æ ‡æ˜¯ç©ºçš„ï¼Œ</span></span><br><span class="line">		<span class="keyword">return</span> last1;		<span class="comment">//è¿”å›last1ï¼Œè¡¨ç¤ºè¯¥â€œç©ºå­åºåˆ—â€çš„æœ€åå‡ºç°ç‚¹</span></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		ForwardIterator1 result = last1;</span><br><span class="line">		<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="comment">//ä»¥ä¸‹åˆ©ç”¨search()æŸ¥æ‰¾æŸä¸ªå­åºåˆ—çš„é¦–æ¬¡å‡ºç°ç‚¹ã€‚æ‰¾ä¸åˆ°çš„è¯è¿”å›last1</span></span><br><span class="line">			Forwardlterator1 new_result = <span class="built_in">search</span>(first1, last1, first2, last2);</span><br><span class="line">			<span class="keyword">if</span> (new_result == last1)	<span class="comment">//æ²¡æ‰¾åˆ°</span></span><br><span class="line">				<span class="keyword">return</span> result;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				result = new_result;	<span class="comment">//è°ƒåŠ¨ä¸€ä¸‹æ ‡å…µï¼Œå‡†å¤‡ä¸‹ä¸€ä¸ªæŸ¥æ‰¾è¡ŒåŠ¨</span></span><br><span class="line">				first1 = new_result;</span><br><span class="line">				++first1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹æ˜¯bidirectional iteratorsç‰ˆï¼ˆå¯ä»¥é€†å‘æŸ¥æ‰¾ï¼‰</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator1</span>, <span class="keyword">class</span> <span class="title class_">BidirectionalIterator2</span>&gt;</span><br><span class="line">BidirectionalIterator1</span><br><span class="line">__find_end(BidirectionalIterator1 first1, BidirectionalIterator1 last1,</span><br><span class="line">		  BidirectionalIterator1 first2, BidirectionalIterator2 last2,</span><br><span class="line">		  bidirectional_iterator_tag, bidirectional_iterator_tag)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//ç”±äºæŸ¥æ‰¾çš„æ˜¯â€œæœ€åå‡ºç°åœ°ç‚¹â€ï¼Œå› æ­¤åå‘æŸ¥æ‰¾æ¯”è¾ƒå¿«ã€‚åˆ©ç”¨reverse_iteratorã€‚</span></span><br><span class="line">    <span class="keyword">typedef</span> reverse_iterator&lt;BidirectionalIterator1&gt; reviter1;</span><br><span class="line">    <span class="keyword">typedef</span> reverse_iterator&lt;BidirectionalIterator2&gt; reviter2;</span><br><span class="line">    </span><br><span class="line">    <span class="function">reviter1 <span class="title">rlast1</span><span class="params">(first1)</span></span>;</span><br><span class="line">    <span class="function">reviter2 <span class="title">rlast2</span><span class="params">(first2)</span></span>;</span><br><span class="line">    <span class="comment">//æŸ¥æ‰¾æ—¶ï¼Œå°†åºåˆ—ä¸€å’Œåºåˆ—äºŒç»Ÿç»Ÿé€†è½¬æ–¹å‘</span></span><br><span class="line">    reviter1 rresult = <span class="built_in">search</span>(<span class="built_in">reviter1</span>(last1), rlast1,</span><br><span class="line">                              <span class="built_in">reviter2</span>(last2), rlast2);</span><br><span class="line">	<span class="keyword">if</span> (rresult == rlast1)	<span class="comment">//æ²¡æ‰¾åˆ°</span></span><br><span class="line">		<span class="keyword">return</span> last1;		</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		BidirectionalIterator1 result = rresult.<span class="built_in">base</span>(); <span class="comment">//è½¬å›æ­£å¸¸ï¼ˆéé€†å‘ï¼‰è¿­ä»£å™¨</span></span><br><span class="line">		<span class="built_in">advance</span>(result, -<span class="built_in">distance</span>(first2, last2)); <span class="comment">//è°ƒæ•´å›åˆ°å­åºåˆ—çš„èµ·ç‚¹å¤„</span></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="find-first-of"><a href="#find-first-of" class="headerlink" title="find_first_of"></a>find_first_of</h5><p>æœ¬ç®—æ³•ä»¥[first2, last2)åŒºé—´å†…çš„<strong>æŸäº›å…ƒç´ </strong>ä½œä¸ºæŸ¥æ‰¾ç›®æ ‡ï¼Œå¯»æ‰¾å®ƒä»¬åœ¨[first1, last1)åŒºé—´å†…çš„ç¬¬ä¸€æ¬¡å‡ºç°åœ°ç‚¹ã€‚å¦‚æœç¬¬ä¸€åºåˆ—å¹¶æœªå†…å«ç¬¬äºŒåºåˆ—çš„ä»»ä½•å…ƒç´ ï¼Œè¿”å›çš„å°†æ˜¯last1ã€‚æœ¬ç®—æ³•ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä½¿ç”¨å…ƒç´ å‹åˆ«æ‰€æä¾›çš„equalityæ“ä½œç¬¦ï¼Œç¬¬äºŒä¸ªç‰ˆæœ¬å…è®¸ç”¨æˆ·æŒ‡å®šä¸€ä¸ªäºŒå…ƒè¿ç®—predã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line"><span class="function">InputIterator <span class="title">find_first_of</span> <span class="params">(InputIterator first1, InputIterator last1, ForwardIterator first2, ForwardIterator last2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1) <span class="comment">//éè®¿åºåˆ—ä¸€</span></span><br><span class="line">		<span class="comment">//ä»¥ä¸‹ï¼Œæ ¹æ®åºåˆ—äºŒçš„æ¯ä¸ªå…ƒç´ </span></span><br><span class="line">		<span class="keyword">for</span> (ForwardIterator iter = first2; iter != last2; ++iter)</span><br><span class="line">			<span class="keyword">if</span> (*first1 == *iter)	<span class="comment">//å¦‚æœåºåˆ—ä¸€çš„å…ƒç´ ç­‰äºåºåˆ—äºŒçš„å…ƒç´ </span></span><br><span class="line">				<span class="keyword">return</span> first1;	    <span class="comment">//æ‰¾åˆ°äº†ï¼Œç»“æŸ</span></span><br><span class="line">	<span class="keyword">return</span> last1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">BinaryPredicate</span>&gt;</span><br><span class="line"><span class="function">InputIterator <span class="title">find_first_of</span> <span class="params">(InputIterator first1, InputIterator last1, ForwardIterator first2, ForwardIterator last2, BinaryPredicate comp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1) <span class="comment">//éè®¿åºåˆ—ä¸€</span></span><br><span class="line">		<span class="comment">//ä»¥ä¸‹ï¼Œæ ¹æ®åºåˆ—äºŒçš„æ¯ä¸ªå…ƒç´ </span></span><br><span class="line">		<span class="keyword">for</span> (ForwardIterator iter = first2; iter != last2; ++iter)</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">comp</span>(*first1, *iter)) <span class="comment">//å¦‚æœåºåˆ—ä¸€å’Œåºåˆ—äºŒçš„å…ƒç´ æ»¡è¶³compæ¡ä»¶</span></span><br><span class="line">				<span class="keyword">return</span> first1;		 <span class="comment">//æ‰¾åˆ°äº†ï¼Œç»“æŸ</span></span><br><span class="line">	<span class="keyword">return</span> last1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="for-each"><a href="#for-each" class="headerlink" title="for_each"></a>for_each</h5><p>å°†ä»¿å‡½æ•°fæ–½è¡Œäº[first, last)åŒºé—´å†…çš„æ¯ä¸€ä¸ªå…ƒç´ èº«ä¸Šã€‚fä¸å¯ä»¥æ”¹å˜å…ƒç´ å†…å®¹ï¼Œå› ä¸ºfirstå’Œlastéƒ½æ˜¯Inputlteratorsï¼Œä¸ä¿è¯æ¥å—èµ‹å€¼è¡Œä¸º(assignment)ã€‚å¦‚æœæƒ³è¦ä¸€ä¸€ä¿®æ”¹å…ƒç´ å†…å®¹ï¼Œåº”è¯¥ä½¿ç”¨ç®—æ³•transform ( )ã€‚få¯è¿”å›ä¸€ä¸ªå€¼ï¼Œä½†è¯¥å€¼ä¼šè¢«å¿½ç•¥ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">Function</span>&gt;</span><br><span class="line"><span class="function">Function <span class="title">for_each</span> <span class="params">(InputIterator first, InputIterator last, Function f)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)</span><br><span class="line">		<span class="built_in">f</span>(*first);	<span class="comment">//è°ƒç”¨ä»¿å‡½æ•°fçš„function callæ“ä½œç¬¦ã€‚è¿”å›å€¼è¢«å¿½ç•¥</span></span><br><span class="line">	<span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h5><p>å°†ä»¿å‡½æ•°gençš„è¿ç®—ç»“æœå¡«å†™åœ¨[first, last)åŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ èº«ä¸Šã€‚æ‰€è°“å¡«å†™ï¼Œç”¨çš„æ˜¯è¿­ä»£å™¨æ‰€æŒ‡å…ƒç´ ä¹‹assignmentæ“ä½œç¬¦ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Generator</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">generate</span><span class="params">(ForwardIterator first, ForwardIterator last, Generator gen)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)		<span class="comment">//æ•´ä¸ªåºåˆ—åŒºé—´</span></span><br><span class="line">		*first = <span class="built_in">gen</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="generate-n"><a href="#generate-n" class="headerlink" title="generate_n"></a>generate_n</h5><p>å°†ä»¿å‡½æ•°gençš„è¿ç®—ç»“æœå¡«å†™åœ¨ä»firstå¼€å§‹çš„nä¸ªå…ƒç´ èº«ä¸Šï¼Œæ‰€è°“å¡«å†™ï¼Œç”¨çš„æ˜¯è¿­ä»£å™¨æ‰€æŒ‡å…ƒç´ çš„assignmentæ“ä½œç¬¦ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">Size</span>, <span class="keyword">class</span> <span class="title class_">Generator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">generate_n</span> <span class="params">(outputIterator first, Size n, Generator gen)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; n &gt; <span class="number">0</span>; --n, ++first)	<span class="comment">//åªé™nä¸ªå…ƒç´ </span></span><br><span class="line">		*first = <span class="built_in">gen</span>();</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="includesï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#includesï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="includesï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>includesï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h5><p>è¯¥ç®—æ³•åˆ¤æ–­åºåˆ—äºŒS2æ˜¯å¦â€œæ¶µç›–äºâ€åºåˆ—ä¸€S1ã€‚S1å’ŒS2éƒ½å¿…é¡»æ˜¯æœ‰åºé›†åˆï¼Œå…¶ä¸­çš„å…ƒç´ å¯é‡å¤ï¼ˆå‡è®¾æŸå…ƒç´ åœ¨S2å‡ºç°næ¬¡ï¼Œåœ¨S1å‡ºç°mæ¬¡ï¼Œé‚£ä¹ˆå¦‚æœm &lt; nï¼Œæ­¤ç®—æ³•ä¼šè¿”å›falseï¼‰ã€‚</p>
<p>ç”±äºåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œå¿…é¡»ä»¥lessæˆ–greaterè¿ç®—ä¸ºä¾æ®ï¼ˆå½“S1å…ƒç´ ä¸å°äºS2å…ƒç´ ä¸”S2å…ƒç´ ä¸å°äºS1å…ƒç´ ï¼Œä¸¤è€…å³ç›¸ç­‰ï¼›æˆ–è¯´å½“S1å…ƒç´ ä¸å¤§äºS2å…ƒç´ ä¸”S2å…ƒç´ ä¸å¤§äºS1å…ƒç´ ï¼Œä¸¤è€…å³ç›¸ç­‰ï¼‰ï¼Œå› æ­¤é…åˆç€ä¸¤ä¸ªåºåˆ—S1å’ŒS2çš„æ’åºæ–¹å¼ï¼ˆé€’å¢æˆ–é€’å‡)ï¼Œincludesç®—æ³•å¯ä¾›ç”¨æˆ·é€‰æ‹©é‡‡ç”¨lessæˆ–greaterè¿›è¡Œä¸¤å…ƒç´ çš„å¤§å°æ¯”è¾ƒ(comparison) ã€‚</p>
<p>å¦‚æœS1å’ŒS2æ˜¯é€’å¢æ’åºï¼ˆä»¥operator&lt;æ‰§è¡Œæ¯”è¾ƒæ“ä½œï¼‰ï¼Œincludesç®—æ³•åº”è¯¥è¿™ä¹ˆä½¿ç”¨ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">includes</span>(S1.<span class="built_in">begin</span>(), S1.<span class="built_in">end</span>(), S2.<span class="built_in">begin</span>(), S2.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<p>è¿™å’Œä¸‹ä¸€è¡Œå®Œå…¨ç›¸åŒï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">includes</span>(S1.<span class="built_in">begin</span>(), S1.<span class="built_in">end</span>(), S2.<span class="built_in">begin</span>(), S2.<span class="built_in">end</span>(), <span class="built_in">less</span>&lt;<span class="type">int</span>&gt;();</span><br></pre></td></tr></table></figure>


<p>ç„¶è€Œå¦‚æœS1å’ŒS2æ˜¯é€’å‡æ’åºï¼ˆä»¥operator&gt;æ‰§è¡Œæ¯”è¾ƒæ“ä½œï¼‰ï¼Œincludesç®—æ³•åº”è¯¥è¿™ä¹ˆä½¿ç”¨:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">includes</span>(S1.<span class="built_in">begin</span>(), S1.<span class="built_in">end</span>(), S2.<span class="built_in">begin</span>(), S2.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€ã€‚åˆ¤æ–­åŒºé—´äºŒçš„æ¯ä¸ªå…ƒç´ å€¼æ˜¯å¦éƒ½å­˜åœ¨äºåŒºé—´ä¸€</span></span><br><span class="line"><span class="comment">//å‰æ:åŒºé—´ä¸€å’ŒåŒºé—´äºŒéƒ½æ˜¯sorted ranges</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">includes</span> <span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2) <span class="comment">//ä¸¤ä¸ªåŒºé—´éƒ½å°šæœªèµ°å®Œ</span></span><br><span class="line">		<span class="keyword">if</span> (*first2 &lt; *first1)		<span class="comment">//åºåˆ—äºŒçš„å…ƒç´ å°äºåºåˆ—ä¸€çš„å…ƒç´ </span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;		   <span class="comment">//â€œæ¶µç›–â€çš„æƒ…å†µå¿…ç„¶ä¸æˆç«‹ã€‚ç»“æŸæ‰§è¡Œ</span></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*first1 &lt; *first2)      <span class="comment">//åºåˆ—äºŒçš„å…ƒç´ å¤§äºåºåˆ—ä¸€çš„å…ƒç´ </span></span><br><span class="line">		++first1;				   <span class="comment">//åºåˆ—ä¸€å‰è¿›1</span></span><br><span class="line">	<span class="keyword">else</span> 						   <span class="comment">//* first1 == * first2</span></span><br><span class="line">		++first1, ++first2;			<span class="comment">//ä¸¤åºåˆ—å„è‡ªå‰è¿›1</span></span><br><span class="line">	<span class="keyword">return</span> first2 == last2;	<span class="comment">//æœ‰ä¸€ä¸ªåºåˆ—èµ°å®Œäº†ï¼Œåˆ¤æ–­æœ€åä¸€å…³</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒã€‚åˆ¤æ–­åºåˆ—ä¸€å†…æ˜¯å¦æœ‰ä¸ªå­åºåˆ—ï¼Œå…¶ä¸åºåˆ—äºŒçš„æ¯ä¸ªå¯¹åº”å…ƒç´ éƒ½æ»¡è¶³äºŒå…ƒè¿ç®—comp</span></span><br><span class="line"><span class="comment">//å‰æï¼šåºåˆ—ä¸€å’Œåºåˆ—äºŒéƒ½æ˜¯sorted ranges</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIterator1, <span class="keyword">class</span> InputIterator2, <span class="keyword">class</span> Compare&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">includes</span> <span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2)	<span class="comment">//ä¸¤ä¸ªåŒºé—´éƒ½å°šæœªèµ°å®Œ</span></span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">comp</span>(*first2, *first1))	<span class="comment">//comp(s2å…ƒç´ ,s1å…ƒç´ )ä¸ºçœŸ</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;		   <span class="comment">//â€œæ¶µç›–â€çš„æƒ…å†µå¿…ç„¶ä¸æˆç«‹ã€‚ç»“æŸæ‰§è¡Œ</span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">comp</span>(*first1, *first2)) <span class="comment">//comp(s1å…ƒç´ ,s2å…ƒç´ )ä¸ºçœŸ</span></span><br><span class="line">			++first1; 					<span class="comment">//S1å‰è¿›1</span></span><br><span class="line">		<span class="keyword">else</span>						    <span class="comment">//*first1 == *first2</span></span><br><span class="line">			++first1, ++first2;			 <span class="comment">//S1,S2å„è‡ªå‰è¿›1</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> first2 == last2;				<span class="comment">//æœ‰ä¸€ä¸ªåºåˆ—èµ°å®Œäº†ï¼Œåˆ¤æ–­æœ€åä¸€å…³</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="max-element"><a href="#max-element" class="headerlink" title="max_element"></a>max_element</h5><p>è¯¥ç®—æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘åºåˆ—ä¹‹ä¸­æ•°å€¼æœ€å¤§çš„å…ƒç´ ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">max_element</span><span class="params">(ForwardIterator first, ForwardIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> first;</span><br><span class="line">	ForwardIterator result = first;</span><br><span class="line">	<span class="keyword">while</span> (++first != last)</span><br><span class="line">		<span class="keyword">if</span> (*result &lt; *first) result = first; <span class="comment">//å¦‚æœç›®å‰å…ƒç´ æ¯”è¾ƒå¤§ï¼Œå°±ç™»è®°èµ·æ¥</span></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">max_element</span><span class="params">(ForwardIterator first, ForwardIterator last, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> first;</span><br><span class="line">	ForwardIterator result = first;</span><br><span class="line">	<span class="keyword">while</span> (++first != last)</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">comp</span>(*result, *first)) result = first;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h5><p>è¯¥ç®—æ³•å°†ä¸¤ä¸ªå·²ç»æ’åºçš„é›†åˆS1å’ŒS2ï¼Œåˆå¹¶èµ·æ¥ç½®äºå¦ä¸€æ®µç©ºé—´ã€‚æ‰€å¾—ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªæœ‰åºï¼ˆsortedï¼‰åºåˆ— ã€‚è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘æœ€åç»“æœåºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">merge</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2) &#123;  <span class="comment">// ä¸¤ä¸ªåºåˆ—éƒ½å°šæœªèµ°å®Œ</span></span><br><span class="line">		<span class="keyword">if</span> (*first2 &lt; *first1) &#123;	<span class="comment">//åºåˆ—äºŒçš„å…ƒç´ æ¯”è¾ƒå°</span></span><br><span class="line">			*result = *first2;	    <span class="comment">//ç™»è®°åºåˆ—äºŒçš„å…ƒç´ </span></span><br><span class="line">			++first2;			   <span class="comment">//åºåˆ—äºŒå‰è¿›1</span></span><br><span class="line">		&#125;					</span><br><span class="line">		<span class="keyword">else</span> &#123;					   <span class="comment">//åºåˆ—äºŒçš„å…ƒç´¢ä¸æ¯”è¾ƒå°</span></span><br><span class="line">			*result = *first1;	    <span class="comment">//ç™»è®°åºåˆ—ä¸€çš„å…ƒç´ </span></span><br><span class="line">			++first1;			   <span class="comment">//åºåˆ—ä¸€å‰è¿›1</span></span><br><span class="line">		&#125;</span><br><span class="line">		++result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//æœ€åå‰©ä½™å…ƒç´ ä»¥copyå¤åˆ¶åˆ°ç›®çš„ç«¯ã€‚ä»¥ä¸‹ä¸¤ä¸ªåºåˆ—ä¸€å®šè‡³å°‘æœ‰ä¸€ä¸ªä¸ºç©º</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>(first2, last2, <span class="built_in">copy</span>(first1, last1, result));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">merge</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, InputIterator2 last2, OutputIterator result, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2) &#123; <span class="comment">//ä¸¤ä¸ªåºåˆ—éƒ½å°šæœªèµ°å®Œ</span></span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">comp</span>(*first2, *first1)) &#123;	<span class="comment">//æ¯”è¾ƒä¸¤åºåˆ—çš„å…ƒç´ </span></span><br><span class="line">			*result = *first2;		   <span class="comment">//ç™»è®°åºåˆ—äºŒçš„å…ƒç´ </span></span><br><span class="line">			++first2;				  <span class="comment">//åºåˆ—äºŒå‰è¿›1</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			*result = *first1;		   <span class="comment">//ç™»è®°åºåˆ—ä¸€çš„å…ƒç´ </span></span><br><span class="line">			++first1;				  <span class="comment">//åºåˆ—ä¸€å‰è¿›1</span></span><br><span class="line">		&#125;</span><br><span class="line">		++result;</span><br><span class="line">		<span class="comment">//æœ€åå‰©ä½™å…ƒç´ ä»¥copyå¤åˆ¶åˆ°ç›®çš„ç«¯ã€‚ä»¥ä¸‹ä¸¤ä¸ªåºåˆ—ä¸€å®šè‡³å°‘æœ‰ä¸€ä¸ªä¸ºç©º</span></span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">copy</span>(first2, last2, <span class="built_in">copy</span>(first1, last1, result));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="min-element"><a href="#min-element" class="headerlink" title="min_element"></a>min_element</h5><p>è¯¥ç®—æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘åºåˆ—ä¹‹ä¸­æ•°å€¼æœ€å°çš„å…ƒç´ ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">min_element</span><span class="params">(ForwardIterator first, ForwardIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> first;</span><br><span class="line">	ForwardIterator result = first;</span><br><span class="line">	<span class="keyword">while</span> (++first != last)</span><br><span class="line">		<span class="keyword">if</span> (*first &lt; *result) result = first; <span class="comment">//å¦‚æœç›®å‰å…ƒç´ æ¯”è¾ƒå°ï¼Œå°±ç™»è®°èµ·æ¥</span></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">min_element</span><span class="params">(ForwardIterator first, ForwardIterator last, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> first;</span><br><span class="line">	ForwardIterator result = first;</span><br><span class="line">	<span class="keyword">while</span> (++first != last)</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">comp</span>(*first, *result)) result = first; <span class="comment">//å¦‚æœç›®å‰å…ƒç´ æ¯”è¾ƒå°ï¼Œå°±ç™»è®°èµ·æ¥</span></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="partition"><a href="#partition" class="headerlink" title="partition"></a>partition</h5><p>è¯¥ç®—æ³•ä¼šå°†åŒºé—´[first, last)ä¸­çš„å…ƒç´ é‡æ–°æ’åˆ—ã€‚æ‰€æœ‰è¢«ä¸€å…ƒæ¡ä»¶è¿ç®—ç¬¦predåˆ¤å®šä¸ºtrueçš„å…ƒç´ ï¼Œéƒ½ä¼šè¢«æ”¾åœ¨åŒºé—´çš„å‰ç«¯ï¼Œè¢«åˆ¤å®šä¸ºfalseçš„å…ƒç´ ï¼Œéƒ½ä¼šè¢«æ”¾åœ¨åŒºé—´çš„åç«¯ã€‚è¿™ä¸ªç®—æ³•å¹¶ä¸ä¿è¯ä¿ç•™å…ƒç´ çš„åŸå§‹ç›¸å¯¹ä½ç½®ã€‚å¦‚æœéœ€è¦ä¿ç•™åŸå§‹ç›¸å¯¹ä½ç½®ï¼Œåº”ä½¿ç”¨stable_partitionã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰€æœ‰è¢«predåˆ¤å®šä¸ºtrueçš„å…ƒç´ ï¼Œéƒ½è¢«æ”¾åˆ°å‰æ®µ</span></span><br><span class="line"><span class="comment">//è¢«predåˆ¤å®šä¸ºfalseçš„å…ƒç´ ï¼Œéƒ½è¢«æ”¾åˆ°åæ®µ</span></span><br><span class="line"><span class="comment">//ä¸ä¿è¯ä¿ç•™åŸç›¸å¯¹ä½ç½®ã€‚(not stable)</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicate</span>&gt;</span><br><span class="line"><span class="function">BidirectionalIterator <span class="title">partition</span> <span class="params">(BidirectionalIterator first, BidirectionalIterator last, Predicate pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">			<span class="keyword">if</span> (first == last)		<span class="comment">//å¤´æŒ‡é’ˆç­‰äºå°¾æŒ‡é’ˆ</span></span><br><span class="line">				<span class="keyword">return</span> first;		<span class="comment">//æ‰€æœ‰æ“ä½œç»“æŸ</span></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">pred</span>(*first))	 <span class="comment">//å¤´æŒ‡é’ˆæ‰€æŒ‡çš„å…ƒç´ ç¬¦åˆä¸ç§»åŠ¨æ¡ä»¶</span></span><br><span class="line">				++first;		    <span class="comment">//ä¸ç§»åŠ¨ï¼šå¤´æŒ‡é’ˆå‰è¿›1</span></span><br><span class="line">			<span class="keyword">else</span>				    <span class="comment">//å¤´æŒ‡é’ˆæ‰€æŒ‡å…ƒç´ ç¬¦åˆç§»åŠ¨æ¡ä»¶</span></span><br><span class="line">				<span class="keyword">break</span>;				<span class="comment">//è·³å‡ºå¾ªç¯</span></span><br><span class="line">		--last;				        <span class="comment">//å°¾æŒ‡é’ˆå›æº¯1</span></span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">			<span class="keyword">if</span> (first == last)		<span class="comment">//å¤´æŒ‡é’ˆç­‰äºå°¾æŒ‡é’ˆ</span></span><br><span class="line">				<span class="keyword">return</span> first;		<span class="comment">//æ‰€æœ‰æ“ä½œç»“æŸ</span></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">pred</span>(*last))	 <span class="comment">//å°¾æŒ‡é’ˆæ‰€æŒ‡çš„å…ƒç´ ç¬¦åˆä¸ç§»åŠ¨æ¡ä»¶</span></span><br><span class="line">				--last;			    <span class="comment">//ä¸ç§»åŠ¨ï¼šå°¾æŒ‡é’ˆå›æº¯1</span></span><br><span class="line">			<span class="keyword">else</span>				    <span class="comment">//å°¾æŒ‡é’ˆæ‰€æŒ‡å…ƒç´ ç¬¦åˆç§»åŠ¨æ¡ä»¶</span></span><br><span class="line">				<span class="keyword">break</span>;				<span class="comment">//è·³å‡ºå¾ªç¯</span></span><br><span class="line">		<span class="built_in">iter_swap</span>(first, last);		  <span class="comment">//å¤´å°¾æŒ‡é’ˆæ‰€æŒ‡å…ƒç´ å½¼æ­¤äº¤æ¢</span></span><br><span class="line">		++first;					 <span class="comment">//å¤´æŒ‡é’ˆå‰è¿›1ï¼Œå‡†å¤‡ä¸‹ä¸€ä¸ªå¤–å¾ªç¯è¿­ä»£</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="remove-ç§»é™¤ï¼ˆä½†ä¸åˆ é™¤ï¼‰"><a href="#remove-ç§»é™¤ï¼ˆä½†ä¸åˆ é™¤ï¼‰" class="headerlink" title="remove ç§»é™¤ï¼ˆä½†ä¸åˆ é™¤ï¼‰"></a>remove ç§»é™¤ï¼ˆä½†ä¸åˆ é™¤ï¼‰</h5><p>ç§»é™¤[first, last)ä¹‹ä¸­æ‰€æœ‰ä¸valueç›¸ç­‰çš„å…ƒç´ ã€‚è¿™ä¸€ç®—æ³•å¹¶ä¸çœŸæ­£ä»å®¹å™¨ä¸­åˆ é™¤é‚£äº›å…ƒç´ ï¼ˆæ¢å¥è¯è¯´å®¹å™¨å¤§å°å¹¶æœªæ”¹å˜ï¼‰ï¼Œè€Œæ˜¯å°†æ¯ä¸€ä¸ªä¸ä¸valueç›¸ç­‰ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹¶ä¸æ‰“ç®—ç§»é™¤ï¼‰çš„å…ƒç´ è½®ç•ªèµ‹å€¼ç»™firstä¹‹åçš„ç©ºé—´ã€‚è¿”å›å€¼ForwardIteratoræ ‡ç¤ºå‡ºé‡æ–°æ•´ç†åçš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<p><img src="/../img/remove%E7%A4%BA%E4%BE%8B.png" alt="removeç¤ºä¾‹"></p>
<p>å¦‚æœæƒ³è¦åˆ é™¤é‚£äº›æ®‹ä½™æ•°æ®ï¼Œå¯å°†è¿”å›çš„è¿­ä»£å™¨äº¤ç»™åŒºé—´æ‰€åœ¨ä¹‹å®¹å™¨çš„erase() member functionã€‚</p>
<p>æ³¨æ„ï¼Œarrayå¹¶ä¸é€‚åˆä½¿ç”¨remove()å’Œremove_if()ï¼Œå› ä¸ºarrayæ— æ³•ç¼©å°å°ºå¯¸ï¼Œå¯¼è‡´æ®‹ä½™æ•°æ®æ°¸è¿œå­˜åœ¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> ForwardIterator, <span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function">ForwardIterator <span class="title">remove</span> <span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value)</span>  </span>&#123;</span><br><span class="line">	first = <span class="built_in">find</span>(first, last, value); <span class="comment">//åˆ©ç”¨å¾ªåºæŸ¥æ‰¾æ³•æ‰¾å‡ºç¬¬ä¸€ä¸ªç›¸ç­‰å…ƒ</span></span><br><span class="line">	ForwardIterator next = first;	  <span class="comment">//ä»¥nextæ ‡ç¤ºå‡ºæ¥</span></span><br><span class="line">	<span class="comment">//ä»¥ä¸‹åˆ©ç”¨â€œremove_copy()å…è®¸æ–°æ—§å®¹å™¨é‡å â€çš„æ€§è´¨ï¼Œè¿›è¡Œç§»é™¤æ“ä½œ</span></span><br><span class="line">	<span class="comment">//å¹¶å°†ç»“æœæŒ‡å®šç½®äºåŸå®¹å™¨ä¸­</span></span><br><span class="line">	<span class="keyword">return</span> first == last ? first : <span class="built_in">remove_copy</span>(++next, last, first, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="remove-copy"><a href="#remove-copy" class="headerlink" title="remove_copy"></a>remove_copy</h5><p>ç§»é™¤[first, last)åŒºé—´å†…æ‰€æœ‰ä¸valueç›¸ç­‰çš„å…ƒç´ ã€‚å®ƒå¹¶ä¸çœŸæ­£ä»å®¹å™¨ä¸­åˆ é™¤å“ªäº›å…ƒç´ ï¼ˆæ¢å¥è¯è¯´ï¼ŒåŸå®¹å™¨æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼‰ï¼Œè€Œæ˜¯å°†ç»“æœå¤åˆ¶åˆ°ä¸€ä¸ªä»¥resultæ ‡ç¤ºèµ·å§‹ä½ç½®çš„å®¹å™¨èº«ä¸Šã€‚æ–°å®¹å™¨å¯ä»¥å’ŒåŸå®¹å™¨é‡å ï¼Œä½†å¦‚æœå¯¹æ–°å®¹å™¨å®é™…ç»™å€¼æ—¶ï¼Œè¶…è¶Šäº†æ—§å®¹å™¨çš„å¤§å°ï¼Œä¼šäº§ç”Ÿæ— æ³•é¢„æœŸçš„ç»“æœã€‚è¿”å›å€¼OutputIteratoræŒ‡å‡ºè¢«å¤åˆ¶çš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">remove_copy</span> <span class="params">(InputIterator first, InputIterator last, OutputIterator result, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)</span><br><span class="line">		<span class="keyword">if</span>(* first != value) &#123;		<span class="comment">//å¦‚æœä¸ç›¸ç­‰</span></span><br><span class="line">			*result = *first;	    <span class="comment">//å°±èµ‹å€¼ç»™æ–°å®¹å™¨</span></span><br><span class="line">			++result;			   <span class="comment">//æ–°å®¹å™¨å‰è¿›ä¸€ä¸ªä½ç½®</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="remove-if"><a href="#remove-if" class="headerlink" title="remove_if"></a>remove_if</h5><p>ç§»é™¤[first, last)åŒºé—´å†…æ‰€æœ‰è¢«ä»¿å‡½æ•°predæ ¸å®šä¸ºtrueçš„å…ƒç´ ã€‚å®ƒå¹¶ä¸çœŸæ­£ä»å®¹å™¨ä¸­åˆ é™¤é‚£äº›å…ƒç´ ï¼ˆæ¢å¥è¯è¯´ï¼Œå®¹å™¨å¤§å°å¹¶æœªæ”¹å˜ï¼‰ã€‚æ¯ä¸€ä¸ªä¸ç¬¦åˆpredæ¡ä»¶çš„å…ƒç´ éƒ½ä¼šè¢«è½®ç•ªèµ‹å€¼ç»™firstä¹‹åçš„ç©ºé—´ã€‚è¿”å›å€¼Forwardlteratoræ ‡ç¤ºå‡ºé‡æ–°æ•´ç†åçš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚æ­¤ç®—æ³•ä¼šç•™æœ‰ä¸€äº›æ®‹ä½™æ•°æ®ï¼Œå¦‚æœè¦åˆ é™¤é‚£äº›æ®‹ä½™æ•°æ®ï¼Œå¯å°†è¿”å›çš„è¿­ä»£å™¨äº¤ç»™åŒºé—´æ‰€åœ¨ä¹‹å®¹å™¨çš„erase() member functionã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicate</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">remove_if</span><span class="params">(ForwardIterator first, ForwardIterator last, Predicate pred)</span> </span>&#123;</span><br><span class="line">	first = <span class="built_in">find_if</span>(first, last, pred); <span class="comment">//åˆ©ç”¨å¾ªåºæŸ¥æ‰¾æ³•æ‰¾å‡ºç¬¬ä¸€ä¸ªåŒ¹é…è€…</span></span><br><span class="line">	ForwardIterator next = first;	    <span class="comment">//ä»¥nextæ ‡è®°å‡ºæ¥</span></span><br><span class="line">	<span class="comment">//ä»¥ä¸‹åˆ©ç”¨â€œremove_copy_if()å…è®¸æ–°æ—§å®¹å™¨é‡å â€çš„æ€§è´¨ï¼Œåšåˆ é™¤æ“ä½œ</span></span><br><span class="line">	<span class="comment">//å¹¶å°†ç»“æœæ”¾åˆ°åŸå®¹å™¨ä¸­</span></span><br><span class="line">	<span class="keyword">return</span> first == last ? first : <span class="built_in">remove_copy_if</span>(++next, last, first, pred);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="remove-copy-if"><a href="#remove-copy-if" class="headerlink" title="remove_copy_if"></a>remove_copy_if</h5><p>ç§»é™¤[first, last)åŒºé—´å†…æ‰€æœ‰è¢«ä»¿å‡½æ•°predè¯„ä¼°ä¸ºtrueçš„å…ƒç´ ã€‚å®ƒå¹¶ä¸çœŸæ­£ä»å®¹å™¨ä¸­åˆ é™¤é‚£äº›å…ƒç´ ï¼ˆæ¢å¥è¯è¯´åŸå®¹å™¨æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼‰ï¼Œè€Œæ˜¯å°†ç»“æœå¤åˆ¶åˆ°ä¸€ä¸ªä»¥resultæ ‡ç¤ºèµ·å§‹ä½ç½®çš„å®¹å™¨èº«ä¸Šã€‚æ–°å®¹å™¨å¯ä»¥å’ŒåŸå®¹å™¨é‡å ï¼Œä½†å¦‚æœé’ˆå¯¹æ–°å®¹å™¨å®é™…ç»™å€¼æ—¶ï¼Œè¶…è¶Šäº†æ—§å®¹å™¨çš„å¤§å°ï¼Œä¼šäº§ç”Ÿæ— æ³•é¢„æœŸçš„ç»“æœã€‚è¿”å›å€¼OutputIteratoræŒ‡å‡ºè¢«å¤åˆ¶çš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicate</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">remove_copy_if</span> <span class="params">(InputIterator first, InputIterator last, OutputIterator result, Predicate pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">pred</span>(*first)) &#123;	<span class="comment">//å¦‚æœpredæ ¸å®šä¸ºfalse,</span></span><br><span class="line">			*result = *first;	<span class="comment">//å°±èµ‹å€¼ç»™æ–°å®¹å™¨ï¼ˆä¿ç•™ï¼Œä¸åˆ é™¤)</span></span><br><span class="line">			++result;		   <span class="comment">//æ–°å®¹å™¨å‰è¿›ä¸€ä¸ªä½ç½®</span></span><br><span class="line">        &#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h5><p>å°†[first, last)åŒºé—´å†…çš„æ‰€æœ‰old_valueéƒ½ä»¥new_valueå–ä»£ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">replace</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; old_value, <span class="type">const</span> T&amp; new_value)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//å°†åŒºé—´å†…çš„æ‰€æœ‰old_valueéƒ½ä»¥new_valueå–ä»£</span></span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)</span><br><span class="line">		<span class="keyword">if</span> (*first == old_value) *first = new_value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replace-copy"><a href="#replace-copy" class="headerlink" title="replace_copy"></a>replace_copy</h5><p>è¡Œä¸ºä¸replace()ç±»ä¼¼ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯æ–°åºåˆ—ä¼šè¢«å¤åˆ¶åˆ°resultæ‰€æŒ‡çš„å®¹å™¨ä¸­ã€‚è¿”å›å€¼OutputlteratoræŒ‡å‘è¢«å¤åˆ¶çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚åŸåºåˆ—æ²¡æœ‰ä»»ä½•æ”¹å˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">replace_copy</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result, <span class="type">const</span> T&amp; old_value, <span class="type">const</span> T&amp; new_value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first, ++result)</span><br><span class="line">		<span class="comment">//å¦‚æœæ—§åºåˆ—ä¸Šçš„å…ƒç´ ç­‰äºold_valueï¼Œå°±æ”¾new_valueåˆ°æ–°åºåˆ—ä¸­</span></span><br><span class="line">		<span class="comment">//å¦åˆ™å°±å°†å…ƒç´ æ‹·è´ä¸€ä»½æ”¾è¿›æ–°åºåˆ—ä¸­</span></span><br><span class="line">		*result = *first == old_value ? new_value : *first;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replace-if"><a href="#replace-if" class="headerlink" title="replace_if"></a>replace_if</h5><p>å°†[first, last)åŒºé—´å†…æ‰€æœ‰â€œè¢«predè¯„ä¼°ä¸ºtrueâ€çš„å…ƒç´ ï¼Œéƒ½ä»¥new valueå–è€Œä»£ä¹‹ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicate</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">replace_if</span><span class="params">(ForwardIterator first, ForwardIterator last,  Predicate pred, <span class="type">const</span> T&amp; new_value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first)</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">pred</span>(*first)) *first = new_value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replace-copy-if"><a href="#replace-copy-if" class="headerlink" title="replace_copy_if"></a>replace_copy_if</h5><p>è¡Œä¸ºä¸replace_if()ç±»ä¼¼ï¼Œä½†æ˜¯æ–°åºåˆ—ä¼šè¢«å¤åˆ¶åˆ°resultæ‰€æŒ‡çš„åŒºé—´å†…ã€‚è¿”å›å€¼OutputlteratoræŒ‡å‘è¢«å¤åˆ¶çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚åŸåºåˆ—æ— ä»»ä½•æ”¹å˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">Iterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">Predicate</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">replace_copy_if</span><span class="params">(Iterator first, Iterator last, OutputIterator result, Predicate pred, <span class="type">const</span> T&amp; new_value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first ! = last; ++first, ++result)</span><br><span class="line">		<span class="comment">//å¦‚æœæ—§åºåˆ—ä¸Šçš„å…ƒç´ è¢«predè¯„ä¼°ä¸ºtrueï¼Œå°±æ”¾new_valueåˆ°æ–°åºåˆ—ä¸­ï¼Œ</span></span><br><span class="line">		<span class="comment">//å¦åˆ™å°±å°†å…ƒç´ æ‹·è´ä¸€ä»½æ”¾è¿›æ–°åºåˆ—ä¸­</span></span><br><span class="line">		*result = <span class="built_in">pred</span>(*first) ? new_value : *first;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h5><p>å°†åºåˆ—[first, last)çš„å…ƒç´ åœ¨åŸå®¹å™¨ä¸­é¢ å€’é‡æ’ã€‚ä¾‹å¦‚åºåˆ—{0,1,1,3,5}é¢ å€’é‡æ’åä¸º{5,3,1,1,0}ã€‚è¿­ä»£å™¨çš„åŒå‘æˆ–éšæœºå®šä½èƒ½åŠ›ï¼Œå½±å“äº†è¿™ä¸ªç®—æ³•çš„æ•ˆç‡ï¼Œæ‰€ä»¥è®¾è®¡ä¸ºåŒå±‚æ¶æ„ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ†æ´¾å‡½æ•°(dispatch function)</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">reverse</span><span class="params">(BidirectionalIterator first, BidirectionalIterator last)</span> </span>&#123;</span><br><span class="line">	__reverse(first, last, <span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//reverseçš„bidirectional iteratorç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>&gt;</span><br><span class="line"><span class="type">void</span> __reverse(BidirectionalIterator first, BidirectionalIterator last, bidirectional_iterator_tag) &#123;</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">		<span class="keyword">if</span> (first == last || first == --last)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">iter_swap</span>(first++, last);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//reverseçš„random access iteratorç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="type">void</span> __reverse(RandomAccessIterator first, RandomAccessIterator last, random_access_iterator_tag) &#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹ï¼Œå¤´å°¾ä¸¤ä¸¤äº’æ¢ï¼Œç„¶åå¤´éƒ¨ç´¯è¿›ä¸€ä¸ªä½ç½®ï¼Œå°¾éƒ¨ç´¯é€€ä¸€ä¸ªä½ç½®ã€‚ä¸¤è€…äº¤é”™æ—¶å³åœæ­¢</span></span><br><span class="line">	<span class="comment">//æ³¨æ„ï¼Œåªæœ‰random iteratorsæ‰èƒ½åšä»¥ä¸‹çš„ first &lt; last åˆ¤æ–­</span></span><br><span class="line">	<span class="keyword">while</span> (first &lt; last) <span class="built_in">iter_swap</span> (first++, --last);</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h5 id="reverse-copy"><a href="#reverse-copy" class="headerlink" title="reverse_copy"></a>reverse_copy</h5><p>è¡Œä¸ºç±»ä¼¼reverse()ï¼Œä½†äº§ç”Ÿå‡ºæ¥çš„æ–°åºåˆ—ä¼šè¢«ç½®äºä»¥resultæŒ‡å‡ºçš„å®¹å™¨ä¸­ã€‚è¿”å›å€¼OutputlteratoræŒ‡å‘æ–°äº§ç”Ÿçš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚åŸåºåˆ—æ²¡æœ‰ä»»ä½•æ”¹å˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">reverse_copy</span><span class="params">(BidirectionalIterator first, BidirectionalIterator last, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (first ! = last) &#123;	<span class="comment">//æ•´ä¸ªåºåˆ—èµ°ä¸€é</span></span><br><span class="line">		--last;			       <span class="comment">//å°¾ç«¯å‰ç§»ä¸€ä¸ªä½ç½®</span></span><br><span class="line">		*result = *last;	    <span class="comment">//å°†å°¾ç«¯æ‰€æŒ‡å…ƒç´ å¤åˆ¶åˆ°resultæ‰€æŒ‡ä½ç½®</span></span><br><span class="line">		++result;			   <span class="comment">//resultå‰è¿›ä¸€ä¸ªä½ç½®</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="rotate"><a href="#rotate" class="headerlink" title="rotate"></a>rotate</h5><p>å°†[first, middle)å†…çš„å…ƒç´ å’Œ[middle, last)å†…çš„å…ƒç´ äº’æ¢ã€‚middleæ‰€æŒ‡çš„å…ƒç´ ä¼šæˆä¸ºå®¹å™¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>çœ‹èµ·æ¥è¿™å’Œswap_ranges()åŠŸèƒ½é¢‡ä¸ºè¿‘ä¼¼ï¼Œä½†swap_ranges()åªèƒ½äº¤æ¢ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„åŒºé—´ï¼Œrotate()å¯ä»¥äº¤æ¢ä¸¤ä¸ªé•¿åº¦ä¸åŒçš„åŒºé—´ã€‚</p>
<p>è¿­ä»£å™¨çš„ç§»åŠ¨èƒ½åŠ›ï¼Œå½±å“äº†è¿™ä¸ªç®—æ³•çš„æ•ˆç‡ï¼Œæ‰€ä»¥è®¾è®¡ä¸ºåŒå±‚æ¶æ„ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ†æ´¾å‡½æ•°ï¼ˆdispatch functionï¼‰</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">rotate</span><span class="params">(ForwardIterator first, ForwardIterator middle, ForwardIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == middle || middle == last) <span class="keyword">return</span>;</span><br><span class="line">	__rotate(first, middle, last, <span class="built_in">distance_type</span>(first), <span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯æ ¹æ®ä¸åŒçš„è¿­ä»£å™¨ç±»å‹è€Œå®Œæˆçš„ä¸‰ä¸ªæ—‹è½¬æ“ä½œï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rotate çš„ forward iterator ç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line"><span class="type">void</span> __rotate(ForwardIterator first, ForwardIterator middle, ForwardIterator last, Distance*, forward_iterator_tag) &#123;</span><br><span class="line">	<span class="keyword">for</span> (ForwardIterator i = middle; ; ) &#123;</span><br><span class="line">		<span class="built_in">iter_swap</span>(first, i);	<span class="comment">//å‰æ®µã€åæ®µçš„å…ƒç´ ä¸€ä¸€äº¤æ¢</span></span><br><span class="line">		++first;			   <span class="comment">//åŒåŒå‰è¿›1</span></span><br><span class="line">		++i;</span><br><span class="line">		<span class="comment">//ä»¥ä¸‹åˆ¤æ–­æ˜¯å‰æ®µ[first, middle)å…ˆç»“æŸè¿˜æ˜¯åæ®µ[middle, last)å…ˆç»“æŸ</span></span><br><span class="line">		<span class="keyword">if</span> (first == middle) &#123;		<span class="comment">//å‰æ®µç»“æŸäº†</span></span><br><span class="line">			<span class="keyword">if</span> (i == last ) <span class="keyword">return</span>; <span class="comment">//å¦‚æœåæ®µåŒæ—¶ä¹Ÿç»“æŸï¼Œæ•´ä¸ªå°±ç»“æŸäº†</span></span><br><span class="line">			middle = i;	            <span class="comment">//å¦åˆ™è°ƒæ•´ï¼Œå¯¹æ–°çš„å‰ã€åæ®µå†ä½œäº¤æ¢</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (i == last)		    <span class="comment">//åæ®µå…ˆç»“æŸ</span></span><br><span class="line">			i = middle; 		   <span class="comment">//è°ƒæ•´ï¼Œå‡†å¤‡å¯¹æ–°çš„å‰ã€åæ®µå†ä½œäº¤æ¢</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//rotate çš„ bidirectiona1 iterator ç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line"><span class="type">void</span> __rotate(BidirectionalIterator first, BidirectionalIterator middle, BidirectionalIterator last, Distance*, bidirectional_iterator_tag) &#123;</span><br><span class="line">	<span class="built_in">reverse</span>(first, middle);</span><br><span class="line">	<span class="built_in">reverse</span>(middle, last);</span><br><span class="line">	<span class="built_in">reverse</span>(first, last);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// rotate çš„ random access iterator ç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line"><span class="type">void</span> __rotate(RandomaAccessIterator first, RandomAccessIterator middle</span><br><span class="line">			 RandomAccessIterator last, Distance*,</span><br><span class="line">			 random_access_iterator_tag) &#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹è¿­ä»£å™¨çš„ç›¸å‡æ“ä½œï¼Œåªé€‚ç”¨äºrandom access iterators</span></span><br><span class="line">	<span class="comment">//å–å…¨é•¿å’Œå‰æ®µé•¿åº¦çš„æœ€å¤§å…¬å› å­</span></span><br><span class="line">	Distance n = __gcd(last - first, middle - first);</span><br><span class="line">	<span class="keyword">while</span> (n--)</span><br><span class="line">		__rotate_cycle(first, last, first + n, middle - first, <span class="built_in">value_type</span>(first));	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€å¤§å…¬å› å­ï¼Œåˆ©ç”¨è¾—è½¬ç›¸é™¤æ³•</span></span><br><span class="line"><span class="comment">// __gcd()åº”ç”¨äº__rotate()çš„random access iteratorç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">EuclideanRingElement</span>&gt;</span><br><span class="line">EuclideanRingE1ement __gcd(EuclideanRingElement m, EuclideanRingElement n)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">		EuclideanRingElement t = m % n;</span><br><span class="line">		m = n;</span><br><span class="line">		n = t;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> __rotate_cycle(RandomAccessIterator first, RandomAccessIterator last, RandomAccessIterator initial, Distance shift, T*) &#123;</span><br><span class="line">	T value = *initial;</span><br><span class="line">	RandomAccessIterator ptr1 = initial;</span><br><span class="line">	RandomAccessIterator ptr2 = ptr1 + shift;</span><br><span class="line">	<span class="keyword">while</span> (ptr2 ! = initial) &#123;</span><br><span class="line">		*ptr1 = *ptr2;</span><br><span class="line">		ptr1 = ptr2;</span><br><span class="line">		<span class="keyword">if</span> (last - ptr2 &gt; shift)</span><br><span class="line">			ptr2 += shift;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			ptr2 = first + (shift - (last - ptr2));</span><br><span class="line">	&#125;</span><br><span class="line">	*ptr1 = value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="rotate-copy"><a href="#rotate-copy" class="headerlink" title="rotate_copy"></a>rotate_copy</h5><p>è¡Œä¸ºç±»ä¼¼rotate()ï¼Œä½†äº§ç”Ÿå‡ºæ¥çš„æ–°åºåˆ—ä¼šè¢«ç½®äºresultæ‰€æŒ‡å‡ºçš„å®¹å™¨ä¸­ã€‚è¿”å›å€¼OutputIteratoræŒ‡å‘æ–°äº§ç”Ÿçš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚åŸåºåˆ—æ²¡æœ‰æ”¹å˜ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">rotate_copy</span><span class="params">(ForwardIterator first, ForwardIterator middle, ForwardIterator last, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>(first, middle, <span class="built_in">copy</span>(middle, last, result));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="search"><a href="#search" class="headerlink" title="search"></a>search</h5><p>åœ¨åºåˆ—ä»¥[first1, last1)æ‰€æ¶µç›–çš„åŒºé—´ä¸­ï¼ŒæŸ¥æ‰¾åºåˆ—äºŒ[first2, last2)çš„é¦–æ¬¡å‡ºç°ç‚¹ã€‚å¦‚æœåºåˆ—ä¸€å†…ä¸å­˜åœ¨ä¸åºåˆ—äºŒå®Œå…¨åŒ¹é…çš„å­åºåˆ—ï¼Œä¾¿è¿”å›è¿­ä»£å™¨last1.ç‰ˆæœ¬ä¸€ä½¿ç”¨å…ƒç´ å‹åˆ«æ‰€æä¾›çš„equalityæ“ä½œç¬¦ï¼Œç‰ˆæœ¬äºŒå…è®¸ç”¨æˆ·æŒ‡å®šæŸä¸ªäºŒå…ƒè¿ç®—ï¼ˆä»¥ä»¿å‡½æ•°å‘ˆç°ï¼‰ï¼Œä½œä¸ºåˆ¤æ–­ç›¸ç­‰ä¸å¦çš„ ä¾æ®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŸ¥æ‰¾å­åºåˆ—é¦–æ¬¡å‡ºç°åœ°ç‚¹</span></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ForwardIterator1 <span class="title">search</span><span class="params">(Forwarditerator1 first1, ForwardIterator1 last1, ForwardIterator2 first2, ForwardIterator2 last2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> __search(first1, last1, first2, last2, <span class="built_in">distance_type</span>(first1),</span><br><span class="line">				<span class="built_in">distance_type</span>(first2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>, <span class="keyword">class</span> <span class="title class_">Distance1</span>, <span class="keyword">class</span> <span class="title class_">Distance2</span>&gt;</span><br><span class="line">ForwardIterator1 __search (ForwardIterator1 first1, ForwardIterator1 last1, ForwardIterator2 first2, ForwardIterator2 last2, Distance1*, Distance2*) &#123;</span><br><span class="line">	Distance1 d1 = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(first1, last1, d1);</span><br><span class="line">	Distance2 d2 = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(first2, last2, d2);</span><br><span class="line">	<span class="keyword">if</span> (dl &lt; d2) <span class="keyword">return</span> last1; <span class="comment">// å¦‚æœç¬¬äºŒåºåˆ—å¤§äºç¬¬ä¸€åºåˆ—ï¼Œä¸å¯èƒ½æˆä¸ºå…¶å­åºåˆ—</span></span><br><span class="line">	</span><br><span class="line">	ForwardIterator1 current1 = first1;</span><br><span class="line">	ForwardIterator2 current2 = first2;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (current2 != last2)	<span class="comment">//éå†æ•´ä¸ªç¬¬äºŒåºåˆ—</span></span><br><span class="line">		<span class="keyword">if</span> (*current1 == *current2) &#123;	<span class="comment">//å¦‚æœè¿™ä¸ªå…ƒç´ ç›¸åŒ</span></span><br><span class="line">			++current1;				   <span class="comment">//è°ƒæ•´ï¼Œä»¥ä¾¿æ¯”å¯¹ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">			++current2;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;					<span class="comment">//å¦‚æœè¿™ä¸ªå…ƒç´ ä¸ç­‰</span></span><br><span class="line">			<span class="keyword">if</span> (d1 == d2)		<span class="comment">//å¦‚æœä¸¤åºåˆ—ä¸€æ ·é•¿</span></span><br><span class="line">				<span class="keyword">return</span> last1;   <span class="comment">//è¡¨ç¤ºä¸å¯èƒ½æˆåŠŸäº†</span></span><br><span class="line">			<span class="keyword">else</span> &#123;			   <span class="comment">//ä¸¤åºåˆ—ä¸ä¸€æ ·é•¿ï¼ˆè‡³æ­¤è‚¯å®šæ˜¯åºåˆ—ä¸€å¤§äºåºåˆ—äºŒ)</span></span><br><span class="line">				current1 = ++first1;	<span class="comment">//è°ƒæ•´ç¬¬ä¸€åºåˆ—çš„æ ‡å…µï¼Œ</span></span><br><span class="line">				current2 = first2;	    <span class="comment">//å‡†å¤‡åœ¨æ–°èµ·ç‚¹ä¸Šå†æ‰¾ä¸€æ¬¡</span></span><br><span class="line">				--d1;	 <span class="comment">//å·²ç»æ’é™¤äº†åºåˆ—çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥åºåˆ—ä¸€çš„é•¿åº¦è¦å‡1</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">return</span> first1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="search-n"><a href="#search-n" class="headerlink" title="search_n"></a>search_n</h5><p>åœ¨åºåˆ—[first, last)æ‰€æ¶µç›–çš„åŒºé—´ä¸­ï¼ŒæŸ¥æ‰¾â€œè¿ç»­countä¸ªç¬¦åˆæ¡ä»¶ä¹‹å…ƒç´ â€æ‰€å½¢æˆçš„å­åºåˆ—ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘è¯¥å­åºåˆ—èµ·å§‹å¤„ã€‚å¦‚æœæ‰¾ä¸åˆ°è¿™æ ·çš„å­åºåˆ—ï¼Œå°±è¿”å›è¿­ä»£å™¨lastã€‚ä¸Šè¿°æ‰€è°“çš„â€œæŸæ¡ä»¶â€ï¼Œåœ¨ search_n ç‰ˆæœ¬ä¸€æŒ‡çš„æ˜¯ç›¸ç­‰æ¡ä»¶â€œequalityâ€ï¼Œåœ¨search_nç‰ˆæœ¬äºŒæŒ‡çš„æ˜¯ç”¨æˆ·æŒ‡å®šçš„æŸä¸ªäºŒå…ƒè¿ç®—ï¼ˆä»¥ä»¿å‡½æ•°å‘ˆç°ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾	â€œå…ƒç´ value è¿ç»­å‡ºç° countæ¬¡â€æ‰€å½¢æˆçš„é‚£ä¸ªå­åºåˆ—ï¼Œè¿”å›å…¶å‘ç”Ÿä½ç½®</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Integer</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt; </span><br><span class="line"><span class="function">ForwardIterator <span class="title">search_n</span><span class="params">(ForwardIterator first, ForwardIterator last, Integer count, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (count &lt;= <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> first;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		first = <span class="built_in">find</span>(first, last, value); <span class="comment">//é¦–å…ˆæ‰¾å‡ºvalueç¬¬ä¸€æ¬¡å‡ºç°ç‚¹</span></span><br><span class="line">		<span class="keyword">while</span> (first != last) &#123;		   <span class="comment">//ç»§ç»­æŸ¥æ‰¾ä½™ä¸‹å…ƒç´ </span></span><br><span class="line">			Integer n = count - <span class="number">1</span>;	   <span class="comment">//valueè¿˜åº”å‡ºç°næ¬¡</span></span><br><span class="line">			ForwardIterator i = first; <span class="comment">//ä»ä¸Šæ¬¡å‡ºç°ç‚¹æ¥ä¸‹å»æŸ¥æ‰¾</span></span><br><span class="line">			++i;</span><br><span class="line">			<span class="keyword">while</span> (i != last &amp;&amp; n != <span class="number">0</span> &amp;&amp; *i == value) &#123; <span class="comment">//ä¸‹ä¸ªå…ƒç´ æ˜¯value</span></span><br><span class="line">				++i;</span><br><span class="line">				--n;		<span class="comment">//æ—¢ç„¶æ‰¾åˆ°äº†ï¼Œâ€œvalueåº”å†å‡ºç°æ¬¡æ•°â€ä¾¿å¯å‡1</span></span><br><span class="line">			&#125;				<span class="comment">//å›åˆ°å†…å¾ªç¯å†…ç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">			<span class="keyword">if</span> (n == <span class="number">0</span>)	<span class="comment">//n==0è¡¨ç¤ºç¡®å®æ‰¾åˆ°äº†â€œå…ƒç´ å€¼å‡ºç°næ¬¡â€çš„å­åºåˆ—ã€‚åŠŸå¾·åœ†æ»¡</span></span><br><span class="line">				<span class="keyword">return</span> first;</span><br><span class="line">			<span class="keyword">else</span>		<span class="comment">//åŠŸå¾·å°šæœªåœ†æ»¡â€¦</span></span><br><span class="line">				first = <span class="built_in">find</span>(i, last, value); <span class="comment">//æ‰¾value çš„ä¸‹ä¸€ä¸ªå‡ºç°ç‚¹ï¼Œå¹¶å‡†å¤‡å›åˆ°å¤–å¾ªç¯</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> last;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾â€œè¿ç»­countä¸ªå…ƒç´ çš†æ»¡è¶³æŒ‡å®šæ¡ä»¶â€æ‰€å½¢æˆçš„é‚£ä¸ªå­åºåˆ—çš„èµ·ç‚¹ï¼Œè¿”å›å…¶å‘ç”Ÿä½ç½®</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">Integer</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">BinaryPredicate</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">search_n</span><span class="params">(ForwardIterator first, ForwardIterator last, Integer count, <span class="type">const</span> T&amp; value, BinaryPredicate binary_pred)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (count &lt;= <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> first;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(first != last) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">binary_pred</span>(*first, value)) <span class="keyword">break</span>;   <span class="comment">//é¦–å…ˆæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ </span></span><br><span class="line">			++first;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (first != last) &#123;		   <span class="comment">//ç»§ç»­æŸ¥æ‰¾ä½™ä¸‹å…ƒç´ </span></span><br><span class="line">			Integer n = count - <span class="number">1</span>;	   <span class="comment">//valueè¿˜åº”å‡ºç°næ¬¡</span></span><br><span class="line">			ForwardIterator i = first; <span class="comment">//ä»ä¸Šæ¬¡å‡ºç°ç‚¹æ¥ä¸‹å»æŸ¥æ‰¾</span></span><br><span class="line">			++i;</span><br><span class="line">			<span class="keyword">while</span> (i != last &amp;&amp; n != <span class="number">0</span> &amp;&amp; <span class="built_in">binary_pred</span>(*i, value)) &#123; <span class="comment">//ä¸‹ä¸ªå…ƒç´ æ˜¯value</span></span><br><span class="line">				++i;</span><br><span class="line">				--n;		<span class="comment">//æ—¢ç„¶æ‰¾åˆ°äº†ï¼Œâ€œvalueåº”å†å‡ºç°æ¬¡æ•°â€ä¾¿å¯å‡1</span></span><br><span class="line">			&#125;				<span class="comment">//å›åˆ°å†…å¾ªç¯å†…ç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">			<span class="keyword">if</span> (n == <span class="number">0</span>)	<span class="comment">//n==0è¡¨ç¤ºç¡®å®æ‰¾åˆ°äº†â€œå…ƒç´ å€¼å‡ºç°næ¬¡â€çš„å­åºåˆ—ã€‚åŠŸå¾·åœ†æ»¡</span></span><br><span class="line">				<span class="keyword">return</span> first;</span><br><span class="line">			<span class="keyword">else</span> &#123;		<span class="comment">//åŠŸå¾·å°šæœªåœ†æ»¡â€¦</span></span><br><span class="line">				<span class="keyword">while</span> (i != last) &#123;</span><br><span class="line">					<span class="keyword">if</span> (<span class="built_in">binary_pred</span>(*i, value)) <span class="keyword">break</span>;                    </span><br><span class="line">					++i;</span><br><span class="line">				&#125;</span><br><span class="line">				first = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> last;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="swap-ranges"><a href="#swap-ranges" class="headerlink" title="swap_ranges"></a>swap_ranges</h5><p>å°†[first1, last1)åŒºé—´å†…çš„å…ƒç´ ä¸â€œä»first2å¼€å§‹ã€ä¸ªæ•°ç›¸åŒâ€çš„å…ƒç´ äº’ç›¸äº¤æ¢ã€‚è¿™ä¸¤ä¸ªåºåˆ—å¯ä½äºåŒä¸€å®¹å™¨ä¸­ï¼Œä¹Ÿå¯ä½äºä¸åŒçš„å®¹å™¨ä¸­ã€‚å¦‚æœç¬¬äºŒåºåˆ—çš„é•¿åº¦å°äºç¬¬ä¸€åºåˆ—ï¼Œæˆ–æ˜¯ä¸¤åºåˆ—åœ¨åŒä¸€å®¹å™¨ä¸­ä¸”å½¼æ­¤é‡å ï¼Œæ‰§è¡Œç»“æœæœªå¯é¢„æœŸã€‚æ­¤ç®—æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘ç¬¬äºŒåºåˆ—ä¸­çš„æœ€åä¸€ä¸ªè¢«äº¤æ¢å…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†ä¸¤æ®µç­‰é•¿åŒºé—´å†…çš„å…ƒç´ äº’æ¢</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator2</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator2 <span class="title">swap_ranges</span><span class="params">(ForwardIterator1 first1, ForwardIterator1 last1, ForwardIterator2 first2)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1, ++first2)</span><br><span class="line">		<span class="built_in">iter_swap</span>(first1, first2);</span><br><span class="line">	<span class="keyword">return</span> first2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h5><p>transform()çš„ç¬¬ä¸€ç‰ˆæœ¬ä»¥ä»¿å‡½æ•°opä½œç”¨äº[first, last)ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ èº«ä¸Šï¼Œå¹¶ä»¥å…¶ç»“æœäº§ç”Ÿå‡ºä¸€ä¸ªæ–°åºåˆ—ã€‚ç¬¬äºŒç‰ˆæœ¬ä»¥ä»¿å‡½æ•°binary_opä½œç”¨äºä¸€åŒå…ƒç´ èº«ä¸Šï¼ˆå…¶ä¸­ä¸€ä¸ªå…ƒç´ æ¥è‡ª [first1, last)ï¼Œå¦ä¸€ä¸ªå…ƒç´ æ¥è‡ªâ€œä»first2å¼€å§‹çš„åºåˆ—â€)ï¼Œå¹¶ä»¥å…¶ç»“æœäº§ç”Ÿå‡ºä¸€ä¸ªæ–°åºåˆ—ã€‚å¦‚æœç¬¬äºŒåºåˆ—çš„å…ƒç´ å°‘äºç¬¬ä¸€åºåˆ—ï¼Œæ‰§è¡Œç»“æœæœªå¯é¢„æœŸã€‚</p>
<p>transform()çš„ä¸¤ä¸ªç‰ˆæœ¬éƒ½æŠŠæ‰§è¡Œç»“æœæ”¾è¿›è¿­ä»£å™¨resultæ‰€æ ‡ç¤ºçš„å®¹å™¨ä¸­ã€‚resultä¹Ÿå¯ä»¥æŒ‡å‘æºç«¯å®¹å™¨ï¼Œé‚£ä¹ˆtransform()çš„è¿ç®—ç»“æœå°±ä¼šå–ä»£è¯¥å®¹å™¨å†…çš„å…ƒç´ ã€‚è¿”å›å€¼OutputIteratorå°†æŒ‡å‘ç»“æœåºåˆ—çš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIterator, <span class="keyword">class</span> OutputIterator, <span class="keyword">class</span> UnaryOperation&gt;</span></span><br><span class="line"><span class="function">OutputIterator <span class="title">transform</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result, UnaryOperation op)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first != last; ++first, ++result)</span><br><span class="line">		*result = <span class="built_in">op</span>(*first);</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator1</span>, <span class="keyword">class</span> <span class="title class_">InputIterator2</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>, <span class="keyword">class</span> <span class="title class_">BinaryOperation</span>&gt;</span><br><span class="line"><span class="function">OutputIterator <span class="title">transform</span><span class="params">(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, OutputIterator result, BinaryOperation binary_op)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> ( ; first1 != last1; ++first1, ++first2, ++result)</span><br><span class="line">		*result = <span class="built_in">binary_op</span>(*first1, *first2);</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="unique"><a href="#unique" class="headerlink" title="unique"></a>unique</h5><p>ç®—æ³•uniqueèƒ½å¤Ÿç§»é™¤ï¼ˆremoveï¼‰é‡å¤çš„å…ƒç´ ã€‚æ¯å½“åœ¨[first, last)å†…é‡æœ‰é‡å¤å…ƒç´ ç¾¤ï¼Œå®ƒä¾¿ç§»é™¤è¯¥å…ƒç´ ç¾¤ä¸­ç¬¬ä¸€ä¸ªä»¥åçš„æ‰€æœ‰å…ƒç´ ã€‚å› æ­¤ï¼Œuniqueæƒ³è¦ç§»é™¤åŒ…æ‹¬ä¸ç›¸é‚»çš„æ‰€æœ‰é‡å¤å…ƒç´ ï¼Œå¿…é¡»å…ˆå°†åºåˆ—æ’åºï¼Œä½¿æ‰€æœ‰é‡å¤å…ƒç´ éƒ½ç›¸é‚»ã€‚</p>
<p>uniqueä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘æ–°åŒºé—´çš„å°¾ç«¯ï¼Œæ–°åŒºé—´ä¹‹å†…ä¸å«ç›¸é‚»çš„é™ˆèªçˆ¶å…ƒç´ ã€‚</p>
<p>äº‹å®ä¸Šuniqueå¹¶ä¸ä¼šæ”¹å˜[first, last)çš„å…ƒç´ ä¸ªæ•°ï¼Œæœ‰ä¸€äº›æ®‹ä½™æ•°æ®ä¼šç•™ä¸‹ï¼Œæƒ…å†µç±»ä¼¼äºremoveç®—æ³•ã€‚</p>
<p>uniqueæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå› ä¸ºæ‰€è°“â€œç›¸é‚»å…ƒç´ æ˜¯å¦é‡å¤â€å¯æœ‰ä¸åŒçš„å®šä¹‰ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨ç®€å•çš„ç›¸ç­‰ï¼ˆequalityï¼‰æµ‹è¯•ï¼Œç¬¬äºŒç‰ˆæœ¬ä½¿ç”¨ä¸€ä¸ª Binary Predicate binary_predåšä¸ºæµ‹è¯•å‡†åˆ™ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line"><span class="function">ForwardIterator <span class="title">unique</span><span class="params">(ForwardIterator first, ForwardIterator last)</span> </span>&#123;</span><br><span class="line">	first = <span class="built_in">adjacent_find</span>(first, last);		<span class="comment">//é¦–å…ˆæ‰¾åˆ°ç›¸é‚»é‡å¤å…ƒç´ çš„èµ·ç‚¹</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">unique_copy</span>(first, last, first);	 <span class="comment">//åˆ©ç”¨unique_copyå®Œæˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="unique-copy"><a href="#unique-copy" class="headerlink" title="unique_copy"></a>unique_copy</h5><p>ç®—æ³•unique_copyå¯ä»[first, last)ä¸­å°†å…ƒç´ å¤åˆ¶åˆ°ä»¥resultå¼€å¤´çš„åŒºé—´ä¸Šï¼›å¦‚æœé¢å¯¹ç›¸é‚»é‡å¤å…ƒç´ ç¾¤ï¼Œåªä¼šå¤åˆ¶å…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è¿”å›çš„è¿­ä»£å™¨æŒ‡å‘ä»¥resultå¼€å¤´çš„åŒºé—´çš„å°¾ç«¯ã€‚</p>
<p>unique_copyæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå› ä¸ºæ‰€è°“â€œç›¸é‚»å…ƒç´ æ˜¯å¦é‡å¤â€å¯æœ‰ä¸åŒçš„å®šä¹‰ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨ç®€å•çš„ç›¸ç­‰(equality)æµ‹è¯•ï¼Œç¬¬äºŒç‰ˆæœ¬ä½¿ç”¨ä¸€ä¸ªBinary Predicate binary_predä½œä¸ºæµ‹è¯•å‡†åˆ™ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> OutputIterator <span class="title">unique_copy</span><span class="params">(InputIterator first, InputIterator last, OutputIterator result)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> result;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹ï¼Œæ ¹æ®resultçš„iterator categoryï¼Œåšä¸åŒçš„å¤„ç†</span></span><br><span class="line">	<span class="keyword">return</span> __unique_copy(first, last, result, <span class="built_in">iterator_category</span>(result));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€è¾…åŠ©å‡½æ•°ï¼Œforward_iterator_tagç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">ForwardIterator</span>&gt;</span><br><span class="line">Forwardrterator __unique_copy(InputIterator first, InputIterator last, ForwardIterator result, forward_iterator_tag) &#123;</span><br><span class="line">	*result = *first;		<span class="comment">//è®°å½•ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">	<span class="keyword">while</span> (++first != last)	 <span class="comment">//éå†æ•´ä¸ªåŒºé—´</span></span><br><span class="line">		<span class="comment">//ä»¥ä¸‹ï¼Œå…ƒç´ ä¸åŒï¼Œå°±è®°å½•ï¼Œå¦åˆ™ï¼ˆå…ƒç´ ç›¸åŒï¼‰ï¼Œå°±è·³è¿‡</span></span><br><span class="line">		<span class="keyword">if</span> (*result != *first) *++result = *first;</span><br><span class="line">	<span class="keyword">return</span> ++result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€è¾…åŠ©å‡½æ•°,output_iterator_tagç‰ˆ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">OutputIterator</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> OutputIterator __unique_copy(InputIterator first, InputIterator last, OutputIterator result, output_iterator_tag) &#123;</span><br><span class="line">	<span class="comment">//ä»¥ä¸‹,output iteratoræœ‰ä¸€äº›åŠŸèƒ½é™åˆ¶ï¼Œæ‰€ä»¥å¿…é¡»å…ˆçŸ¥é“å…¶value type.</span></span><br><span class="line">	<span class="keyword">return</span> __unique_copy(first, last, result, <span class="built_in">value_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”±äºoutput iteratorä¸ºwrite onlyï¼Œæ— æ³•åƒforward iteratoré‚£èˆ¬å¯ä»¥è¯»å–</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥ä¸èƒ½æœ‰ç±»ä¼¼*result != *firstè¿™æ ·çš„åˆ¤æ–­æ“ä½œï¼Œæ‰€ä»¥æ‰éœ€è¦è®¾è®¡è¿™ä¸€ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">//ä¾‹å¦‚ostream_iteratorå°±æ˜¯ä¸€ä¸ªoutput iterator.</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">outputIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">OutputIterator __unique_copy(InputIterator first, InputIterator last, OutputIterator result, T*) &#123;</span><br><span class="line">	<span class="comment">// T ä¸ºinput iterator çš„value type</span></span><br><span class="line">	T value = *first;</span><br><span class="line">	*result = value;</span><br><span class="line">	<span class="keyword">while</span> (++first != last)</span><br><span class="line">		<span class="keyword">if</span> (value != *first) &#123;</span><br><span class="line"> 			value = *first;</span><br><span class="line">			*++result = value;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">return</span> ++result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="lower-boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#lower-boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="lower_boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>lower_boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h4><p>ç®—æ³•åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ˆbinary searchï¼‰ï¼ŒæŒ‡å‡ºå·²æ’åºçš„åŒºé—´[first, last)ä¸­ç¬¬ä¸€ä¸ªâ€œä¸å°äºvalueâ€çš„å…ƒç´ ï¼ˆä¸ç ´åæ’åºçŠ¶æ€ä¸‹ï¼Œå¯æ’å…¥valueçš„ç¬¬ä¸€ä¸ªä½ç½®ï¼‰ã€‚å¦‚æœvalueå¤§äº[first, last)å†…çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å›lastã€‚</p>
<p>è¿™ä¸ªç®—æ³•æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸€é‡‡ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç‰ˆæœ¬äºŒé‡‡ç”¨ä»¿å‡½æ•°compã€‚æ›´æ­£å¼åœ°è¯´ï¼Œç‰ˆæœ¬ä¸€è¿”å›[first, last)ä¸­æœ€è¿œçš„è¿­ä»£å™¨iï¼Œä½¿å¾—[first, i)ä¸­çš„æ¯ä¸ªè¿­ä»£å™¨jéƒ½æ»¡è¶³*j &lt; valueã€‚ç‰ˆæœ¬äºŒè¿”å›[first, last)ä¸­æœ€è¿œçš„è¿­ä»£å™¨iï¼Œä½¿[first, i)ä¸­çš„æ¯ä¸ªè¿­ä»£å™¨jéƒ½æ»¡è¶³â€œcomp(*j, value)ä¸ºçœŸâ€ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ForwardIterator <span class="title">lower_bound</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> __lower_bound(first, last, value, <span class="built_in">distance_type</span>(first),</span><br><span class="line">						<span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ForwardIterator <span class="title">lower_bound</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> __lower_bound(first, last, value, comp, <span class="built_in">distance_type</span>(first),</span><br><span class="line">						<span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€çš„forward_iteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">ForwardIterator __lower_bound(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value, Distance*, forward_iterator_tag) &#123;</span><br><span class="line">	Distance len = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(first, last, len);	<span class="comment">//æ±‚å–æ•´ä¸ªåŒºé—´çš„é•¿åº¦len</span></span><br><span class="line">	Distance half;</span><br><span class="line">	ForwardIterator middle;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		half = len &gt;&gt; <span class="number">1</span>;		<span class="comment">//é™¤ä»¥2</span></span><br><span class="line">		middle = first;			<span class="comment">//è¿™ä¸¤è¡Œä»¤middleæŒ‡å‘ä¸­é—´ä½ç½®</span></span><br><span class="line">		<span class="built_in">advance</span>(middle, half);</span><br><span class="line">		<span class="keyword">if</span> (*middle &lt; value) &#123;   <span class="comment">//å¦‚æœä¸­é—´ä½ç½®çš„å…ƒç´ å€¼ &lt; æ ‡çš„å€¼</span></span><br><span class="line">			first = middle;		<span class="comment">//è¿™ä¸¤è¡Œä»¤firstæŒ‡å‘middleçš„ä¸‹ä¸€ä½ç½®</span></span><br><span class="line">			++first;</span><br><span class="line">			len = len - half - <span class="number">1</span>;<span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			len = half;			<span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€çš„random_access_iteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">RandomAccessIterator __lower_bound(RandomAccessIterator first, RandomAccessiterator last, <span class="type">const</span> T&amp; value, Distance*, random_access_iterator_tag) &#123;</span><br><span class="line">	Distance len = last - first;	<span class="comment">//æ±‚å–æ•´ä¸ªåŒºé—´çš„é•¿åº¦len</span></span><br><span class="line">	Distance half;</span><br><span class="line">	RandomAccessIterator middle;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		half = len &gt;&gt; <span class="number">1</span>;			<span class="comment">//é™¤ä»¥2</span></span><br><span class="line">		middle = first + half;		<span class="comment">//ä»¤middleæŒ‡å‘ä¸­é—´ä½ç½®ï¼ˆr-a-iæ‰èƒ½å¦‚æ­¤)</span></span><br><span class="line">		<span class="keyword">if</span> (*middle &lt; value) &#123;		<span class="comment">//å¦‚æœä¸­é—´ä½ç½®çš„å…ƒç´ å€¼&lt;ç›®æ ‡å€¼</span></span><br><span class="line">			first = middle + <span class="number">1</span>;		<span class="comment">//ä»¤firstæŒ‡å‘middleçš„ä¸‹ä¸€ä½ç½®</span></span><br><span class="line">			len = len - half - <span class="number">1</span>;	<span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			len = half;				<span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h4 id="upper-boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#upper-boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="upper_boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>upper_boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h4><p>ç®—æ³•åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ˆbinary seaarchï¼‰ï¼Œå®ƒä¼šè¿”å›â€œåœ¨ä¸ç ´åé¡ºåºçš„æƒ…å†µä¸‹ï¼Œå¯æ’å…¥valueçš„æœ€åä¸€ä¸ªåˆé€‚ä½ç½®â€ã€‚</p>
<p>upper_boundå’Œlower_boundçš„åŒºåˆ«ï¼š</p>
<p><img src="/../img/upper_bound%E5%92%8Clower_bound.png" alt="upper_boundå’Œlower_bound"></p>
<p>upper_boundæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸€é‡‡ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç‰ˆæœ¬äºŒé‡‡ç”¨ä»¿å‡½æ•°compã€‚æ›´æ­£å¼åœ°è¯´ï¼Œç‰ˆæœ¬ä¸€è¿”å›[first, last)åŒºé—´å†…æœ€è¿œçš„è¿­ä»£å™¨iï¼Œä½¿[first, i)å†…çš„æ¯ä¸ªè¿­ä»£å™¨jéƒ½æ»¡è¶³â€œvalue &lt; *jä¸ä¸ºçœŸâ€ã€‚ç‰ˆæœ¬äºŒè¿”å›[first, last)åŒºé—´å†…æœ€è¿œçš„è¿­ä»£å™¨iï¼Œä½¿[first, i)ä¸­çš„æ¯ä¸ªè¿­ä»£å™¨jéƒ½æ»¡è¶³â€œcomp(value, *j)ä¸ä¸ºçœŸâ€ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ForwardIterator <span class="title">upper_bound</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> __upper_bound(first, last, value, <span class="built_in">distance_type</span>(first),</span><br><span class="line">						<span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ForwardIterator <span class="title">upper_bound</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value, Compare comp)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> __upper_bound(first, last, value, comp, <span class="built_in">distance_type</span>(first),</span><br><span class="line">						<span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€çš„forward_iteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">ForwardIterator __upper_bound(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value, Distance*, forward_iterator_tag) &#123;</span><br><span class="line">	Distance len = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(first, last, len);	<span class="comment">//æ±‚å–æ•´ä¸ªåŒºé—´çš„é•¿åº¦len</span></span><br><span class="line">	Distance half;</span><br><span class="line">	ForwardIterator middle;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		half = len &gt;&gt; <span class="number">1</span>;			<span class="comment">//é™¤ä»¥2</span></span><br><span class="line">		middle = first;				<span class="comment">//è¿™ä¸¤è¡Œä»¤middleæŒ‡å‘ä¸­é—´ä½ç½®</span></span><br><span class="line">		<span class="built_in">advance</span>(middle, half);</span><br><span class="line">		<span class="keyword">if</span> (value &lt; *middle)		 <span class="comment">//å¦‚æœä¸­é—´ä½ç½®çš„å…ƒç´ å€¼&gt;æ ‡çš„å€¼</span></span><br><span class="line">			len = half;				<span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			first = middle;			<span class="comment">//è¿™ä¸¤è¡Œä»¤firstæŒ‡å‘middleçš„ä¸‹ä¸€ä½ç½®</span></span><br><span class="line">			++first;</span><br><span class="line">			len = len - half - <span class="number">1</span>;	<span class="comment">//ä¿®æ­£ lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€çš„random_access_iteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">RandomAccessIterator __upper_bound(RandomAccessIterator first, RandomAccessIterator last, <span class="type">const</span> T&amp; value, Distance*, random_access_iterator_tag) &#123;</span><br><span class="line">	Distance len = last - first;	<span class="comment">//æ±‚å–æ•´ä¸ªåŒºé—´çš„é•¿åº¦len</span></span><br><span class="line">	Distance half;</span><br><span class="line">	RandomAccessiterator = middle;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		half = len &gt;&gt; <span class="number">1</span>;				<span class="comment">//é™¤ä»¥2</span></span><br><span class="line">		middle = first + half;			<span class="comment">//ä»¤middleæŒ‡å‘ä¸­é—´ä½ç½®</span></span><br><span class="line">		<span class="keyword">if</span> (value &lt; *middle)			<span class="comment">//å¦‚æœä¸­é—´ä½ç½®çš„å…ƒç´ å€¼&gt;ç›®æ ‡å€¼</span></span><br><span class="line">			len = half;				    <span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			first = middle + <span class="number">1</span>;			<span class="comment">//ä»¤firstæŒ‡å‘middle çš„ä¸‹ä¸€ä½ç½®</span></span><br><span class="line">			len = len - half - <span class="number">1</span>;		<span class="comment">//ä¿®æ­£lenï¼Œå›å¤´æµ‹è¯•å¾ªç¯çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="binary-searchï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#binary-searchï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="binary_searchï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>binary_searchï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h4><p>ç®—æ³•binary_searchæ˜¯ä¸€ç§äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œè¯•å›¾åœ¨å·²æ’åºçš„[first, last)ä¸­å¯»æ‰¾å…ƒç´ valueã€‚å¦‚æœ[first, last)å†…æœ‰ç­‰åŒäºvalueçš„å…ƒç´ ï¼Œä¾¿è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>
<p>äº‹å®ä¸Šbinary_searchæ˜¯åˆ©ç”¨lower_boundå…ˆæ‰¾å‡ºâ€œå‡è®¾valueå­˜åœ¨çš„è¯ï¼Œåº”è¯¥å‡ºç°çš„ä½ç½®â€ï¼Œç„¶åå†å¯¹æ¯”è¯¥ä½ç½®ä¸Šçš„å€¼æ˜¯å¦ä¸ºæˆ‘ä»¬æ‰€è¦æŸ¥æ‰¾çš„ç›®æ ‡ï¼Œå¹¶è¿”å›å¯¹æ¯”ç»“æœã€‚</p>
<p>binary_searchçš„ç¬¬ä¸€ç‰ˆæœ¬é‡‡ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬é‡‡ç”¨ä»¿å‡½æ•°compè¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>æ­£å¼åœ°è¯´ï¼Œå½“ä¸”ä»…å½“[first, last)ä¸­å­˜åœ¨ä¸€ä¸ªè¿­ä»£å™¨iä½¿å¾—â€œ*i &lt; valueå’Œ value &lt; *içš†ä¸ä¸ºçœŸâ€ï¼Œåˆ™ç¬¬ä¸€ç‰ˆæœ¬è¿”å›trueã€‚å½“ä¸”ä»…å½“[first, last)ä¸­å­˜åœ¨ä¸€ä¸ªè¿­ä»£å™¨iä½¿å¾—â€œcomp(*i, value)å’Œcomp(value, *i)çš†ä¸ä¸ºçœŸâ€ï¼Œåˆ™ç¬¬äºŒç‰ˆæœ¬è¿”å›trueã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Binary_search</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	ForwardIterator i = <span class="built_in">lower_bound</span>(first, last, value);</span><br><span class="line">	<span class="keyword">return</span> i != last &amp;&amp; !(value &lt; *i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line">termplate &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">binary_search</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value, Compare comp)</span> </span>&#123;</span><br><span class="line">	ForwardIterator i = <span class="built_in">lower_bound</span>(first, last, value, comp);</span><br><span class="line">	<span class="keyword">return</span> i ! = last &amp;&amp; !<span class="built_in">comp</span>(value, *i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="next-permutation"><a href="#next-permutation" class="headerlink" title="next_permutation"></a>next_permutation</h4><p>è¯¥ç®—æ³•ä¼šå–å¾—[first, last)æ‰€æ ‡è¯†ä¹‹åºåˆ—çš„ä¸‹ä¸€ä¸ªæ’åˆ—ç»„åˆã€‚å¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªæ’åˆ—ç»„åˆï¼Œä¾¿è¿”å›falseï¼›å¦åˆ™è¿”å›trueã€‚</p>
<p>è¿™ä¸ªç®—æ³•æœ‰ä¸¤ä¸ªç‰ˆæœ¬ã€‚ç‰ˆæœ¬ä¸€ä½¿ç”¨å…ƒç´ å‹åˆ«æ‰€æä¾›çš„less-thanæ“ä½œç¬¦æ¥å†³å®šä¸‹ä¸€ä¸ªæ’åˆ—ç»„åˆï¼Œç‰ˆæœ¬äºŒåˆ™æ˜¯ä»¥ä»¿å‡½æ•°compæ¥å†³å®šã€‚</p>
<h5 id="ä»€ä¹ˆæ˜¯æ’åˆ—ç»„åˆï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ’åˆ—ç»„åˆï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ’åˆ—ç»„åˆï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ’åˆ—ç»„åˆï¼Ÿ</h5><p>è€ƒè™‘ä¸‰ä¸ªå­—ç¬¦æ‰€ç»„æˆçš„åºåˆ—{a,b,c}ã€‚è¿™ä¸ªåºåˆ—æœ‰å…­ä¸ªå¯èƒ½çš„æ’åˆ—ç»„åˆ: abc,acb,bac,bcaï¼Œ cab,cbaã€‚è¿™äº›æ’åˆ—ç»„åˆæ ¹æ®less-thanæ“ä½œç¬¦åšå­—å…¸é¡ºåºï¼ˆlexicographicalï¼‰çš„æ’åºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œabc ååˆ—ç¬¬ä¸€ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå…ƒç´ éƒ½å°äºå…¶åçš„å…ƒç´ ã€‚acb æ˜¯æ¬¡ä¸€ä¸ªæ’åˆ—ç»„åˆï¼Œå› ä¸ºå®ƒæ˜¯å›ºå®šäº†aï¼ˆåºåˆ—å†…æœ€å°å…ƒç´ ï¼‰ä¹‹åæ‰€åšçš„æ–°ç»„åˆã€‚åŒæ ·é“ç†ï¼Œé‚£äº›å›ºå®šbï¼ˆåºåˆ—å†…æ¬¡å°å…ƒç´ ï¼‰è€Œåšçš„æ’åˆ—ç»„åˆï¼Œåœ¨æ¬¡åºä¸Šå°†å…ˆäºé‚£äº›å›ºå®šcè€Œåšçš„æ’åˆ—ç»„åˆã€‚ä»¥ bac å’Œ bca ä¸ºä¾‹ï¼Œbac åœ¨ bca ä¹‹å‰ï¼Œå› ä¸ºåºåˆ— ac å°äºåºåˆ— ca ã€‚é¢å¯¹ bca ï¼Œæˆ‘ä»¬å¯ä»¥è¯´å…¶å‰ä¸€ä¸ªæ’åˆ—ç»„åˆæ˜¯ bac ï¼Œè€Œå…¶åä¸€ä¸ªæ’åˆ—ç»„åˆæ˜¯ cab ã€‚åºåˆ— abc æ²¡æœ‰â€œå‰ä¸€ä¸ªâ€æ’åˆ—ç»„åˆï¼Œcba æ²¡æœ‰â€œåä¸€ä¸ªâ€æ’åˆ—ç»„åˆã€‚</p>
<h4 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h4><p>é¦–å…ˆï¼Œä»æœªæ–­å¼€å§‹å¾€å‰å¯»æ‰¾ä¸¤ä¸ªç›¸é‚»å…ƒç´ ï¼Œä»¤ç¬¬ä¸€å…ƒç´ ä¸º*iï¼Œç¬¬äºŒå…ƒç´ ä¸º*iiï¼Œä¸”æ»¡è¶³ *i &lt; *iiã€‚æ‰¾åˆ°è¿™æ ·ä¸€ç»„ç›¸é‚»å…ƒç´ åï¼Œå†ä»æœ€å°¾ç«¯å¼€å§‹å¾€å‰æ£€éªŒï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªå¤§äº*içš„å…ƒç´ ï¼Œä»¤å…¶ä¸º*jï¼Œå°†i, jå…ƒç´ å¯¹è°ƒï¼Œå†å°† ii ä¹‹åçš„æ‰€æœ‰å…ƒç´ é¢ å€’æ’åˆ—ã€‚æ­¤å³æ‰€æ±‚ä¹‹â€œä¸‹ä¸€ä¸ªâ€æ’åˆ—ç»„åˆã€‚</p>
<p>ç®—æ³•åº”ç”¨äºåºåˆ—{0, 1, 2, 3, 4}ä¸Šçš„ç¤ºä¾‹ï¼š</p>
<p><img src="/../img/next_permutation%E7%A4%BA%E4%BE%8B.png" alt="next_permutationç¤ºä¾‹"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> BidirectionalIterators&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">next_permutation</span><span class="params">(BidirectionalIterator first, BidirectionalIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> <span class="literal">false</span>;	<span class="comment">//ç©ºåŒºé—´</span></span><br><span class="line">	BidirectionalIterator i = first;</span><br><span class="line">	++i;</span><br><span class="line">	<span class="keyword">if</span> (i == last) <span class="keyword">return</span> <span class="literal">false</span>;		<span class="comment">//åªæœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">	i = last; 	<span class="comment">//iæŒ‡å‘å°¾ç«¯</span></span><br><span class="line">	--i;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (;;) &#123;</span><br><span class="line">		BidirectionalIterator ii = i;</span><br><span class="line">		--i;</span><br><span class="line">		<span class="comment">//ä»¥ä¸Šï¼Œé”å®šä¸€ç»„ï¼ˆä¸¤ä¸ªï¼‰ç›¸é‚»å…ƒç´ </span></span><br><span class="line">		<span class="keyword">if</span>(*i &lt; *ii) &#123;	<span class="comment">//å¦‚æœå‰ä¸€ä¸ªå…ƒç´ å°äºåä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">			BidirectionalIterator j = last;	<span class="comment">//ä»¤jæŒ‡å‘å°¾ç«¯</span></span><br><span class="line">			<span class="keyword">while</span> (!(*i &lt; *--j));	<span class="comment">//ç”±å°¾ç«¯å¾€å‰æ‰¾ï¼Œç›´åˆ°é‡ä¸Šæ¯”*iå¤§çš„å…ƒç´ </span></span><br><span class="line">			<span class="built_in">iter_swap</span>(i, j);		<span class="comment">//äº¤æ¢iï¼Œj</span></span><br><span class="line">			<span class="built_in">reverse</span>(ii, last);		<span class="comment">//å°†iiä¹‹åçš„å…ƒç´ å…¨éƒ¨é€†å‘é‡æ’</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (i == first) &#123;			<span class="comment">//è¿›è¡Œè‡³æœ€å‰é¢äº†</span></span><br><span class="line">			<span class="built_in">reverse</span> (first , last);	 <span class="comment">//å…¨éƒ¨é€†å‘é‡æ’</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="prev-permutation"><a href="#prev-permutation" class="headerlink" title="prev_permutation"></a>prev_permutation</h4><p>è¯¥ç®—æ³•æ‰¾å‡ºâ€œå‰ä¸€ä¸ªâ€æ’åˆ—ç»„åˆï¼Œå…¶æ„ä¹‰å·²åœ¨ä¸ŠèŠ‚é˜è¿°ã€‚</p>
<h4 id="ç®—æ³•å®ç°-1"><a href="#ç®—æ³•å®ç°-1" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h4><p>é¦–å…ˆï¼Œä»æœ€å°¾ç«¯å¼€å§‹å¾€å‰å¯»æ‰¾ä¸¤ä¸ªç›¸é‚»å…ƒç´ ï¼Œä»¤ç¬¬ä¸€å…ƒç´ ä¸º*iï¼Œç¬¬äºŒå…ƒç´ ä¸º*iiï¼Œä¸”æ»¡è¶³ *i &gt; *iiã€‚æ‰¾åˆ°è¿™æ ·ä¸€ç»„ç›¸é‚»å…ƒç´ åï¼Œå†ä»æœ€å°¾ç«¯å¼€å§‹å¾€å‰æ£€éªŒï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªå°äº*i çš„å…ƒç´ ï¼Œä»¤ä¸º*jï¼Œå°† iï¼Œjå…ƒç´ å¯¹è°ƒï¼Œå†å°†ii ä¹‹åçš„æ‰€æœ‰å…ƒç´ é¢ å€’æ’åˆ—ã€‚æ­¤å³æ‰€æ±‚ä¹‹â€œå‰ä¸€ä¸ªâ€æ’åˆ—ç»„åˆã€‚</p>
<p>ç®—æ³•åº”ç”¨äºåºåˆ—{0, 1, 2, 3, 4}ä¸Šçš„ç¤ºä¾‹ï¼š</p>
<p><img src="/../img/prev_permutation%E7%A4%BA%E4%BE%8B.png" alt="prev_permutationç¤ºä¾‹"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> BidirectionalIterators&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">prev_permutation</span><span class="params">(BidirectionalIterator first, BidirectionalIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span> <span class="literal">false</span>;	<span class="comment">//ç©ºåŒºé—´</span></span><br><span class="line">	BidirectionalIterator i = first;</span><br><span class="line">	++i;</span><br><span class="line">	<span class="keyword">if</span> (i == last) <span class="keyword">return</span> <span class="literal">false</span>;		<span class="comment">//åªæœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">	i = last; 	<span class="comment">//iæŒ‡å‘å°¾ç«¯</span></span><br><span class="line">	--i;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (;;) &#123;</span><br><span class="line">		BidirectionalIterator ii = i;</span><br><span class="line">		--i;</span><br><span class="line">		<span class="comment">//ä»¥ä¸Šï¼Œé”å®šä¸€ç»„ï¼ˆä¸¤ä¸ªï¼‰ç›¸é‚»å…ƒç´ </span></span><br><span class="line">		<span class="keyword">if</span>(*ii &lt; *i) &#123;	<span class="comment">//å¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">			BidirectionalIterator j = last;	<span class="comment">//ä»¤jæŒ‡å‘å°¾ç«¯</span></span><br><span class="line">			<span class="keyword">while</span> (!(*--j &lt; *i));	<span class="comment">//ç”±å°¾ç«¯å¾€å‰æ‰¾ï¼Œç›´åˆ°é‡ä¸Šæ¯”*iå°çš„å…ƒç´ </span></span><br><span class="line">			<span class="built_in">iter_swap</span>(i, j);		<span class="comment">//äº¤æ¢iï¼Œj</span></span><br><span class="line">			<span class="built_in">reverse</span>(ii, last);		<span class="comment">//å°†iiä¹‹åçš„å…ƒç´ å…¨éƒ¨é€†å‘é‡æ’</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (i == first) &#123;			<span class="comment">//è¿›è¡Œè‡³æœ€å‰é¢äº†</span></span><br><span class="line">			<span class="built_in">reverse</span> (first , last);	 <span class="comment">//å…¨éƒ¨é€†å‘é‡æ’</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="random-shuffle"><a href="#random-shuffle" class="headerlink" title="random_shuffle"></a>random_shuffle</h4><p>æ¦‚ç®—æ³•å°†[firstï¼Œlast)çš„å…ƒç´ æ¬¡åºéšæœºé‡æ’ã€‚å³ï¼Œåœ¨N! ç§å¯èƒ½çš„å…ƒç´ æ’åˆ—é¡ºåºä¸­éšæœºé€‰å‡ºä¸€ç§ï¼Œæ­¤å¤„Nä¸ºlast - firstã€‚</p>
<p>random_shuffleæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå·®åˆ«åœ¨äºéšæœºæ•°çš„å–å¾—ã€‚ç‰ˆæœ¬ä¸€ä½¿ç”¨å†…éƒ¨éšæœºæ•°äº§ç”Ÿå™¨ï¼Œç‰ˆæœ¬äºŒä½¿ç”¨ä¸€ä¸ªä¼šäº§ç”Ÿéšæœºéšæœºæ•°çš„ä»¿å‡½æ•°ã€‚ç‰¹åˆ«è¯·ä½ æ³¨æ„ï¼Œè¯¥ä»¿å‡½æ•°çš„ä¼ é€’æ–¹å¼æ˜¯by reference è€Œéä¸€èˆ¬çš„by valueï¼Œè¿™æ˜¯å› ä¸ºéšæœºéšæœºæ•°äº§ç”Ÿå™¨æœ‰ä¸€ä¸ªé‡è¦ç‰¹è´¨ï¼šå®ƒæ‹¥æœ‰å±€éƒ¨çŠ¶æ€ ( local state)ï¼Œæ¯æ¬¡è¢«è°ƒç”¨æ—¶éƒ½ä¼šæœ‰æ‰€æ”¹å˜ï¼Œå¹¶å› æ­¤ä¿éšœäº§ç”Ÿå‡ºæ¥çš„éšæœºæ•°èƒ½å¤Ÿéšæœºã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SGIç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">random_shuffle</span><span class="params">(RandomAccessIterator first, RandomAccessIterator last)</span> </span>&#123;</span><br><span class="line">	__random_shuffle(first, last, <span class="built_in">distance_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line"><span class="type">void</span> __random_shuffle(RandomAccessIterator first, RandomAccessIterator last, Distance*) &#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">for</span> (RandomAccessIterator i = first + <span class="number">1</span>; i != last; ++i)</span><br><span class="line">        <span class="meta">#<span class="keyword">ifdef</span> __STL_NO_DRAND48</span></span><br><span class="line">		<span class="built_in">iter_swap</span>(i, first + <span class="built_in">Distance</span>(<span class="built_in">rand</span>() % ((i - first) + <span class="number">1</span>)));</span><br><span class="line">		<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">		<span class="built_in">iter_swap</span>(i, first + <span class="built_in">Distance</span>(<span class="built_in">lrand48</span>() % ((i - first) + <span class="number">1</span>)));</span><br><span class="line">		<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//SGIç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">RandomNumberGenerator</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">random_shuffle</span><span class="params">(RandomAccessIterator first, RandomAccessIterator last, RandomNumberGenerator&amp; rand)</span> </span>&#123;	<span class="comment">//æ³¨æ„ï¼Œby reference</span></span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">for</span> (RandomAccessIterator i = first + <span class="number">1</span>; i != last; ++i)</span><br><span class="line"> 		<span class="built_in">iter_swap</span>(i, first + <span class="built_in">rand</span>((i - first) + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="partial-sort-x2F-partial-sort-copy"><a href="#partial-sort-x2F-partial-sort-copy" class="headerlink" title="partial_sort &#x2F; partial_sort_copy"></a>partial_sort &#x2F; partial_sort_copy</h4><p>è¯¥ç®—æ³•æ¥å—ä¸€ä¸ªmiddleè¿­ä»£å™¨ï¼ˆä½äºåºåˆ—[first, last)ä¹‹å†…ï¼‰ï¼Œç„¶åé‡æ–°å®‰æ’[first, last)ï¼Œæ˜¯åºåˆ—ä¸­çš„middle - firstä¸ªæœ€å°å…ƒç´ ä»¥é€’å¢é¡ºåºæ’åºï¼Œç½®äº[first, middle)å†…ã€‚å…¶ä½™last - middleä¸ªå…ƒç´ å®‰ç½®äº[middle, last)ç§ï¼Œä¸ä¿è¯æœ‰ä»»ä½•ç‰¹å®šé¡ºåºã€‚å› æ­¤ï¼Œåªæ’åºå‰Nä¸ªå…ƒç´ æ—¶ï¼Œpartial_sortçš„æ•ˆç‡è¦é«˜äºsortã€‚</p>
<p>partial_sortæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶å·®åˆ«åœ¨äºå¦‚ä½•å®šä¹‰æŸä¸ªå…ƒç´ å°äºå¦ä¸€å…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨less-than æ“ä½œç¬¦ï¼Œç¬¬äºŒç‰ˆæœ¬ä½¿ç”¨ä»¿å‡½æ•°compã€‚</p>
<h5 id="ç®—æ³•å®ç°-2"><a href="#ç®—æ³•å®ç°-2" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h5><p>ç®—æ³•å†…éƒ¨é‡‡ç”¨heap sortå®Œæˆã€‚partial_sort çš„ä»»åŠ¡æ˜¯æ‰¾å‡º middle - first ä¸ªæœ€å°å…ƒç´ ï¼Œå› æ­¤ï¼Œé¦–å…ˆç•Œå®šå‡ºåŒºé—´[first, middle)ï¼Œå¹¶åˆ©ç”¨ make_heap()å°†å®ƒç»„ç»‡æˆä¸€ä¸ªmax-heapï¼Œç„¶åå°±å¯ä»¥å°†[middle, last)ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ‹¿æ¥ä¸max-heapçš„æœ€å¤§å€¼æ¯”è¾ƒï¼ˆmax-heapçš„æœ€å¤§å€¼å°±åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ èº«ä¸Šï¼Œè½»æ¾å¯ä»¥è·å¾—ï¼‰ï¼šå¦‚æœå°äºè¯¥æœ€å¤§å€¼ï¼Œå°±äº’æ¢ä½ç½®å¹¶é‡æ–°ä¿æŒmax-heapçš„çŠ¶æ€ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬èµ°éæ•´ä¸ª[middle, last)æ—¶ï¼Œè¾ƒå¤§çš„å…ƒç´ éƒ½å·²ç»è¢«æŠ½ç¦»å‡º[first, middle)ï¼Œè¿™æ—¶å€™å†ä»¥sort_heap()å°†[first, middle)åšä¸€æ¬¡æ’åºï¼Œå³åŠŸå¾·åœ†æ»¡ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">partial_sort</span><span class="params">(RandomAccessIterator first, RandomAccessIterator middle, RandomAccessIterator last)</span> </span>&#123;</span><br><span class="line">	__partial_sort(first, middle, last, <span class="built_in">value_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> __partial_sort(RandomAccessIterator first,  RandomAccessIterator middle, RandomAccessIterator last, T*) &#123;</span><br><span class="line">	<span class="built_in">make_heap</span>(first, middle);</span><br><span class="line">	<span class="comment">//æ³¨æ„ï¼Œä»¥ä¸‹çš„i &lt; laståˆ¤æ–­æ“ä½œï¼Œåªé€‚ç”¨äºrandom iterator</span></span><br><span class="line">	<span class="keyword">for</span> (RandomAccessIterator i = middle; i &lt; last; ++i)</span><br><span class="line">		<span class="keyword">if</span> (*i &lt; *first)</span><br><span class="line">			__pop_heap(first, middle, i, <span class="built_in">T</span>(*i), <span class="built_in">distance_type</span>(first));</span><br><span class="line">	<span class="built_in">sort_heap</span>(first, middle);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>partial_sortæœ‰ä¸€ä¸ªå§Šå¦¹ï¼Œå°±æ˜¯partial_sort_copyã€‚partial_sort å’Œ partial_sort_copyä¸¤è€…è¡Œä¸ºé€»è¾‘å®Œå…¨ç›¸åŒï¼Œåªä¸è¿‡åè€…å°†(last - first)ä¸ªæœ€å°å…ƒç´ ï¼ˆæˆ–æœ€å¤§å…ƒç´ ï¼Œè§† compè€Œå®šï¼‰æ’åºåçš„æ‰€å¾—ç»“æœç½®äº[result_first, result_last )ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> RandomAccessIterator</span></span><br><span class="line"><span class="function"><span class="title">partial_sort_copy</span><span class="params">(InputIterator first,  InputIterator last, RandomAccessIterator result_first, RandomAccessIterator result_last)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬äºŒ</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>, <span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">Compare</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> RandomAccessIterator</span></span><br><span class="line"><span class="function"><span class="title">partial_sort_copy</span><span class="params">(InputIterator first, InputIterator last, RandomAccessIterator result_first, RandomAccessIterator result_last, Compare comp)</span></span>;</span><br></pre></td></tr></table></figure>

<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>STLæ‰€æä¾›çš„å„å¼å„æ ·ç®—æ³•ä¸­ï¼Œsort()æ˜¯æœ€å¤æ‚æœ€åºå¤§çš„ä¸€ä¸ªã€‚è¯¥ç®—æ³•æ¥å—ä¸¤ä¸ªRandomAccesslteratorsï¼ˆéšæœºå­˜å–è¿­ä»£å™¨ï¼‰ï¼Œç„¶åå°†åŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ ä»¥æ¸å¢æ–¹å¼ç”±å°åˆ°å¤§é‡æ–°æ’åˆ—ã€‚ç¬¬äºŒä¸ªç‰ˆæœ¬åˆ™å…è®¸ç”¨æˆ·æŒ‡å®šä¸€ä¸ªä»¿å‡½æ•°ï¼ˆfunctorï¼‰ï¼Œä½œä¸ºæ’åºæ ‡å‡†ã€‚</p>
<p>STLçš„æ‰€æœ‰å…³ç³»å‹å®¹å™¨( associative containersï¼‰éƒ½æ‹¥æœ‰è‡ªåŠ¨æ’åºåŠŸèƒ½ï¼ˆåº•å±‚ç»“æ„é‡‡ç”¨RB-treeï¼‰ï¼Œæ‰€ä»¥ä¸éœ€è¦ç”¨åˆ°è¿™ä¸ªsort ç®—æ³•ã€‚è‡³äºé¡ºåºå®¹å™¨ï¼ˆ sequence containersï¼‰ä¸­çš„stackã€queueå’Œ priority-queueéƒ½æœ‰ç‰¹åˆ«çš„å‡ºå…¥å£ï¼Œä¸å…è®¸ç”¨æˆ·å¯¹å…ƒç´ æ’åºã€‚å‰©ä¸‹vectorã€dequeã€ listå’Œslistï¼Œå‰ä¸¤è€…çš„è¿­ä»£å™¨å±äºRandomAccesslteratorsï¼Œé€‚åˆä½¿ç”¨sortç®—æ³•ï¼Œlistçš„è¿­ä»£å™¨å±äºBidirectioinalteratorsï¼Œ slistçš„è¿­ä»£å™¨æ›´å±äºForwardlteratorsï¼Œéƒ½ä¸é€‚åˆä½¿ç”¨sort ç®—æ³•ã€‚å¦‚æœè¦å¯¹ listæˆ–slistæ’åºï¼Œåº”è¯¥ä½¿ç”¨å®ƒä»¬è‡ªå·±æä¾›çš„ member functions sort ( )ã€‚</p>
<p>STLçš„sortç®—æ³•ï¼Œæ•°æ®é‡å¤§æ—¶é‡‡ç”¨Quick Sortï¼Œåˆ†æ®µé€’å½’æ’åºã€‚ä¸€æ—¦åˆ†æ®µåçš„æ•°æ®é‡å°äºæŸä¸ªé—¨æ§›ï¼Œä¸ºé¿å…Quick Sortçš„é€’å½’è°ƒç”¨å¸¦æ¥è¿‡å¤§çš„é¢å¤–è´Ÿè·(overhead)ï¼Œå°±æ”¹ç”¨Insertion Sortã€‚å¦‚æœé€’å½’å±‚æ¬¡è¿‡æ·±ï¼Œè¿˜ä¼šæ”¹ç”¨Heap sortã€‚</p>
<h5 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h5><p>Insertion Sortä»¥åŒå±‚å¾ªç¯çš„å½¢å¼è¿›è¡Œã€‚å¤–å¾ªç¯éå†æ•´ä¸ªåºåˆ—ï¼Œæ¯æ¬¡è¿­ä»£å†³å®šå‡ºä¸€ä¸ªå­åŒºé—´ï¼›å†…å¾ªç¯éå†å­åŒºé—´ï¼Œå°†å­åŒºé—´å†…çš„æ¯ä¸€ä¸ªâ€œé€†è½¬å¯¹(inversion)â€å€’è½¬è¿‡æ¥ã€‚æ‰€è°“â€œé€†è½¬å¯¹â€æ˜¯æŒ‡ä»»ä½•ä¸¤ä¸ªè¿­ä»£å™¨ i, jï¼Œå…¶ä¸­i &lt; j è€Œ*i &gt; *jã€‚ä¸€æ—¦ä¸å­˜åœ¨â€œé€†è½¬å¯¹â€ï¼Œåºåˆ—å³æ’åºå®Œæ¯•ã€‚è¯¥ç®—æ³•çš„å¤æ‚åº¦ä¸ºO(N2)ï¼Œè¯´èµ·æ¥å¹¶ä¸ç†æƒ³ï¼Œä½†æ˜¯å½“æ•°æ®é‡å¾ˆå°‘æ—¶ï¼Œå´æœ‰ä¸é”™çš„æ•ˆæœï¼ŒåŸå› æ˜¯å®ç°ä¸Šæœ‰ä¸€äº›æŠ€å·§ï¼ˆç¨åæºä»£ç å¯è§)ï¼Œè€Œä¸”ä¸åƒå…¶å®ƒè¾ƒä¸ºå¤æ‚çš„æ’åºç®—æ³•æœ‰ç€è¯¸å¦‚é€’å½’è°ƒç”¨ç­‰æ“ä½œå¸¦æ¥çš„é¢å¤–è´Ÿè·ã€‚</p>
<p>sGI STLçš„Insertion Sortæœ‰ä¸¤ä¸ªç‰ˆæœ¬,ç‰ˆæœ¬ä¸€ä½¿ä»¥operator&lt;ä¸ºä¸¤å…ƒç´ çš„æ¯”è¾ƒå‡½æ•°ï¼ˆé€’å¢ï¼‰ï¼Œç‰ˆæœ¬äºŒå…è®¸ç”¨æˆ·æŒ‡å®šä¸€ä¸ªä»¿å‡½æ•°ï¼ˆfunctor)ï¼Œä½œä¸ºä¸¤å…ƒç´ çš„æ¯”è¾ƒå‡½æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="type">void</span> __insertion_sort(RandomAccessIterator first,</span><br><span class="line">					RandomAccessIterator last) &#123;</span><br><span class="line">	<span class="keyword">if</span> (first == last) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">for</span> (RandomAccessIterator i = first + <span class="number">1</span>; i != last; ++i)	<span class="comment">//å¤–å¾ªç¯</span></span><br><span class="line">		__linear_insert(first, i, <span class="built_in">value_type</span>(first));</span><br><span class="line">		<span class="comment">//ä»¥ä¸Šï¼Œ[first, i)å½¢æˆä¸€ä¸ªå­åŒºé—´</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€è¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> __linear_insert(RandomAccessIterator first,</span><br><span class="line">						  RandomAccessIterator last, T*) &#123;</span><br><span class="line">	T value = *last;		<span class="comment">//è®°å½•å°¾å…ƒç´ </span></span><br><span class="line">	<span class="keyword">if</span> (value &lt; *first) &#123; 	<span class="comment">//å°¾æ¯”å¤´è¿˜å°ï¼ˆæ³¨æ„ï¼Œå¤´ç«¯å¿…ä¸ºæœ€å°å…ƒç´ )</span></span><br><span class="line">        <span class="comment">//é‚£ä¹ˆå°±åˆ«ä¸€ä¸ªä¸ªæ¯”è¾ƒäº†ï¼Œä¸€æ¬¡åšå®Œçˆ½å¿«äº›â€¦</span></span><br><span class="line">		<span class="built_in">copy_backward</span>(first, last, last + <span class="number">1</span>); <span class="comment">//å°†æ•´ä¸ªåŒºé—´å‘å³é€’ç§»ä¸€ä¸ªä½ç½®</span></span><br><span class="line">		*first = value;		<span class="comment">//ä»¤å¤´å…ƒç´ ç­‰äºåŸå…ˆçš„å°¾å…ƒç´ å€¼</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> 	<span class="comment">//å°¾ä¸å°äºå¤´</span></span><br><span class="line">		__unguarded_linear_insert(last, value);</span><br><span class="line">&#125;    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€è¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> __unguarded_linear_insert(RandomAccessIterator last, T value) &#123;</span><br><span class="line">	RandomAccessIterator next = last;</span><br><span class="line">	--next;</span><br><span class="line">	<span class="comment">//insertion sort çš„å†…å¾ªç¯</span></span><br><span class="line">	<span class="comment">//æ³¨æ„ï¼Œä¸€æ—¦ä¸å†å‡ºç°é€†è½¬å¯¹(inversion)ï¼Œå¾ªç¯å°±å¯ä»¥ç»“æŸäº†</span></span><br><span class="line">	<span class="keyword">while</span> (value &lt; *next) &#123; <span class="comment">//é€†è½¬å¯¹ï¼ˆ inversionï¼‰å­˜åœ¨</span></span><br><span class="line">		*last = *next;		<span class="comment">//è°ƒæ•´</span></span><br><span class="line">		last = next;		<span class="comment">//è°ƒæ•´è¿­ä»£å™¨</span></span><br><span class="line">		--next;				<span class="comment">//å·¦ç§»ä¸€ä¸ªä½ç½®</span></span><br><span class="line">	&#125;</span><br><span class="line">	*last = value;			 <span class="comment">// valueçš„æ­£ç¡®è½è„šå¤„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h5><p>Quick Sortå¹³å‡å¤æ‚åº¦éƒ½ä¸ºO(N log N)ï¼Œæœ€åæƒ…å†µä¸‹å°†è¾¾O(NÂ²)ã€‚</p>
<p>Quick Sortç®—æ³•å¯ä»¥å™è¿°å¦‚ä¸‹ã€‚å‡è®¾Sä»£è¡¨å°†è¢«å¤„ç†çš„åºåˆ—ï¼š</p>
<ol>
<li>å¦‚æœSçš„å…ƒç´ ä¸ªæ•°ä¸º0æˆ–1ï¼Œç»“æŸã€‚</li>
<li>å–Sä¸­çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ï¼Œå½“ä½œæ¢è½´(pivot) vã€‚</li>
<li>å°†Såˆ†å‰²ä¸ºLï¼ŒRä¸¤æ®µï¼Œä½¿Lå†…çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å°äºæˆ–ç­‰äºvï¼ŒRå†…çš„æ¯ä¸€ä¸ª<br>å…ƒç´ éƒ½å¤§äºæˆ–ç­‰äºvã€‚</li>
<li>å¯¹L,Ré€’å½’æ‰§è¡ŒQuick Sortã€‚</li>
</ol>
<h6 id="Median-of-Threeï¼ˆä¸‰ç‚¹ä¸­å€¼ï¼‰"><a href="#Median-of-Threeï¼ˆä¸‰ç‚¹ä¸­å€¼ï¼‰" class="headerlink" title="Median-of-Threeï¼ˆä¸‰ç‚¹ä¸­å€¼ï¼‰"></a>Median-of-Threeï¼ˆä¸‰ç‚¹ä¸­å€¼ï¼‰</h6><p>è™½ç„¶ä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥è¢«é€‰æ¥å½“ä½œæ¢è½´ï¼Œä½†æ˜¯å…¶åˆé€‚ä¸å¦ä¼šå½±å“Quick Sortçš„æ•ˆç‡ã€‚ä¸ºäº†é¿å…â€œå…ƒç´ å½“åˆè¾“å…¥æ—¶ä¸å¤Ÿéšæœºâ€æ‰€å¸¦æ¥çš„è€ŒåŒ–æ•ˆåº”ï¼Œæœ€ç†æƒ³çš„æ–¹å¼å°±æ˜¯å–æ•´ä¸ªåºåˆ—çš„å¤´ã€å°¾ã€ä¸­å¤®ä¸‰ä¸ªä½ç½®çš„å…ƒç´ ï¼Œä»¥å…¶ä¸­å€¼ä½œä¸ºæ¢è½´ã€‚ä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿå–å‡ºä¸­å¤®ä½ç½®çš„å…ƒç´ ï¼Œæ˜¾ç„¶è¿­ä»£å™¨å¿…é¡»èƒ½å¤Ÿéšæœºå®šä½ï¼Œå³å¿…é¡»æ˜¯ä¸ªRandomAccessIteratorsã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿”å›a,b,cä¹‹å±…ä¸­è€…</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">const</span> T&amp; __median(<span class="type">const</span> T&amp; a, <span class="type">const</span> T&amp; b, <span class="type">const</span> T&amp; c) &#123;</span><br><span class="line">	<span class="keyword">if</span> (a &lt; b)</span><br><span class="line">		<span class="keyword">if</span> (b &lt; c)		<span class="comment">// a &lt; b &lt; c</span></span><br><span class="line">			<span class="keyword">return</span> b;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (a &lt; c)	<span class="comment">// a &lt; b, b &gt;= c, a &lt; c</span></span><br><span class="line">			<span class="keyword">return</span> c;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> a;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (a &lt; c)		<span class="comment">// c &gt; a &gt;= b</span></span><br><span class="line">		<span class="keyword">return</span> a;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (b &lt; c)		<span class="comment">//a &gt;= b, a &gt;= c, b &lt; c</span></span><br><span class="line">		<span class="keyword">return</span> c;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> b;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="Partitioningï¼ˆåˆ†å‰²ï¼‰"><a href="#Partitioningï¼ˆåˆ†å‰²ï¼‰" class="headerlink" title="Partitioningï¼ˆåˆ†å‰²ï¼‰"></a>Partitioningï¼ˆåˆ†å‰²ï¼‰</h6><p>åˆ†å‰²æ–¹æ³•ä¸åªä¸€ç§ï¼Œä»¥ä¸‹å™è¿°æ—¢ç®€å•åˆæœ‰è‰¯å¥½æˆæ•ˆçš„åšæ³•ã€‚ä»¤å¤´ç«¯è¿­ä»£å™¨firstå‘å°¾éƒ¨ç§»åŠ¨ï¼Œå°¾ç«¯è¿­ä»£å™¨lastå‘å¤´éƒ¨ç§»åŠ¨ã€‚å½“*first å¤§äºæˆ–ç­‰äºæ¢è½´æ—¶å°±åœä¸‹æ¥ï¼Œå½“*last å°äºæˆ–ç­‰äºæ¢è½´æ—¶ä¹Ÿåœä¸‹æ¥ï¼Œç„¶åæ£€éªŒä¸¤ä¸ªè¿­ä»£å™¨æ˜¯å¦äº¤é”™ã€‚å¦‚æœ firstä»ç„¶åœ¨å·¦è€Œlast ä»ç„¶åœ¨å³ï¼Œå°±å°†ä¸¤è€…å…ƒç´ äº’æ¢ï¼Œç„¶åå„è‡ªè°ƒæ•´ä¸€ä¸ªä½ç½®ï¼ˆå‘ä¸­å¤®é€¼è¿‘)ï¼Œå†ç»§ç»­è¿›è¡Œç›¸åŒçš„è¡Œä¸ºã€‚å¦‚æœå‘ç°ä¸¤ä¸ªè¿­ä»£å™¨äº¤é”™äº†ï¼ˆäº¦å³! (first &lt; last)) ï¼Œè¡¨ç¤ºæ•´ä¸ªåºåˆ—å·²ç»è°ƒæ•´å®Œæ¯•ï¼Œä»¥æ­¤æ—¶çš„first ä¸ºè½´ï¼Œå°†åºåˆ—åˆ†ä¸ºå·¦å³ä¸¤åŠï¼Œå·¦åŠéƒ¨æ‰€æœ‰å…ƒç´ å€¼éƒ½å°äºæˆ–ç­‰äºæ¢è½´ï¼Œå³åŠéƒ¨æ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äºæˆ–ç­‰äºæ¢è½´ã€‚</p>
<p>ä¸‹é¢æ˜¯SGI STLæä¾›çš„åˆ†å‰²å‡½æ•°ï¼Œå…¶è¿”å›å€¼æ˜¯åˆ†å‰²åçš„å³ç«¯ç¬¬ä¸€ä¸ªä½ç½®ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">RandomAccessIterator __unguarded_partition (RandomAccessIterator first, RandomAccessIterator last, T pivot) &#123;</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">		<span class="keyword">while</span> (*first &lt; pivot) ++first; <span class="comment">// firstæ‰¾åˆ° &gt;= pivotçš„å…ƒç´ å°±åœä¸‹æ¥</span></span><br><span class="line">		--last;						  <span class="comment">//è°ƒæ•´</span></span><br><span class="line">		<span class="keyword">while</span> (pivot &lt; *last) --last;  <span class="comment">//lastæ‰¾åˆ° &lt;= pivot çš„å…ƒç´ å°±åœä¸‹æ¥</span></span><br><span class="line">		<span class="comment">//æ³¨æ„ï¼Œä»¥ä¸‹first &lt; last åˆ¤æ–­æ“ä½œï¼Œåªé€‚ç”¨äºrandom iterator</span></span><br><span class="line">		<span class="keyword">if</span> (!(first &lt; last)) <span class="keyword">return</span> first;	<span class="comment">//äº¤é”™ï¼Œç»“æŸå¾ªç¯</span></span><br><span class="line">		<span class="built_in">iter_swap</span>(first, last);				<span class="comment">//å¤§å°å€¼äº¤æ¢</span></span><br><span class="line">		++first;						<span class="comment">//è°ƒæ•´</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h6 id="thresholdï¼ˆé˜ˆå€¼ï¼‰"><a href="#thresholdï¼ˆé˜ˆå€¼ï¼‰" class="headerlink" title="thresholdï¼ˆé˜ˆå€¼ï¼‰"></a>thresholdï¼ˆé˜ˆå€¼ï¼‰</h6><p>é¢å¯¹å°å‹åºåˆ—ï¼ŒQuick Sortå¯èƒ½å¹¶ä¸æ¯”Insertion Sortåˆ’ç®—ï¼Œé‰´äºè¿™ç§æƒ…å†µï¼Œéœ€è¦é€‚åº¦è¯„ä¼°åºåˆ—çš„å¤§å°æ¥å†³å®šé‡‡ç”¨Quick Sortæˆ–è€…Insertion Sortã€‚è¯¥é˜ˆå€¼å¹¶æ— å®šè®ºï¼Œ5-20éƒ½å¯èƒ½å¯¼è‡´å·®ä¸å¤šçš„ç»“æœï¼Œå®é™…çš„æœ€ä½³å€¼å› è®¾å¤‡è€Œå¼‚ã€‚</p>
<h6 id="final-insertion-sort"><a href="#final-insertion-sort" class="headerlink" title="final insertion sort"></a>final insertion sort</h6><p>å¦‚æœæˆ‘ä»¬ä»¤æŸä¸ªå¤§å°ä»¥ä¸‹çš„åºåˆ—æ»ç•™åœ¨â€œå‡ è¿‘æ’åºä½†å°šæœªå®Œæˆâ€çš„çŠ¶æ€ï¼Œæœ€åå†ä»¥ä¸€æ¬¡lnsertion Sortå°†æ‰€æœ‰è¿™äº›â€œå‡ è¿‘æ’åºä½†å°šæœªç«Ÿå…¨åŠŸâ€çš„å­åºåˆ—åšä¸€æ¬¡å®Œæ•´çš„æ’åºï¼Œå…¶æ•ˆç‡ä¸€èˆ¬è®¤ä¸ºä¼šæ¯”â€œå°†æ‰€æœ‰å­åºåˆ—å½»åº•æ’åºâ€æ›´å¥½ã€‚è¿™æ˜¯å› ä¸ºInsertion Sortåœ¨é¢å¯¹â€œå‡ è¿‘æ’åºâ€çš„åºåˆ—æ—¶ï¼Œæœ‰å¾ˆå¥½çš„è¡¨ç°ã€‚</p>
<h6 id="introsort"><a href="#introsort" class="headerlink" title="introsort"></a>introsort</h6><p>Introspective Sortingï¼ˆå†…çœå¼æ’åºï¼‰ï¼Œç®€ç§°IntroSortï¼Œå…¶è¡Œä¸ºåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹å‡ ä¹ä¸median-of-3 Quick Sortå®Œå…¨ç›¸åŒã€‚ä½†æ˜¯å½“åˆ†å‰²è¡Œä¸º( partitioningï¼‰æœ‰æ¶åŒ–ä¸ºäºŒæ¬¡è¡Œä¸ºçš„å€¾å‘æ—¶ï¼Œèƒ½å¤Ÿè‡ªæˆ‘ä¾¦æµ‹ï¼Œè½¬è€Œæ”¹ç”¨Heap Sortï¼Œä½¿æ•ˆç‡ç»´æŒåœ¨Heap Sortçš„O(N log N)ï¼Œåˆæ¯”ä¸€å¼€å§‹å°±ä½¿ç”¨Heap Sortæ¥å¾—å¥½ã€‚</p>
<h6 id="SGI-STL-sort"><a href="#SGI-STL-sort" class="headerlink" title="SGI STL sort"></a>SGI STL sort</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">sort</span><span class="params">(RandomAccessIterator first, RandomAccessIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (first != last) &#123;</span><br><span class="line">		__introsort_loop(first, last, <span class="built_in">value_type</span>(first), __lg(last - first)  *<span class="number">2</span>);</span><br><span class="line">		__final_insertion_sort(first, last);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="comment">// __lg()ç”¨æ¥æ§åˆ¶åˆ†å‰²æ¶åŒ–çš„æƒ…å†µï¼›</span></span><br><span class="line"><span class="comment">//æ‰¾å‡º 2^k &lt;= n çš„æœ€å¤§å€¼kã€‚ä¾‹: n=7ï¼Œå¾—k=2ï¼Œn=20ï¼Œå¾—k=4ï¼Œn=8ï¼Œå¾—k=3</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">Size</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> Size __lg (Size n) &#123;</span><br><span class="line">	Size k;</span><br><span class="line">	<span class="keyword">for</span> (k = <span class="number">0</span>; n &gt; <span class="number">1</span>; n &gt;&gt;= <span class="number">1</span>) ++k;</span><br><span class="line">	<span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“å…ƒç´ ä¸ªæ•°ä¸º40æ—¶ï¼Œ__introsort_loop()çš„æœ€åä¸€ä¸ªå‚æ•°å°†æ˜¯5*2ï¼Œæ„æ€æ˜¯æœ€å¤šå…è®¸åˆ†å‰²10å±‚ã€‚IntroSortç®—æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Size</span>&gt;</span><br><span class="line"><span class="type">void</span> __introsort_loop(RandomAccessIterator first, RandomAccessIterator last, T*, Size depth_limit) &#123;</span><br><span class="line"><span class="comment">// ä»¥ä¸‹ï¼Œ__stl_thresholdæ˜¯ä¸ªå…¨å±€å¸¸æ•°ï¼Œç¨æ—©å®šä¹‰ä¸ºconst int 16</span></span><br><span class="line">	<span class="keyword">while</span> (last - first &gt; __stl_threshold) &#123;		<span class="comment">// &gt; 16</span></span><br><span class="line">		<span class="keyword">if</span> (depth_limit == <span class="number">0</span> ) &#123;				 <span class="comment">//è‡³æ­¤ï¼Œåˆ†å‰²æ¶åŒ–</span></span><br><span class="line">			<span class="built_in">partial_sort</span>(first, last, last);	  <span class="comment">//æ”¹ç”¨heapsort</span></span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;            </span><br><span class="line">		--depth_limit;</span><br><span class="line">		<span class="comment">//ä»¥ä¸‹æ˜¯ median-of-3 partitionï¼Œé€‰æ‹©ä¸€ä¸ªå¤Ÿå¥½çš„æ¢è½´å¹¶å†³å®šåˆ†å‰²ç‚¹</span></span><br><span class="line">		<span class="comment">//åˆ†å‰²ç‚¹å°†è½åœ¨è¿­ä»£å™¨cutèº«ä¸Š</span></span><br><span class="line">		RandomAccessIterator cut = __unguarded_partition(first, last, <span class="built_in">T</span>(__median(*first, *(first + (last - first)/<span class="number">2</span>), *(last - <span class="number">1</span>))));</span><br><span class="line">		<span class="comment">//å¯¹å³åŠæ®µé€’å½’è¿›è¡Œsort.</span></span><br><span class="line">		__introsort_loop(cutï¼Œlast, <span class="built_in">value_type</span>(first), depth_limit);</span><br><span class="line">		last = cut;</span><br><span class="line">		<span class="comment">//ç°åœ¨å›åˆ°whileå¾ªç¯ï¼Œå‡†å¤‡å¯¹å·¦åŠæ®µé€’å½’è¿›è¡Œsort</span></span><br><span class="line">		<span class="comment">//è¿™ç§å†™æ³•å¯è¯»æ€§è¾ƒå·®ï¼Œæ•ˆç‡å¹¶æ²¡æœ‰æ¯”è¾ƒå¥½</span></span><br><span class="line">		<span class="comment">// RW STLé‡‡ç”¨ä¸€èˆ¬æ•™ç§‘ä¹¦å†™æ³•ï¼ˆç›´è§‚åœ°å¯¹å·¦åŠæ®µå’Œå³åŠæ®µé€’å½’ï¼‰ï¼Œè¾ƒæ˜“é˜…è¯»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“__introsort_loop()ç»“æŸï¼Œ[first, last)å†…æœ‰å¤šä¸ªâ€œå…ƒç´ ä¸ªæ•°å°äº16â€çš„å­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—éƒ½æœ‰ç›¸å½“ç¨‹åº¦çš„æ’åºï¼Œä½†å°šæœªå®Œå…¨æ’åºï¼ˆå› ä¸ºå…ƒç´ ä¸ªæ•°ä¸€æ—¦å°äº__stl_thresholdï¼Œå°±è¢«ä¸­æ­¢è¿›ä¸€æ­¥çš„æ’åºæ“ä½œäº†ï¼‰ã€‚å›åˆ°æ¯å‡½æ•°sort()ï¼Œå†è¿›å…¥__final_insertion_sort()ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/ç‰ˆæœ¬ä¸€</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="type">void</span> __final_insertion_sort(RandomAccessIterator first, RandomAccessIterator last) &#123;</span><br><span class="line">	<span class="keyword">if</span> (last - first &gt; __stl_threshold) &#123;	<span class="comment">// &gt; 16</span></span><br><span class="line">		__insertion_sort(first, first + __stl_threshold);</span><br><span class="line">		__unguarded_insertion_sort(first + __stl_thresholdï¼Œ last);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		__insertion_sort(first, last);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å‡½æ•°é¦–å…ˆåˆ¤æ–­å…ƒç´ ä¸ªæ•°æ˜¯å¦å¤§äº16ã€‚å¦‚æœç­”æ¡ˆä¸ºå¦ï¼Œå°±è°ƒç”¨__insertion_sort()åŠ ä»¥å¤„ç†ã€‚å¦‚æœç­”æ¡ˆä¸ºæ˜¯ï¼Œå°±å°†[first, last)åˆ†å‰²ä¸ºé•¿åº¦16çš„ä¸€æ®µå­åºåˆ—ï¼Œå’Œå¦ä¸€æ®µå‰©ä½™å­åºåˆ—ï¼Œå†é’ˆå¯¹ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«è°ƒç”¨__insertion_sort()å’Œ__unguarded_insertion_sort()ã€‚å‰è€…æºä»£ç å·²å‰å±•ç¤ºè¿‡ï¼Œåè€…æºä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> __unguarded_insertion_sort(RandomAccessIterator first, RandomAccessIterator last) &#123;	</span><br><span class="line">	__unguarded_insertion_sort_aux(first, last, <span class="built_in">value_type</span>(first));</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> __unguarded_insertion_sort_aux(RandomAccessIterator first, RandomAccessIterator last, T*) &#123;</span><br><span class="line">	<span class="keyword">for</span> (RandomAccessIterator i = first; i != last; ++i)</span><br><span class="line">		__unguarded_linear_insert(i, <span class="built_in">T</span>(*i)); <span class="comment">//è§å…ˆå‰å±•ç¤º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RW STLç‰ˆæœ¬çš„sort()ï¼Œçº¯ç²¹çš„Quick Sortï¼Œä¸æ˜¯IntroSortï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">sort</span><span class="params">(RandomAccessIterator first, RandomAccessIterator last)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!(first == last)) &#123;</span><br><span class="line">		__quick_sort_loop(first, last);</span><br><span class="line">		__final_insertion_sort(first, last); <span class="comment">//å…¶å†…æ“ä½œä¸SGI STLå®Œå…¨ç›¸åŒ</span></span><br><span class="line">	&#125;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> __quick_sort_loop(RandomAccessIterator first, RandomAccessIterator last)</span><br><span class="line">&#123;</span><br><span class="line">	__quick_sort_loop_aux(first, last, _RWSTD_VALUE_TYPE(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> __quick_sort_loop_aux(RandomAccessIterator first, RandomAccessIterator last, T*)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">while</span> (last - first &gt; __stl_threshold)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//median-of- 3 partitioning</span></span><br><span class="line">		RandomAccessIterator cut = __unguarded_partition(first, last, <span class="built_in">T</span>(__median(*first, *(first + (last - first)/<span class="number">2</span>), *(last - <span class="number">1</span>))));</span><br><span class="line">		<span class="keyword">if</span> (cut - first &gt;= last - cut)</span><br><span class="line">		&#123;</span><br><span class="line">			__quick_sort_loop(cut, last);	<span class="comment">//å¯¹å³æ®µé€’å½’å¤„ç†</span></span><br><span class="line">			last = cut;</span><br><span class="line">		&#125;            </span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			__quick_sort_loop(first, cut);	<span class="comment">//å¯¹å·¦æ®µé€’å½’å¤„ç†</span></span><br><span class="line">			first = cut;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="equal-rangeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#equal-rangeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="equal_rangeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>equal_rangeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h4><p>è¯¥ç®—æ³•è¿”å›ä¸€å¯¹è¿­ä»£å™¨iå’Œjï¼Œå…¶ä¸­iæ˜¯åœ¨ä¸ç ´åæ¬¡åºçš„å‰æä¸‹ï¼Œvalueå¯æ’å…¥çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆäº¦å³lower_boundï¼‰ï¼Œjåˆ™æ˜¯åœ¨ä¸ç ´åæ¬¡åºçš„å‰æä¸‹ï¼Œvalueå¯æ’å…¥çš„æœ€åä¸€ä¸ªä½ç½®ï¼ˆäº¦å³upper_boundï¼‰ã€‚å› æ­¤ï¼Œ[i, j)å†…çš„æ¯ä¸ªå…ƒç´ éƒ½ç­‰åŒäºvalueï¼Œè€Œä¸”[first, last)ä¹‹ä¸­ç¬¦åˆæ­¤ä¸€æ€§è´¨çš„æœ€å¤§å­åŒºé—´ã€‚</p>
<p>å³ä½¿[first, last)å¹¶æœªå«æœ‰â€œä¸value ç­‰åŒâ€ä¹‹ä»»ä½•å…ƒç´ ï¼Œä»¥ä¸Šå™è¿°ä»ç„¶åˆç†ã€‚è¿™ç§æƒ…å†µä¸‹â€œä¸value ç­‰åŒâ€ä¹‹æ‰€æœ‰å…ƒç´ æ‰€å½¢æˆçš„ï¼Œå…¶å®æ˜¯ä¸ªç©ºåŒºé—´ã€‚åœ¨ä¸ç ´åæ¬¡åºçš„å‰æä¸‹ï¼Œåªæœ‰ä¸€ä¸ªä½ç½®å¯ä»¥æ’å…¥valueï¼Œè€Œequal_rangeæ‰€è¿”å›çš„ pairï¼Œå…¶ç¬¬ä¸€å’Œç¬¬äºŒå…ƒç´ ï¼ˆéƒ½æ˜¯è¿­ä»£å™¨ï¼‰çš†æŒ‡å‘è¯¥ä½ç½®ã€‚</p>
<p>æœ¬ç®—æ³•æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç¬¬ä¸€ç‰ˆæœ¬é‡‡ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬é‡‡ç”¨ä»¿å‡½æ•°compè¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> pair&lt;ForwardIterator, ForwardIterator&gt;</span></span><br><span class="line"><span class="function"><span class="title">equal_range</span><span class="params">(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//æ ¹æ®è¿­ä»£å™¨çš„ç§ç±»å‹ï¼ˆcategoryï¼‰ï¼Œé‡‡ç”¨ä¸åŒçš„ç­–ç•¥</span></span><br><span class="line">	<span class="keyword">return</span> __equal_range(first, last, value, <span class="built_in">distance_type</span>(first),</span><br><span class="line">					    <span class="built_in">iterator_category</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€çš„random_access_iteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">pair&lt;RandomAccessIterator, RandomAccessIterator&gt;</span><br><span class="line">__equal_range(RandomAccessIterator first, RandomAccessIterator last, <span class="type">const</span> T&amp; value, Distance*, random_access_iterator_tag) &#123;</span><br><span class="line">	Distance len = last - first;</span><br><span class="line">	Distance half;</span><br><span class="line">	RandomAccessIterator middle, left, right;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (len &gt; <span class="number">0</span> ) &#123;			<span class="comment">//æ•´ä¸ªåŒºé—´å°šæœªéå†å®Œæ¯•</span></span><br><span class="line">		half = len &gt;&gt; <span class="number">1</span>;		<span class="comment">//æ‰¾å‡ºä¸­å¤®ä½ç½®</span></span><br><span class="line">		middle = first + half; 	 <span class="comment">//è®¾å®šä¸­å¤®è¿­ä»£å™¨</span></span><br><span class="line">		<span class="keyword">if</span> (*middle &lt; value) &#123; 	 <span class="comment">//å¦‚æœä¸­å¤®å…ƒç´ &lt;æŒ‡å®šå€¼</span></span><br><span class="line">			first = middle + <span class="number">1</span>;	 <span class="comment">//å°†è¿ä½œåŒºé—´ç¼©å°ï¼ˆç§»è‡³ååŠæ®µï¼‰ï¼Œä»¥æé«˜æ•ˆç‡</span></span><br><span class="line">			len = len - half - <span class="number">1</span>;</span><br><span class="line">		&#125;            </span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; *middle)	<span class="comment">//å¦‚æœä¸­å¤®å…ƒç´ &gt;æŒ‡å®šå€¼</span></span><br><span class="line">			len = half;			   <span class="comment">//å°†è¿ä½œåŒºé—´ç¼©å°ï¼ˆç§»è‡³å‰åŠæ®µï¼‰ä»¥æé«˜æ•ˆç‡</span></span><br><span class="line">		<span class="keyword">else</span> &#123;					   <span class="comment">//å¦‚æœä¸­å¤®å…ƒç´ ==æŒ‡å®šå€¼</span></span><br><span class="line">			<span class="comment">//åœ¨å‰åŠæ®µæ‰¾lower_bound</span></span><br><span class="line">			left = <span class="built_in">lower_bound</span>(first, middle, value);</span><br><span class="line">			<span class="comment">//åœ¨ååŠæ®µæ‰¾upper_bound</span></span><br><span class="line">			right = <span class="built_in">upper_bound</span>(++middle, first + len, value);</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">pair</span>&lt;RandomAccessIterator, RandomAccesstterator&gt;(left, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;        </span><br><span class="line">	<span class="comment">//æ•´ä¸ªåŒºé—´å†…éƒ½æ²¡æœ‰åŒ¹é…çš„å€¼ï¼Œé‚£ä¹ˆåº”è¯¥è¿”å›ä¸€å¯¹è¿­ä»£å™¨ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå¤§äºvalueçš„å…ƒç´ </span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">pair</span>&lt;RandomAccessIterator, RandomAccessIterator&gt;(first, first);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€çš„forward_iteratorç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ForwardIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">pair&lt;ForwardIterator, ForwardIterator&gt;</span><br><span class="line">__equal_range(ForwardIterator first, ForwardIterator last, <span class="type">const</span> T&amp; value, Distance*, forward_iterator_tag) &#123; </span><br><span class="line">	Distance len = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(first, last, len);</span><br><span class="line">	Distance half;</span><br><span class="line">	ForwardIterator middle, left, right;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		half = len &gt;&gt; <span class="number">1</span>;</span><br><span class="line">		middle = first;		  <span class="comment">//æ­¤è¡ŒåŠä¸‹ä¸€è¡Œï¼Œç›¸å½“äºRandomAccessiteratorçš„</span></span><br><span class="line">		<span class="built_in">advance</span>(middle, half); <span class="comment">//middle = first + half;</span></span><br><span class="line">		<span class="keyword">if</span> (*middle &lt; value) &#123;</span><br><span class="line">			first = middle;	   <span class="comment">//æ­¤è¡ŒåŠä¸‹ä¸€è¡Œï¼Œç›¸å½“äºRandomAccessiteratorçš„</span></span><br><span class="line">			++first;		   <span class="comment">//first = middle + 1;</span></span><br><span class="line">			len = len - half - <span class="number">1</span>;</span><br><span class="line">		&#125;            </span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; *middle)</span><br><span class="line">			len = half;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			left = <span class="built_in">lower_bound</span>(first, middle, value);</span><br><span class="line">			<span class="comment">//ä»¥ä¸‹è¿™è¡Œç›¸å½“äºRandomAccessIteratorçš„first += len;</span></span><br><span class="line">			<span class="built_in">advance</span>(first, len);</span><br><span class="line">			right = <span class="built_in">upper_bound</span>(++middle, first, value);</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">pair</span>&lt;ForwardIterator, ForwardIterator&gt;(left, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;        </span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">pair</span>&lt;ForwardIterator, ForwardIterator&gt;(first, first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="inplace-mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"><a href="#inplace-mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰" class="headerlink" title="inplace_mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰"></a>inplace_mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</h4><p>å¦‚æœä¸¤ä¸ªè¿æ¥åœ¨ä¸€èµ·çš„åºåˆ—[first, middle)å’Œ[middle, last)éƒ½å·²æ’åºï¼Œé‚£ä¹ˆinplace_mergeå¯å°†å®ƒä»¬ç»“åˆæˆå•ä¸€ä¸€ä¸ªåºåˆ—ï¼Œå¹¶ä»ä¿æœ‰åºæ€§(sorted)ã€‚å¦‚æœåŸå…ˆä¸¤ä¸ªåºåˆ—æ˜¯é€’å¢æ’åºï¼Œæ‰§è¡Œç»“æœä¹Ÿä¼šæ˜¯é€’å¢æ’åºï¼Œå¦‚æœåŸå…ˆä¸¤ä¸ªåºåˆ—æ˜¯é€’å‡æ’åºï¼Œæ‰§è¡Œç»“æœä¹Ÿä¼šæ˜¯é€’å‡æ’åºã€‚</p>
<p>å’Œmergeä¸€æ ·ï¼Œ inplace_mergeä¹Ÿæ˜¯ä¸€ç§ç¨³å®šï¼ˆstableï¼‰æ“ä½œã€‚æ¯ä¸ªä½œä¸ºæ•°æ®æ¥æºçš„å­åºåˆ—ä¸­çš„å…ƒç´ ç›¸å¯¹æ¬¡åºéƒ½ä¸ä¼šå˜åŠ¨ï¼›å¦‚æœä¸¤ä¸ªå­åºåˆ—æœ‰ç­‰åŒçš„å…ƒç´ ï¼Œç¬¬ä¸€åºåˆ—çš„å…ƒç´ ä¼šè¢«æ’åœ¨ç¬¬äºŒåºåˆ—å…ƒç´ ä¹‹å‰ã€‚</p>
<p>inplace_merge æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶å·®åˆ«åœ¨äºå¦‚ä½•å®šä¹‰æŸå…ƒç´ å°äºå¦ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒç‰ˆæœ¬ä½¿ç”¨ä»¿å‡½æ•°ï¼ˆfunctorï¼‰compè¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">inplace_merge</span><span class="params">(BidirectionalIterator first,</span></span></span><br><span class="line"><span class="params"><span class="function">					    BidirectionalIterator middle,</span></span></span><br><span class="line"><span class="params"><span class="function">					    BidirectionalIterator last)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// åªè¦æœ‰ä»»ä½•ä¸€ä¸ªåºåˆ—ä¸ºç©ºï¼Œå°±ä»€ä¹ˆéƒ½ä¸å¿…åš</span></span><br><span class="line">	<span class="keyword">if</span> (first == middle || middle == last) <span class="keyword">return</span>;</span><br><span class="line">	__inplace_merge_aux(first, middle, last, <span class="built_in">value_type</span>(first), <span class="built_in">distance_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> __inplace_merge_aux(BidirectionalIterator first, BidirectionalIterator middle, BidirectionalIterator last, T*, Distance*) &#123;</span><br><span class="line">	Distance len1 = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(first, middle, len1);		<span class="comment">// len1è¡¨ç¤ºåºåˆ—ä¸€çš„é•¿åº¦</span></span><br><span class="line">	Distance len2 = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">distance</span>(middle, last, len2);		<span class="comment">// len2è¡¨ç¤ºåºåˆ—äºŒçš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ³¨æ„ï¼Œæœ¬ç®—æ³•ä¼šä½¿ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´ï¼ˆæš‚æ—¶ç¼“å†²åŒºï¼‰</span></span><br><span class="line">	<span class="function">temporary_buffer&lt;BidirectionalIterator, T&gt; <span class="title">buf</span><span class="params">(first, last)</span></span>;</span><br><span class="line">	<span class="keyword">if</span> (buf.<span class="built_in">begin</span>() == <span class="number">0</span>)	<span class="comment">//å†…å­˜é…ç½®å¤±è´¥</span></span><br><span class="line">		__merge_without_buffer(first, middle, last, len1, len2);</span><br><span class="line">	<span class="keyword">else</span>					<span class="comment">//åœ¨æœ‰æš‚æ—¶ç¼“å†²åŒºçš„æƒ…å†µä¸‹è¿›è¡Œ</span></span><br><span class="line">		__merge_adaptive(first, middle, last, len1, len2, buf.<span class="built_in">begin</span>(), <span class="built_in">Distance</span>(buf.<span class="built_in">size</span>()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç®—æ³•å¦‚æœæœ‰é¢å¤–çš„å†…å­˜ï¼ˆç¼“å†²åŒºï¼‰è¾…åŠ©ï¼Œæ•ˆç‡ä¼šå¥½å¾ˆå¤šã€‚ä½†æ˜¯åœ¨æ²¡æœ‰ç¼“å†²åŒºæˆ–ç¼“å†²åŒºä¸è¶³çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥è¿ä½œã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾…åŠ©å‡½æ•°ã€‚æœ‰ç¼“å†²åŒºçš„æƒ…å†µä¸‹</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>, <span class="keyword">class</span> <span class="title class_">Pointer</span>&gt;</span><br><span class="line"><span class="type">void</span> __merge_adaptive(BidirectionalIterator first, BidirectionalIterator middle, BidirectionalIterator last, Distance len1, Distance len2, Pointer buffer, Distance buffer_size) &#123;</span><br><span class="line">	<span class="keyword">if</span> (len1 &lt;= len2 &amp;&amp; len1 &lt;= buffer_size) &#123;</span><br><span class="line">		<span class="comment">//case1ï¼ç¼“å†²åŒºè¶³å¤Ÿå®‰ç½®åºåˆ—ä¸€</span></span><br><span class="line">		Pointer end_buffer = <span class="built_in">copy</span>(first, middle, buffer);</span><br><span class="line">		<span class="built_in">merge</span>(buffer, end_buffer, middle, last, first);</span><br><span class="line">	&#125;        </span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (len2 &lt;= buffer_size) &#123;</span><br><span class="line">		<span class="comment">//case2ï¼ç¼“å†²åŒºè¶³å¤Ÿå®‰ç½®åºåˆ—äºŒ</span></span><br><span class="line">		Pointer end_buffer = <span class="built_in">copy</span>(middle, last, buffer);</span><br><span class="line">		__merge_backward(first, middle, buffer, end_buffer, last);</span><br><span class="line">    &#125; </span><br><span class="line">	<span class="keyword">else</span> &#123; <span class="comment">// case3. ç¼“å†²åŒºç©ºé—´ä¸è¶³å®‰ç½®ä»»ä½•ä¸€ä¸ªåºåˆ—</span></span><br><span class="line">		BidirectionalIterator first_cut = first;</span><br><span class="line">		BidirectionalIterator second_cut = middle;</span><br><span class="line"> 		Distance len11 = <span class="number">0</span>;</span><br><span class="line">		Distance len22 = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (len1 &gt; len2) &#123;	<span class="comment">//åºåˆ—ä¸€æ¯”è¾ƒé•¿</span></span><br><span class="line">			len11 = len1 / <span class="number">2</span>;</span><br><span class="line">			<span class="built_in">advance</span>(first_cut, len11);</span><br><span class="line">			second_cut = <span class="built_in">lower_bound</span>(middle, last, *first_cut);</span><br><span class="line">			<span class="built_in">distance</span>(middle, second_cut, len22);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;		<span class="comment">//åºåˆ—äºŒæ¯”è¾ƒé•¿</span></span><br><span class="line">			len22 = len2 / <span class="number">2</span>;</span><br><span class="line">			<span class="built_in">advance</span>(second_cut, len22);</span><br><span class="line">			first_cut = <span class="built_in">lower_bound</span>(first, middle, *second_cut);</span><br><span class="line">			<span class="built_in">distance</span>(first, first_cut, len11);</span><br><span class="line">		&#125;</span><br><span class="line">		BidirectionalIterator new_middle =</span><br><span class="line">			__rotate_adaptive(first_cut, middle, second_cut, len1 - len11,</span><br><span class="line">							len2 - len22, buffer, buffer_size);</span><br><span class="line">		<span class="comment">//é’ˆå¯¹å·¦æ®µï¼Œé€’å½’è°ƒç”¨</span></span><br><span class="line">		__merge_adaptive(first, first_cut, new_middle, len11, len22, buffer,</span><br><span class="line">						buffer_size);</span><br><span class="line">		<span class="comment">//é’ˆå¯¹å³æ®µï¼Œé€’å½’è°ƒç”¨</span></span><br><span class="line">		__merge_adaptive(new_middle, second_cut, last, lenl - len11,</span><br><span class="line">						len2 - len22, buffer, buffer_size);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°è¾…åŠ©å‡½æ•°é¦–å…ˆåˆ¤æ–­ç¼“å†²åŒºæ˜¯å¦è¶³ä»¥å®¹çº³ inplace_merge æ‰€æ¥å—çš„ä¸¤ä¸ªåºåˆ—ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚å¦‚æœç©ºé—´å……è£•ï¼ˆæºä»£ç ä¸­æ ‡ç¤ºcase1å’Œ case2ä¹‹å¤„ï¼‰ï¼Œå·¥ä½œé€»è¾‘å¾ˆç®€å•ï¼šæŠŠä¸¤ä¸ªåºåˆ—ä¸­çš„æŸä¸€ä¸ª copy åˆ°ç¼“å†²åŒºä¸­ï¼Œå†ä½¿ç”¨mergeå®Œæˆå…¶ä½™å·¥ä½œã€‚æ˜¯çš„ï¼Œmergeè¶³å ªèƒœä»»ï¼Œå®ƒçš„åŠŸèƒ½å°±æ˜¯å°†ä¸¤ä¸ªæœ‰åºä½†åˆ†ç¦»ï¼ˆsorted and separatedï¼‰çš„åŒºé—´åˆå¹¶ï¼Œå½¢æˆä¸€ä¸ªæœ‰åºåŒºé—´ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€å°† merge çš„ç»“æœç½®æ”¾å¤„ï¼ˆè¿­ä»£å™¨resultï¼‰æŒ‡å®šä¸ºinplace_mergeæ‰€æ¥å—ä¹‹åºåˆ—èµ·å§‹ç‚¹ï¼ˆè¿­ä»£å™¨firstï¼‰å³å¯ã€‚</p>
<p>ä½†æ˜¯å½“ç¼“å†²åŒºä¸è¶³ä»¥å®¹çº³ä»»ä½•ä¸ªåºåˆ—æ—¶ï¼ˆæºä»£ç ä¸­æ ‡ç¤º case3ä¹‹å¤„)ï¼Œæƒ…å†µå°±æ£˜æ‰‹å¤šäº†ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬çš„å¤„ç†åŸåˆ™æ˜¯ï¼Œä»¥é€’å½’åˆ†å‰²( recursive partitioning )çš„æ–¹å¼ï¼Œè®©å¤„ç†é•¿åº¦å‡åŠï¼Œçœ‹çœ‹èƒ½å¦å®¹çº³äºç¼“å†²åŒºä¸­ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾ç¼“å†²åŒºå¤§å°ä¸º3ï¼Œå°äºåºåˆ—ä¸€çš„é•¿åº¦4å’Œåºåˆ—äºŒçš„é•¿åº¦5ï¼Œäºæ˜¯ï¼Œæ‹¿è¾ƒé•¿çš„åºåˆ—äºŒå¼€åˆ€ï¼Œè®¡ç®—å‡ºfirst_cutå’Œ second_cut å¦‚ä¸‹ï¼š</p>
<p><img src="/../img/%E8%AE%A1%E7%AE%97first_cut%E5%92%8Csecond_cut.png" alt="è®¡ç®—first_cutå’Œsecond_cut"></p>
<p>ç„¶åé’ˆå¯¹ä¸Šå›¾çš„æ·¡è“è‰²é˜´å½±éƒ¨åˆ†ï¼ˆ{7, 2, 4}ï¼‰æ‰§è¡Œæ—‹è½¬æ“ä½œï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">BidirectionalIterator new_middle =</span><br><span class="line">	__rotate_adaptive(first_cut, middle, second_cut, len1 - len11,</span><br><span class="line">					 len22, buffer, buffer_size);</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIterator1</span>, <span class="keyword">class</span> <span class="title class_">BidirectionalIterator2</span>, <span class="keyword">class</span> <span class="title class_">Distance</span>&gt;</span><br><span class="line">Bidirectionallterator1 __rotate_adaptive(Bidirectionallterator1 first, BidirectionalIterator1 middle, BidirectionalIterator1 last, Distance len1, Distance len2, BidirectionalIterator2 buffer, Distance buffer_size) &#123;</span><br><span class="line">	BidirectionalIterator2 buffer_end;</span><br><span class="line">	<span class="keyword">if</span> (lenl &gt; len2 &amp;&amp; len2 &lt;= buffer_size) &#123;<span class="comment">//ç¼“å†²åŒºè¶³å¤Ÿå®‰ç½®åºåˆ—äºŒï¼ˆè¾ƒçŸ­ï¼‰</span></span><br><span class="line">		buffer_end = <span class="built_in">copy</span>(middle, last, buffer);</span><br><span class="line">		<span class="built_in">copy_backward</span>(first, middle, last);</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">copy</span>(buffer, buffer_end, first);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (len1 &lt;= buffer_size) &#123;		<span class="comment">//ç¼“å†²åŒºè¶³å¤Ÿå®‰ç½®åºåˆ—ä¸€	</span></span><br><span class="line">		buffer_end = <span class="built_in">copy</span>(first, middle, buffer);</span><br><span class="line">		<span class="built_in">copy</span>(middle, last, first);</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">copy_backward</span>(buffer, buffer_end, last);</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="comment">//ç¼“å†²åŒºä»ç„¶ä¸è¶³ï¼æ”¹ç”¨rotateç®—æ³•ï¼ˆä¸éœ€ç¼“å†²åŒºï¼‰</span></span><br><span class="line">		<span class="built_in">rotate</span>(first, middle, last);</span><br><span class="line">		<span class="built_in">advance</span>(first, len2);</span><br><span class="line">		<span class="keyword">return</span> first;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡è¿™æ ·çš„å¤„ç†ï¼ŒåŸåºåˆ—å˜æˆé‡Œï¼š</p>
<p><img src="/../img/new_middle.png" alt="new_middle"></p>
<p>ç°åœ¨å¯ä»¥åˆ†æ®µå¤„ç†äº†ã€‚é¦–å…ˆé’ˆå¯¹å·¦æ®µ[first, first_cut, new_middle)ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾çš„æ·¡è“è‰²é˜´å½±éƒ¨åˆ†{1, 3, 5, 2, 4}ï¼Œåšé€’å½’è°ƒç”¨ï¼š</p>
<p><img src="/../img/%E5%B7%A6%E6%AE%B5%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8.png" alt="å·¦æ®µé€’å½’è°ƒç”¨"></p>
<p>å†é’ˆå¯¹å³æ®µ[new_middle, second_cut, last)ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾çš„æ·¡è“è‰²é˜´å½±éƒ¨åˆ†{7, 6, 8, 10}ï¼Œåšé€’å½’è°ƒç”¨ï¼š</p>
<p><img src="/../img/%E5%8F%B3%E6%AE%B5%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8.png" alt="å³æ®µé€’å½’è°ƒç”¨"></p>
<h4 id="nth-element"><a href="#nth-element" class="headerlink" title="nth_element"></a>nth_element</h4><p>è¯¥ç®—æ³•ä¼šé‡æ–°æ’åˆ—[first, last)ï¼Œä½¿æ’åºåç¬¬nä¸ªè¿­ä»£å™¨ï¼ˆnthï¼‰æ‰€æŒ‡çš„å…ƒç´ ï¼Œä¸â€œæ•´ä¸ª[first, last)åºåˆ—å®Œæ•´æ’åºåï¼Œç¬¬nä¸ªä½ç½®çš„å…ƒç´ â€åŒå€¼ã€‚æ­¤å¤–ï¼Œè¿˜ä¿è¯æ’åºå‰ç¬¬nä¸ªå…ƒç´ å¯ä»¥åœ¨æ’åºååˆ†å‰²æ•´ä¸ªåºåˆ—ï¼ˆå³å·¦ä¾§[first, nth)çš„å…ƒç´ å…¨éƒ¨ä¸å¤§äºå³ä¾§[nth, last)çš„å…ƒç´ ï¼‰ï¼Œä½†å¯¹äº[first, nth)å’Œ[nth, last)ä¸¤ä¸ªå­åŒºé—´å†…çš„å…ƒç´ æ¬¡åºåˆ™æ— ä»»ä½•ä¿è¯ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æœ‰åºåˆ—{22, 30, 30, 17, 33, 40, 17, 23, 22, 12, 20}ï¼Œä»¥ä¸‹æ“ä½œï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nth_element</span>(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">begin</span>() + <span class="number">5</span>, iv.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<p>ä¾¿æ˜¯å°†å°äº*(iv.begin() + 5)ï¼ˆæœ¬ä¾‹ä¸º40ï¼‰çš„å…ƒç´ ç½®äºè¯¥å…ƒç´ ä¹‹å·¦ï¼Œå…¶ä½™ç½®äºè¯¥å…ƒç´ ä¹‹å³ï¼Œå¹¶ä¸”ä¸ä¿è¯ç»´æŒåŸæœ‰çš„ç›¸å¯¹ä½ç½®ã€‚è·å¾—çš„ç»“æœä¸º{20, 12, 22, 17, 17, 22, 23, 30, 30, 33, 40}ã€‚æ‰§è¡Œå®Œæ¯•åçš„ç¬¬5ä¸ªä½ç½®ä¸Šçš„å…ƒç´ å€¼22ï¼Œä¸æ•´ä¸ªåºåˆ—å®Œæ•´æ’åºå{12, 17, 17, 20, 22, 22, 23, 30, 30, 33, 40}çš„ç¬¬5ä¸ªä½ç½®ä¸Šçš„å…ƒç´ å€¼ç›¸åŒã€‚</p>
<p>å¦‚æœä»¥ä¸Šè¿°ç»“æœ{20, 12, 22,17,17, 22, 23, 30, 30, 33, 40}ä¸ºæ ¹æ®ï¼Œå†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nth_element</span>(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">begin</span>() + <span class="number">5</span>, iv.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br></pre></td></tr></table></figure>

<p>é‚£ä¾¿æ˜¯å°†å¤§äº*(iv.begin() + 5)ï¼ˆæœ¬ä¾‹ä¸º22ï¼‰çš„å…ƒç´ ç½®äºè¯¥å…ƒç´ ä¹‹å·¦ï¼Œå…¶ä½™ç½®äºè¯¥å…ƒç´ ä¹‹å³ï¼Œå¹¶ä¸”ä¸ä¿è¯ç»´æŒåŸæœ‰çš„ç›¸å¯¹ä½ç½®ã€‚è·å¾—çš„ç»“æœä¸º{40, 33, 30, 30, 23, 22, 17, 17, 22, 12, 20}ã€‚</p>
<p>ç”±äºnth_element æ¯”partial_sortçš„ä¿è¯æ›´å°‘ï¼ˆæ˜¯çš„ï¼Œå®ƒä¸ä¿è¯ä¸¤ä¸ªå­åºåˆ—å†…çš„ä»»ä½•æ¬¡åºï¼‰ï¼Œæ‰€ä»¥å®ƒå½“ç„¶åº”è¯¥æ¯”partial_sortè¾ƒå¿«ã€‚</p>
<p>nth_elementæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶å·®å¼‚åœ¨äºå¦‚ä½•å®šä¹‰æŸä¸ªå…ƒç´ å°äºå¦ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ç‰ˆæœ¬ä½¿ç”¨operator&lt;è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒä¸ªç‰ˆæœ¬ä½¿ç”¨ä»¿å‡½æ•°compè¿›è¡Œæ¯”è¾ƒã€‚æ³¨æ„ï¼Œè¿™ä¸ªç®—æ³•åªæ¥å—RandomAccesslteratorã€‚</p>
<p>nth_elementçš„åšæ³•æ˜¯ï¼Œä¸æ–­åœ°ä»¥median-of-3 partitioningï¼ˆä»¥é¦–ã€å°¾ã€ä¸­å¤®ä¸‰ç‚¹ä¸­å€¼ä¸ºæ¢è½´ä¹‹åˆ†å‰²æ³•ï¼‰å°†æ•´ä¸ªåºåˆ—åˆ†å‰²ä¸ºæ›´å°çš„å·¦(L)ã€å³(R)å­åºåˆ—ã€‚å¦‚æœnthè¿­ä»£å™¨è½äºå·¦å­åºåˆ—ï¼Œå°±å†å¯¹å·¦å­åºåˆ—è¿›è¡Œåˆ†å‰²ï¼Œå¦åˆ™å°±å†å¯¹å³å­åºåˆ—è¿›è¡Œåˆ†å‰²ã€‚ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°åˆ†å‰²åçš„å­åºåˆ—é•¿åº¦ä¸å¤§äº3ï¼ˆå¤Ÿå°äº†ï¼‰ï¼Œä¾¿å¯¹æœ€åè¿™ä¸ªå¾…åˆ†å‰²çš„å­åºåˆ—åšInsertion Sortï¼Œå¤§åŠŸå‘Šæˆã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">nth_element</span><span class="params">(RandomAccessIterator first, RandomAccessIterator nth, RandormAccessIterator last)</span> </span>&#123;</span><br><span class="line">	__nth_element(first, nth, last, <span class="built_in">value_type</span>(first));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰ˆæœ¬ä¸€è¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">RandomAccessIterator</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> __nth_element(RandomAccessIterator first, RandomAccessIterator nth, RandomAccessIterator last, T*) &#123;</span><br><span class="line">	<span class="keyword">while</span> (last - first &gt; <span class="number">3</span>) &#123;		<span class="comment">//é•¿åº¦è¶…è¿‡3</span></span><br><span class="line">		<span class="comment">//é‡‡ç”¨median-of-3 partitioningã€‚å‚æ•°:(first, last, pivot)</span></span><br><span class="line">		<span class="comment">//è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘åˆ†å‰²åçš„å³æ®µç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">		RandomAccessIterator cut = __unguarded_partition(first, last, <span class="built_in">T</span>(__median(*first, *(first + (last - first)/<span class="number">2</span>), *(last - <span class="number">1</span>))));</span><br><span class="line">		<span class="keyword">if</span> (cut &lt;= nth)		<span class="comment">//å¦‚æœå³æ®µèµ·ç‚¹&lt;=æŒ‡å®šä½ç½®(nthè½äºå³æ®µ</span></span><br><span class="line">			first = cut;	<span class="comment">//å†å¯¹å³æ®µå®æ–½åˆ†å‰²(partitioning)</span></span><br><span class="line">		<span class="keyword">else</span>				<span class="comment">//å¦åˆ™(nthè½äºå·¦æ®µ)</span></span><br><span class="line">			last = cut;		 <span class="comment">//å¯¹å·¦æ®µå®æ–½åˆ†å‰²(partitioning)</span></span><br><span class="line">	&#125;</span><br><span class="line">	__insertion_sort(first, last);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="merge-sort"><a href="#merge-sort" class="headerlink" title="merge sort"></a>merge sort</h4><p>æ—¢ç„¶æˆ‘ä»¬çŸ¥é“ï¼Œå°†ä¸¤ä¸ªæœ‰åºï¼ˆsortedï¼‰åŒºé—´å½’å¹¶æˆä¸€ä¸ªæœ‰åºåŒºé—´ï¼Œæ•ˆæœä¸é”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨â€œåˆ†è€Œæ²»ä¹‹â€( devide and conquer )â€çš„æ¦‚å¿µï¼Œä»¥å„ä¸ªå‡»ç ´çš„æ–¹å¼æ¥å¯¹ä¸€ä¸ªåŒºé—´è¿›è¡Œæ’åºã€‚é¦–å…ˆï¼Œå°†åŒºé—´å¯¹åŠåˆ†å‰²ï¼Œå·¦å³ä¸¤æ®µå„è‡ªæ’åºï¼Œå†åˆ©ç”¨inplace_mergeé‡æ–°ç»„åˆä¸ºä¸€ä¸ªå®Œæ•´çš„æœ‰åºåºåˆ—ã€‚å¯¹åŠåˆ†å‰²çš„æ“ä½œå¯ä»¥é€’å½’è¿›è¡Œï¼Œç›´åˆ°æ¯ä¸€å°æ®µçš„é•¿åº¦ä¸º0æˆ–1ï¼ˆé‚£ä¹ˆè¯¥å°æ®µä¹Ÿå°±è‡ªåŠ¨å®Œæˆäº†æ’åºï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">BidirectionalIter</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergesort</span><span class="params">(BidirectionalIter first, BidirectionalIter last)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">typename</span> iterator_traits&lt;BidirectionalIter&gt;::difference_type n = <span class="built_in">distance</span>(first, last);</span><br><span class="line">	<span class="keyword">if</span> (n == <span class="number">0</span> || n == <span class="number">1</span>)</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		BidirectionalIter mid = first + n / <span class="number">2</span>;</span><br><span class="line">		<span class="built_in">mergesort</span>(first, mid);</span><br><span class="line">		<span class="built_in">mergesort</span>(mid, last);</span><br><span class="line">		<span class="built_in">inplace_merge</span>(first, mid, last);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Merge Sortçš„å¤æ‚åº¦ä¸ºO(N logN)ã€‚è™½ç„¶è¿™å’ŒQuick Sortæ˜¯ä¸€æ ·çš„ï¼Œä½†å› ä¸ºMerge Sortéœ€å€Ÿç”¨é¢å¤–çš„å†…å­˜ï¼Œè€Œä¸”åœ¨å†…å­˜ä¹‹é—´ç§»åŠ¨ï¼ˆå¤åˆ¶ï¼‰æ•°æ®ä¹Ÿä¼šè€—è´¹ä¸å°‘æ—¶é—´ï¼Œæ‰€ä»¥Merge Sortçš„æ•ˆç‡æ¯”ä¸ä¸Š Quick Sortã€‚å®ç°ç®€å•ã€æ¦‚å¿µç®€å•ï¼Œæ˜¯Merge Sortçš„ä¸¤å¤§ä¼˜ç‚¹ã€‚	</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://example.com">lzl121373</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2022/04/08/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%85%AD%E7%AB%A0/">http://example.com/2022/04/08/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%85%AD%E7%AB%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">ğŸ˜Š</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/STL/">STL</a><a class="post-meta__tags" href="/tags/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/">STLæºç å‰–æ</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></div><div class="post_share"><div class="social-share" data-image="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/09/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%85%AB%E7%AB%A0/"><img class="prev-cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">&lt;STLæºç å‰–æ&gt;ç¬¬å…«ç« â€”â€”é…æ¥å™¨</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/02/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%BA%94%E7%AB%A0/"><img class="next-cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">&lt;STLæºç å‰–æ&gt;ç¬¬äº”ç« â€”â€”å…³è”å¼å®¹å™¨</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/03/21/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%B8%80%E4%BA%8C%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬ä¸€äºŒç« â€”â€”allocator"><img class="cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-21</div><div class="title">&lt;STLæºç å‰–æ&gt;ç¬¬ä¸€äºŒç« â€”â€”allocator</div></div></a></div><div><a href="/2022/05/09/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%B8%83%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬ä¸ƒç« â€”â€”ä»¿å‡½æ•°"><img class="cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-09</div><div class="title">&lt;STLæºç å‰–æ&gt;ç¬¬ä¸ƒç« â€”â€”ä»¿å‡½æ•°</div></div></a></div><div><a href="/2022/03/23/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%B8%89%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬ä¸‰ç« â€”â€”è¿­ä»£å™¨"><img class="cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-23</div><div class="title">&lt;STLæºç å‰–æ&gt;ç¬¬ä¸‰ç« â€”â€”è¿­ä»£å™¨</div></div></a></div><div><a href="/2022/04/02/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%BA%94%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬äº”ç« â€”â€”å…³è”å¼å®¹å™¨"><img class="cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-02</div><div class="title">&lt;STLæºç å‰–æ&gt;ç¬¬äº”ç« â€”â€”å…³è”å¼å®¹å™¨</div></div></a></div><div><a href="/2022/05/09/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%85%AB%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬å…«ç« â€”â€”é…æ¥å™¨"><img class="cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-09</div><div class="title">&lt;STLæºç å‰–æ&gt;ç¬¬å…«ç« â€”â€”é…æ¥å™¨</div></div></a></div><div><a href="/2022/03/26/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E5%9B%9B%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬å››ç« â€”â€”åºåˆ—å¼å®¹å™¨"><img class="cover" src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-26</div><div class="title">&lt;STLæºç å‰–æ&gt;ç¬¬å››ç« â€”â€”åºåˆ—å¼å®¹å™¨</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">lzl121373</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">51</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lzl121373" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%AE%97%E6%B3%95-lt-stl-numeric-h-gt"><span class="toc-number">1.1.</span> <span class="toc-text">æ•°å€¼ç®—æ³•&lt;stl_numeric.h&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#accumulate"><span class="toc-number">1.1.1.</span> <span class="toc-text">accumulate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#adjacent-difference"><span class="toc-number">1.1.2.</span> <span class="toc-text">adjacent_difference</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#inner-producct"><span class="toc-number">1.1.3.</span> <span class="toc-text">inner_producct</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#partial-sum"><span class="toc-number">1.1.4.</span> <span class="toc-text">partial_sum</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#power"><span class="toc-number">1.1.5.</span> <span class="toc-text">power</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#itoa"><span class="toc-number">1.1.6.</span> <span class="toc-text">itoa</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95-lt-stl-algobase-h-gt"><span class="toc-number">1.2.</span> <span class="toc-text">åŸºæœ¬ç®—æ³•&lt;stl_algobase.h&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#equal"><span class="toc-number">1.2.1.</span> <span class="toc-text">equal</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fill"><span class="toc-number">1.2.2.</span> <span class="toc-text">fill</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fill-n"><span class="toc-number">1.2.3.</span> <span class="toc-text">fill_n</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iter-swap"><span class="toc-number">1.2.4.</span> <span class="toc-text">iter_swap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lexicographical-compare"><span class="toc-number">1.2.5.</span> <span class="toc-text">lexicographical_compare</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#max"><span class="toc-number">1.2.6.</span> <span class="toc-text">max</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#min"><span class="toc-number">1.2.7.</span> <span class="toc-text">min</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mismatch"><span class="toc-number">1.2.8.</span> <span class="toc-text">mismatch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#swap"><span class="toc-number">1.2.9.</span> <span class="toc-text">swap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#copy"><span class="toc-number">1.2.10.</span> <span class="toc-text">copy</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#copy%E7%AE%97%E6%B3%95%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82"><span class="toc-number">1.2.10.1.</span> <span class="toc-text">copyç®—æ³•çš„å®ç°ç»†èŠ‚</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#copy-backward"><span class="toc-number">1.2.11.</span> <span class="toc-text">copy_backward</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">setç›¸å…³ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set-union"><span class="toc-number">1.3.1.</span> <span class="toc-text">set_union</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set-intersection"><span class="toc-number">1.3.2.</span> <span class="toc-text">set_intersection</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set-difference"><span class="toc-number">1.3.3.</span> <span class="toc-text">set_difference</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set-symmetric-difference"><span class="toc-number">1.3.4.</span> <span class="toc-text">set_symmetric_difference</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E7%AE%97%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">å…¶å®ƒç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E7%BA%AF%E7%9A%84%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number">1.4.1.</span> <span class="toc-text">å•çº¯çš„æ•°æ®å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#adjacent-find"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">adjacent_find</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#count"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">count</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#count-if"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">count_if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#find"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">find</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#find-if"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">find_if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#find-end"><span class="toc-number">1.4.1.6.</span> <span class="toc-text">find_end</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#find-first-of"><span class="toc-number">1.4.1.7.</span> <span class="toc-text">find_first_of</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-each"><span class="toc-number">1.4.1.8.</span> <span class="toc-text">for_each</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#generate"><span class="toc-number">1.4.1.9.</span> <span class="toc-text">generate</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#generate-n"><span class="toc-number">1.4.1.10.</span> <span class="toc-text">generate_n</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#includes%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.1.11.</span> <span class="toc-text">includesï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#max-element"><span class="toc-number">1.4.1.12.</span> <span class="toc-text">max_element</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#merge%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.1.13.</span> <span class="toc-text">mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#min-element"><span class="toc-number">1.4.1.14.</span> <span class="toc-text">min_element</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#partition"><span class="toc-number">1.4.1.15.</span> <span class="toc-text">partition</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#remove-%E7%A7%BB%E9%99%A4%EF%BC%88%E4%BD%86%E4%B8%8D%E5%88%A0%E9%99%A4%EF%BC%89"><span class="toc-number">1.4.1.16.</span> <span class="toc-text">remove ç§»é™¤ï¼ˆä½†ä¸åˆ é™¤ï¼‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#remove-copy"><span class="toc-number">1.4.1.17.</span> <span class="toc-text">remove_copy</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#remove-if"><span class="toc-number">1.4.1.18.</span> <span class="toc-text">remove_if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#remove-copy-if"><span class="toc-number">1.4.1.19.</span> <span class="toc-text">remove_copy_if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace"><span class="toc-number">1.4.1.20.</span> <span class="toc-text">replace</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace-copy"><span class="toc-number">1.4.1.21.</span> <span class="toc-text">replace_copy</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace-if"><span class="toc-number">1.4.1.22.</span> <span class="toc-text">replace_if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace-copy-if"><span class="toc-number">1.4.1.23.</span> <span class="toc-text">replace_copy_if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#reverse"><span class="toc-number">1.4.1.24.</span> <span class="toc-text">reverse</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#reverse-copy"><span class="toc-number">1.4.1.25.</span> <span class="toc-text">reverse_copy</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#rotate"><span class="toc-number">1.4.1.26.</span> <span class="toc-text">rotate</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#rotate-copy"><span class="toc-number">1.4.1.27.</span> <span class="toc-text">rotate_copy</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#search"><span class="toc-number">1.4.1.28.</span> <span class="toc-text">search</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#search-n"><span class="toc-number">1.4.1.29.</span> <span class="toc-text">search_n</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#swap-ranges"><span class="toc-number">1.4.1.30.</span> <span class="toc-text">swap_ranges</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#transform"><span class="toc-number">1.4.1.31.</span> <span class="toc-text">transform</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#unique"><span class="toc-number">1.4.1.32.</span> <span class="toc-text">unique</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#unique-copy"><span class="toc-number">1.4.1.33.</span> <span class="toc-text">unique_copy</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lower-bound%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.2.</span> <span class="toc-text">lower_boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#upper-bound%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.3.</span> <span class="toc-text">upper_boundï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#binary-search%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.4.</span> <span class="toc-text">binary_searchï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#next-permutation"><span class="toc-number">1.4.5.</span> <span class="toc-text">next_permutation</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88%EF%BC%9F"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯æ’åˆ—ç»„åˆï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.4.6.</span> <span class="toc-text">ç®—æ³•å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#prev-permutation"><span class="toc-number">1.4.7.</span> <span class="toc-text">prev_permutation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0-1"><span class="toc-number">1.4.8.</span> <span class="toc-text">ç®—æ³•å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#random-shuffle"><span class="toc-number">1.4.9.</span> <span class="toc-text">random_shuffle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#partial-sort-x2F-partial-sort-copy"><span class="toc-number">1.4.10.</span> <span class="toc-text">partial_sort &#x2F; partial_sort_copy</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0-2"><span class="toc-number">1.4.10.1.</span> <span class="toc-text">ç®—æ³•å®ç°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort"><span class="toc-number">1.4.11.</span> <span class="toc-text">sort</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Insertion-Sort"><span class="toc-number">1.4.11.1.</span> <span class="toc-text">Insertion Sort</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Quick-Sort"><span class="toc-number">1.4.11.2.</span> <span class="toc-text">Quick Sort</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Median-of-Three%EF%BC%88%E4%B8%89%E7%82%B9%E4%B8%AD%E5%80%BC%EF%BC%89"><span class="toc-number">1.4.11.2.1.</span> <span class="toc-text">Median-of-Threeï¼ˆä¸‰ç‚¹ä¸­å€¼ï¼‰</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Partitioning%EF%BC%88%E5%88%86%E5%89%B2%EF%BC%89"><span class="toc-number">1.4.11.2.2.</span> <span class="toc-text">Partitioningï¼ˆåˆ†å‰²ï¼‰</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#threshold%EF%BC%88%E9%98%88%E5%80%BC%EF%BC%89"><span class="toc-number">1.4.11.2.3.</span> <span class="toc-text">thresholdï¼ˆé˜ˆå€¼ï¼‰</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#final-insertion-sort"><span class="toc-number">1.4.11.2.4.</span> <span class="toc-text">final insertion sort</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#introsort"><span class="toc-number">1.4.11.2.5.</span> <span class="toc-text">introsort</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#SGI-STL-sort"><span class="toc-number">1.4.11.2.6.</span> <span class="toc-text">SGI STL sort</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#equal-range%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.12.</span> <span class="toc-text">equal_rangeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#inplace-merge%EF%BC%88%E5%BA%94%E7%94%A8%E4%BA%8E%E6%9C%89%E5%BA%8F%E5%8C%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.4.13.</span> <span class="toc-text">inplace_mergeï¼ˆåº”ç”¨äºæœ‰åºåŒºé—´ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nth-element"><span class="toc-number">1.4.14.</span> <span class="toc-text">nth_element</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#merge-sort"><span class="toc-number">1.4.15.</span> <span class="toc-text">merge sort</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/25/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬å››éƒ¨åˆ†"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬å››éƒ¨åˆ†"/></a><div class="content"><a class="title" href="/2022/09/25/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬å››éƒ¨åˆ†">&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬å››éƒ¨åˆ†</a><time datetime="2022-09-24T16:00:00.000Z" title="å‘è¡¨äº 2022-09-25 00:00:00">2022-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/28/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸‰éƒ¨åˆ†"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸‰éƒ¨åˆ†"/></a><div class="content"><a class="title" href="/2022/08/28/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸‰éƒ¨åˆ†">&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸‰éƒ¨åˆ†</a><time datetime="2022-08-27T16:00:00.000Z" title="å‘è¡¨äº 2022-08-28 00:00:00">2022-08-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/29/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬äºŒéƒ¨åˆ†"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬äºŒéƒ¨åˆ†"/></a><div class="content"><a class="title" href="/2022/05/29/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬äºŒéƒ¨åˆ†">&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬äºŒéƒ¨åˆ†</a><time datetime="2022-05-28T16:00:00.000Z" title="å‘è¡¨äº 2022-05-29 00:00:00">2022-05-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/13/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸€éƒ¨åˆ†"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸€éƒ¨åˆ†"/></a><div class="content"><a class="title" href="/2022/05/13/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86/" title="&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸€éƒ¨åˆ†">&lt;Redisè®¾è®¡ä¸å®ç°&gt;ç¬¬ä¸€éƒ¨åˆ†</a><time datetime="2022-05-12T16:00:00.000Z" title="å‘è¡¨äº 2022-05-13 00:00:00">2022-05-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/09/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%B8%83%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬ä¸ƒç« â€”â€”ä»¿å‡½æ•°"><img src="/../img/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="&lt;STLæºç å‰–æ&gt;ç¬¬ä¸ƒç« â€”â€”ä»¿å‡½æ•°"/></a><div class="content"><a class="title" href="/2022/05/09/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC%E4%B8%83%E7%AB%A0/" title="&lt;STLæºç å‰–æ&gt;ç¬¬ä¸ƒç« â€”â€”ä»¿å‡½æ•°">&lt;STLæºç å‰–æ&gt;ç¬¬ä¸ƒç« â€”â€”ä»¿å‡½æ•°</a><time datetime="2022-05-08T16:00:00.000Z" title="å‘è¡¨äº 2022-05-09 00:00:00">2022-05-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By lzl121373</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>